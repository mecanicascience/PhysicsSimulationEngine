var pSEngine=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=10)}([function(t,e,i){"use strict";i(1);class s{constructor(t,e,i,s="rgb(255, 255, 255)",r,n=1.3){this.x=t||0,this.y=e||0,this.z=i||0,this.color=s,this.setName(r,s,n)}set(t,e,i){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=e||0,this.z=i||0,this)}setName(t,e,i=1.3){return null==t||(t instanceof pSText?this.name=t:this.name=new pSText(t,this,i,e)),this}equals(t,e,i){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==e&&this.z==i}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,e,i){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=e||0,this.z+=i||0,this)}sub(t,e,i){return t instanceof s?this.sub(t.x,t.y,t.z):this.add(-t,-e,-i)}mult(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("Vector::mult()","c is undefined or isn't a finite number"),this)}div(t){return"number"==typeof t&&isFinite(t)?0==t?(console.error("Cannot divide by 0"),this):this.mult(1/t):(console.warn("Vector::div()","c is undefined or isn't a finite number"),this)}static add(t,e){return t.copy().add(e)}static sub(t,e){return t.copy().sub(e)}static mult(t,e){return t.copy().mult(e)}static div(t,e){return t.copy().div(e)}dot(t,e,i){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,e){let i=this.mag();return i<t&&this.div(i).mult(t),i>e&&this.div(i).mult(e),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const e=this.getAngle()+t,i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,e){return s.sub(t,e).mag()}static dot(t,e,i,s){return t.copy().dot(e,i,s)}static cross(t,e){return t.copy().cross(e)}static normalize(t){return t.copy().normalize()}static rotate(t,e){return t.copy().rotate(e)}draw(t,e,i){null!=t?s.draw(t,this,this.color,e,i):s.draw(void 0,this,this.color,e,i)}static draw(t=new s,e,i="rgb(255, 255, 255)",r=5,n=1){let o=_pSimulationInstance.plotter;if(_pSimulationInstance.config.engine.plotter.is_3D)r/=3,push(),o.drawer.stroke(i).strokeWeight(n).fill(i),null!=t&&o.drawer.translate(t.x,t.y,t.z),o.drawer.line(0,0,0,e.x,e.y,e.z),pop();else{push(),o.drawer.stroke(i).strokeWeight(n).fill(i).line(t.x,t.y,t.x+e.x,t.y+e.y);let s=o.computeForXYZ(t.x,t.y,t.z,!1);translate(s.x,s.y),push();let a=o.computeForXYZ(0,0,0),h=o.computeForXYZ(e.x,e.y,e.z);if(translate(h.x,h.y),rotate(h.sub(a).getAngle()),translate(-r-2,0),triangle(0,r/2,0,-r/2,r,0),pop(),null!=e.name){let t=e.getAngle();t<0&&(t+=2*PI);let s=.01*e.name.svgImg.width;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(s*=-1);let r=.01*e.name.svgImg.height;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(r*=-1),e.name.setColor(i).draw(e.name.pos.copy().div(2).add(s,r))}pop()}return this}}e.a=s},function(t,e,i){"use strict";e.a=class{constructor(t,e=new Vector,i=1,s="#FFFFFF",r=!1){null==window.MathJax&&console.error("You must import MathJax.js >=3.0.0 in order to use Text and Tex strings."),this.textSize=i,this.color=s,this.pos=e,this.showHitbox=r,this.setText(t)}draw(t){let e=_pSimulationInstance.plotter.drawer,i=e.plotter.computeForXYZ(this.pos.x,this.pos.y);if(null!=t&&(i=e.plotter.computeForXYZ(t.x,t.y)),push(),translate(-this.svgImg.width/2,-this.svgImg.height/2),image(this.svgImg,i.x,i.y,this.svgImg.width,this.svgImg.height),this.showHitbox){let t=this.svgImg.height,s=this.svgImg.width;e.stroke(this.color).strokeWeight(1).noFill(),line(i.x,i.y,i.x+s,i.y),line(i.x,i.y+t,i.x+s,i.y+t),line(i.x,i.y+t,i.x,i.y),line(i.x+s,i.y+t,i.x+s,i.y)}pop()}setText(t){this.text=t;let e="<svg"+MathJax.tex2svg(this.text,{display:!0,em:12,ex:6,containerWidth:480,lineWidth:1e5,scale:1}).innerHTML.split("<svg")[1].split("</svg>")[0]+"</svg>";return e=e.replace(/<g/g,'<g color="'+this.color+'"').replace(/width="(.*?)"/,'width="'+parseFloat(/width="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"').replace(/height="(.*?)"/,'height="'+parseFloat(/height="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"'),this.svgImg=loadImage(URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))),this}setPosition(t,e){return this.pos.x=t,this.pos.y=e,this}setColor(t){return this.color=t,this}}},function(t,e,i){"use strict";e.a=class{constructor(t){this.plotter=null,this.stack=[{t:new Vector(0,0),r:0,s:1}]}point(t,e){let i=this.plotter.computeForXYZ(t,e);return point(i.x,i.y),this}line(t,e,i,s){let r=this.plotter.computeForXYZ(t,e),n=this.plotter.computeForXYZ(i,s);return line(r.x,r.y,n.x,n.y),this}setLineDash(t=5,e=5){return drawingContext.setLineDash([t,e]),this}clearLineDash(){return drawingContext.setLineDash([]),this}ellipse(t,e,i,s,r=!1){let n=this.plotter.computeForXYZ(t,e);if(null==s&&(s=i),r)ellipse(n.x,n.y,i,s);else{let r=this.plotter.computeForXYZ(i,s,0,!1);push(),this.translate(t,e),ellipse(0,0,2*r.x,2*r.y),pop()}return this}circle(t,e,i,s=!1){return this.ellipse(t,e,i,i,s)}rect(t,e,i,s,r=!1){if(!r)return this.beginShape().vertex(t+i,e).vertex(t+i,e+s).vertex(t,e+s).vertex(t,e).endShape(CLOSE);let n=this.plotter.computeForXYZ(t,e);return rect(n.x,n.y,i,s),this}arc(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e),a=this.plotter.computeForXYZ(i,s,0,!1);return arc(o.x,o.y,a.x,a.y,-n,-r),this}stroke(t,e,i,s){return null==s?null==i?null==e?stroke(t):stroke(t,e):stroke(t,e,i):stroke(`rgba(${t}, ${e}, ${i}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,e,i,s){return null==s?null==i?null==e?fill(t):fill(t,e):fill(t,e,i):fill(`rgba(${t}, ${e}, ${i}, ${s})`),this}beginShape(t){return beginShape(t),this}bezier(t,e,i,s,r,n,o,a){let h=_pSimulationInstance.plotter.computeForXYZ(t,e),l=_pSimulationInstance.plotter.computeForXYZ(i,s),u=_pSimulationInstance.plotter.computeForXYZ(r,n),c=_pSimulationInstance.plotter.computeForXYZ(o,a);return bezier(h.x,h.y,l.x,l.y,u.x,u.y,c.x,c.y),this}vertex(t,e){let i=this.plotter.computeForXYZ(t,e);return vertex(i.x,i.y),this}endShape(t){return endShape(t),this}push(){return this.stack.push({t:this.stack[this.stack.length-1].t.copy(),r:this.stack[this.stack.length-1].r+0,s:this.stack[this.stack.length-1].s+0}),push(),this}pop(){return this.stack.pop(),pop(),this}translate(t,e){return this.stack[this.stack.length-1].t.add(t,e),this}rotate(t){return this.stack[this.stack.length-1].r+=t,this}scale(t){return this.stack[this.stack.length-1].s*=t,this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,e,i){"use strict";var s=class{constructor(t,e){this.scaleTime=1,this.isAnimating=!1,this.initialT=0,this.datas=e,this.timeLength=t,this.lastKey=this.getKey(this.update)/this.scaleTime}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}getKey(t){let e=(new Date).getTime()/1e3-this.initialT;return e>this.timeLength?this.finalDraw(this):(this.lastKey=t(e,this)/this.scaleTime,this.lastKey)}updateKey(){return this.getKey(this.update)}drawKey(){return this.getKey(this.draw)}update(){}draw(){}};var r=class extends s{constructor(t,e){super(t,e),this.i=-1,this.currentShape=this.nextShape(e),this.localDt=0}nextShape(t){this.i++;let e=this.i+1;return e>t.length-1&&(e=0),[t[this.i],t[e]]}update(t,e){}draw(t,e){let i=e.timeLength/e.datas.length;null!=e.currentShape[0]&&null!=e.currentShape[1]&&t-e.localDt>=i&&(e.currentShape=e.nextShape(e.datas),e.localDt+=i),e.drawCurrentShape(e.datas,(t,e,i,s)=>{let r=1;return t==i&&(r=e/s),r},e,e.i+1,t-e.localDt,i)}finalDraw(t){this.drawCurrentShape(this.datas,()=>1,this,this.datas.length,0)}drawCurrentShape(t,e,i,s,r,n){for(let o=0;o<s;o++){let s=e(o,r,i.i,n),a=o+1;a>=t.length&&(a=0),_pSimulationInstance.plotter.drawer.noFill().strokeWeight(3).stroke(255).line(t[o].pos.x,t[o].pos.y,t[o].pos.x+(t[a].pos.x-t[o].pos.x)*s,t[o].pos.y+(t[a].pos.y-t[o].pos.y)*s)}}};var n=class extends s{constructor(t,e){super(t,e),null==this.datas.min&&(this.datas.min=0),null==this.datas.max&&(this.datas.max=1)}update(t,e){let i=t/e.timeLength;return i<.5?2*i*i*(e.datas.max-e.datas.min)+e.datas.min:((4-2*i)*i-1)*(e.datas.max-e.datas.min)+e.datas.min}draw(t,e){}finalDraw(t){return t.datas.max}};e.a=class{static new(t,e=1,i={}){switch(t||(t="easeInOutCubic"),t){case"easeInOutCubic":return new n(e,i);case"interpolation":return new r(e,i)}}}},function(t,e,i){"use strict";i(0);e.a=class{constructor(t,e){this.simulator=t,this.drawer=e,this.objectsL=[],this.drawer.plotter=this}update(t){this.simulator.config.engine.plotter.is_3D&&(lights(),orbitControl(5,5));for(let e=0;e<this.objectsL.length;e++)this.objectsL[e].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,e=t.backgroundColor.color;t.backgroundColor.draw&&background(e.r,e.g,e.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid)if(this.simulator.config.engine.plotter.is_3D)debugMode(100,10,0,0,0,20,0,-40,0);else{this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5);let e=Math.round(height/t.scale.y/2);t.squareByX||(e=t.scale.y);for(let i=-t.scale.x-1;i<t.scale.x+1;i++)for(let s=-e-1;s<e+1;s++)this.drawer.rect(i+t.offset.x,s+t.offset.y,1,1);this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a+.3).strokeWeight(2).line(-t.scale.x+t.offset.x-1,0,t.scale.x+t.offset.x+1,0),t.squareByX?this.drawer.line(0,-e-1,0,e+1):this.drawer.line(0,-t.scale.y-1,0,t.scale.y+1)}this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5)}computeForXYZ(t,e,i,s=!0){let r=this.simulator.config.engine.plotter,n=this.simulator.plotter.drawer,o=n.stack[n.stack.length-1];if(o.r%2*Math.PI!=0){let i=t;t=t*Math.cos(o.r)-e*Math.sin(o.r),e=i*Math.sin(o.r)+e*Math.cos(o.r)}if(t*=o.s,e*=o.s,t+=o.t.x,e+=o.t.y,s||r.is_3D||!r.squareByX){if(r.is_3D){let s=180*.28;return new Vector((t+r.offset.x)/r.scale.x*s,(-e+r.offset.y)/r.scale.y*s,(i+r.offset.z)/r.scale.z*s)}{let i=new Vector(((t-r.offset.x)/r.scale.x+1)*width/2,0,((t+r.offset.z)/r.scale.z+1)*width/2);return r.squareByX?i.y=(-e+r.offset.y)/r.scale.x*width/2+height/2:i.y=((-e+r.offset.y)/r.scale.y+1)*height/2,i}}{let s=this.computeForXYZ(0,0,0),r=this.computeForXYZ(t,e,i);return new Vector(r.x-s.x,r.y-s.y,r.z-s.z)}}computeForXYFromPixel(t,e){let i=_pSimulationInstance.config.engine.plotter,s=new Vector((2*t/width-1)*i.scale.x+i.offset.x);return i.squareByX?s.y=-((2*e/height-1)*i.scale.y-i.offset.y):s.y=-(2*(e-2*height)/width*i.scale.y-i.offset.y),s}}},function(t,e,i){"use strict";var s=i(4),r=i(2),n=i(6),o=i(7);e.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){try{window.preRunSimulator(this)}catch(t){}this.createP5Instance(),this.config.engine.plotter.is_3D?this.plotter=new s.a(this,new n.a):(setAttributes("antialias",!0),this.plotter=new s.a(this,new r.a)),this.recorder=new o.a,this.mousePos=this.plotter.computeForXYFromPixel(mouseX,mouseY),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.config.engine.plotter.is_3D?this.canvas=createCanvas(t.w,t.h,WEBGL):this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let e=this.config.engine.runner;e.UPDATE_FPS>=e.DRAW_FPS?frameRate(e.UPDATE_FPS):console.error("The Updates FPS must be superior as the Draws FPS."),window.draw=function(){let t=_pSimulationInstance,e=Date.now(),i=(e-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;if(t.mousePos=t.plotter.computeForXYFromPixel(mouseX,mouseY),!t.recorder.running||t.recorder.running&&!t.recorder.frameBlocker)i>s&&(i=t.dtMoy),t.lastUpdateTime=e,t.plotter.update(i*t.config.engine.runner.simulationSpeed),t.recorder.running&&!t.recorder.pauseMode&&t.recorder.snapshot(i),e-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(i<=s&&(t.dtTotal+=i,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=e);else{if(t.recorder.pauseMode)return;i=1/t.recorder.updateFPS,t.recorder.currentRelT+=i;let e=!1;t.recorder.currentRelT-t.recorder.lastDrawTime>=1/t.recorder.drawingFPS&&(i=1/t.recorder.drawingFPS,e=!0),t.lastUpdateTime=t.recorder.currentRelT,t.plotter.update(i),e&&(t.plotter.draw(),t.recorder.snapshot(i),t.recorder.lastDrawTime=t.recorder.currentRelT)}},window.windowResized=function(){if(_pSimulationInstance.recorder.running&&_pSimulationInstance.recorder.frameBlocker)return;let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)},window.mouseDragged=function(){if(!_pSimulationInstance.config.engine.runner.movable)return;let t=_pSimulationInstance.plotter.computeForXYFromPixel(mouseX,mouseY);_pSimulationInstance.mousePos.equals(t)||(_pSimulationInstance.config.engine.plotter.offset.x-=t.x-_pSimulationInstance.mousePos.x,_pSimulationInstance.config.engine.plotter.offset.y-=t.y-_pSimulationInstance.mousePos.y)}}getCanvasProportions(t){let e,i;return t.isRelative?(e=windowWidth*t.width,i=windowHeight*t.height):(e=t.width+"px",i=t.height+"px"),{w:e,h:i}}addObjects(t,e=1,...i){if(t instanceof Function)for(let s=0;s<e;s++){let e=[];for(let t=0;t<i.length;t++)i[t]instanceof Array&&null!=i[t][0]&&null!=i[t][1]&&i[t][1]instanceof Function?i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?e.push(i[t][1](...i[t].slice(2))):i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&e.push(new i[t][1](...i[t].slice(2))):e.push(i[t]);this.plotter.objectsL.push(new t(...e))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:"simulationContent",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:"_RUN_F",runClass:"_RUN_C"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15},is_movable:!1},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,z:10},offset:{x:0,y:0,z:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},squareByX:!1,is_3D:!1,gridColor:{r:255,g:255,b:255,a:.3},displayGrid:!1}}}setPreEngineConfig(t){return t(this.config.engine),this}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}getPSEngineVar(){}}},function(t,e,i){"use strict";var s=i(2);e.a=class{constructor(t){this.plotter=null,this.drawer2D=new s.a(t),this.stroke=this.drawer2D.stroke,this.strokeWeight=this.drawer2D.strokeWeight,this.fill=this.drawer2D.fill,this.beginShape=this.drawer2D.beginShape,this.endShape=this.drawer2D.endShape,this.vertex=this.drawer2D.vertex,this.pop=this.drawer2D.pop,this.push=this.drawer2D.push,this.noStroke=this.drawer2D.noStroke,this.noFill=this.drawer2D.noFill}line(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e,i),a=this.plotter.computeForXYZ(s,r,n);return beginShape(),vertex(o.x,o.y,o.z),vertex(a.x,a.y,a.z),endShape(),this}sphere(t,e,i,s){let r=this.plotter.computeForXYZ(t,e,i),n=this.plotter.computeForXYZ(s,0,0);return push(),translate(r.x,r.y,r.z),sphere(n.x),pop(),this}cone(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cone(o.x,o.y),pop(),this}box(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),box(o.x,o.y),pop(),this}cylinder(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cylinder(o.x,o.y),pop(),this}plane(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),plane(o.x,o.y),pop(),this}scale(t){return scale(t),this}model(t,e){return push(),scale(-1),e&&normalMaterial(),model(t),pop(),this}transform(t,e,i){return transform(t,e,i),this}}},function(t,e,i){"use strict";e.a=class{constructor(){this.name="Canvas-Recorder",this.id=0,this.pixelDatas=[],this.registeringTimes=[],this.setup(60,120,!0)}setup(t,e,i,s,r){this.width=e,this.height=i,this.pixelDensity=pixelDensity,this.frameBlocker=r,this.drawingFPS=t,this.updateFPS=s,this.running=!1,this.pauseMode=!1,this.currentRelT=0,this.lastDrawTime=0}start(t=60,e=1920,i=1080,s=120,r=!0,n=!0){this.setup(t,e,i,s,r),n&&(this.pixelDatas=[],this.registeringTimes=[],this.id++),this.registeringTimes.push({t:Date.now()/1e3,cause:"start"}),this.running=!0,resizeCanvas(e,i)}snapshot(t){this.running&&!this.pauseMode&&(loadPixels(),this.frameBlocker?this.pixelDatas.push(canvas.toDataURL()):this.pixelDatas.push({time:Date.now(),dt:t,dataURL:canvas.toDataURL()}))}stop(t=!0,e=!0){this.running=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"stop"}),t&&saveJSON(this.getDatasToJSON(),this.name+"-"+this.id+".json"),e&&(this.pixelDatas=[],this.registeringTimes=[]),windowResized()}pause(){this.pauseMode=!0,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"pause"})}resume(){this.pauseMode=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"resume"})}getDatasToJSON(){return{config:{width:this.width,height:this.height,pixelDensity:this.pixelDensity,drawFrameCount:this.frameBlocker?this.drawingFPS:"variable",updateFrameCount:this.frameBlocker?this.updateFPS:"variable"},datas:{times:{realTimeLength:this.registeringTimes[this.registeringTimes.length-1].t,videoTimeLength:this.frameBlocker?1/this.drawingFPS*this.pixelDatas.length:"variable",timeOperations:this.registeringTimes},pixels:{pixelDatasSize:this.pixelDatas.length,pixelDatas:this.pixelDatas}}}}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e,i="white",s,r=6,n,o=!0){this.pos=new Vector(t,e,i,n),null!=s&&(this.pointName=new pSText(s,this.pos,18,i)),this.drawOriginVector=o,this.pointSize=r,this.pointSizeDrawing=r,this.textPadding=.4}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e=new Vector,i=new Vector,s="white",r="none",n=1){this.setCoordinates(t,e,i),this.fillColor=s,this.strokeColor=r,this.strokeWeight=n}setCoordinates(t,e,i){this.p0=t||new Vector(t.x,t.y),this.p1=null==e?this.p1:new Vector(e.x,e.y),this.p2=null==i?this.p2:new Vector(i.x,i.y),this.pG=Vector.div(Vector.add(Vector.add(this.p0,this.p1),this.p2),3),this.v0=Vector.sub(this.p0,this.pG),this.v1=Vector.sub(this.p1,this.pG),this.v2=Vector.sub(this.p2,this.pG)}rotate(t){this.v0.rotate(t),this.v1.rotate(t),this.v2.rotate(t),this.p0=Vector.add(this.v0,this.pG),this.p1=Vector.add(this.v1,this.pG),this.p2=Vector.add(this.v2,this.pG)}translate(t,e){return this.setCoordinates(Vector.add(this.p0,new Vector(t,e)),Vector.add(this.p1,new Vector(t,e)),Vector.add(this.p2,new Vector(t,e))),this}translate(t){return this.translate(t.x,t.y),this}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;"none"==this.fillColor?t.noFill():t.fill(this.fillColor),"none"==this.strokeColor?t.noStroke():t.stroke(this.strokeColor).strokeWeight(this.strokeWeight),t.push().beginShape().vertex(this.p0.x,this.p0.y).vertex(this.p1.x,this.p1.y).vertex(this.p2.x,this.p2.y).vertex(this.p0.x,this.p0.y).endShape().pop()}}},function(t,e,i){t.exports=i(11)},function(t,e,i){"use strict";i.r(e),function(t){i(5);var e=i(8),s=i(1),r=i(9),n=i(3),o=(i(2),i(6),i(4),i(0));i(7),i(13);t.pSPoint=e.a,t.pSText=s.a,t.pSTriangle=r.a,t.pSAnimation=n.a,t.Vector=o.a}.call(this,i(12))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var s=i(5);var r=class{constructor(){null==window.p5&&console.error("You must import p5.js in order to run the Physics Simulation Engine.","More informations on the p5 website https://p5js.org/."),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate(),window.pSEngine=window._pSimulationInstance.getPSEngineVar()}}};new Promise((t,e)=>{"loading"===document.readyState?t():window.addEventListener("load",t,!1)}).then(()=>{new r})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wU0VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy91dGlsaXRpZXMvVmVjdG9yLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RleHQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0RyYXdlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvYW5pbWF0aW9ucy9wU0FuaW1hdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvUGxvdHRlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL1NpbXVsYXRvci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvM0REcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvdXRpbGl0aWVzL1JlY29yZGVyLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1BvaW50LmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RyaWFuZ2xlLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9tYWluLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2NvcmUvaW5pdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZlY3RvciIsIngiLCJ5IiwieiIsImNvbG9yIiwibmFtZVNpemUiLCJ0aGlzIiwic2V0TmFtZSIsInVuZGVmaW5lZCIsInBTVGV4dCIsImVxdWFscyIsInNldCIsImFkZCIsInN1YiIsImlzRmluaXRlIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsIm11bHQiLCJ2MSIsInYyIiwiY29weSIsImRpdiIsImRvdCIsInYiLCJ2TGVuIiwibWFnIiwibWluIiwibWF4IiwiTWF0aCIsInNxcnQiLCJub3JtYWxpemUiLCJhbmdsZSIsIm5ld0FuZ2xlIiwiZ2V0QW5nbGUiLCJtYWduaXR1ZGUiLCJjb3MiLCJzaW4iLCJhdGFuMiIsImNyb3NzIiwicm90YXRlIiwiaW5pdGlhbFBvcyIsImhlYWRTaXplIiwic3Ryb2tlV2VpZ2h0IiwiZHJhdyIsInBvaW50aW5nUG9zIiwic3Ryb2tlVyIsInBsb3R0ZXIiLCJfcFNpbXVsYXRpb25JbnN0YW5jZSIsImNvbmZpZyIsImVuZ2luZSIsImlzXzNEIiwicHVzaCIsImRyYXdlciIsInN0cm9rZSIsImZpbGwiLCJ0cmFuc2xhdGUiLCJsaW5lIiwicG9wIiwidjAiLCJjb21wdXRlRm9yWFlaIiwienpQb3NpdGlvbiIsImVuZFBvcyIsInRyaWFuZ2xlIiwiUEkiLCJ4T2Zmc2V0Iiwic3ZnSW1nIiwid2lkdGgiLCJ5T2Zmc2V0IiwiaGVpZ2h0Iiwic2V0Q29sb3IiLCJwb3MiLCJ0ZXh0IiwidGV4dFNpemUiLCJzaG93SGl0Ym94Iiwid2luZG93IiwiTWF0aEpheCIsInNldFRleHQiLCJwb3NPcHQiLCJpbWFnZSIsImgiLCJ3Iiwibm9GaWxsIiwic3ZnIiwidGV4MnN2ZyIsImRpc3BsYXkiLCJlbSIsImV4IiwiY29udGFpbmVyV2lkdGgiLCJsaW5lV2lkdGgiLCJzY2FsZSIsImlubmVySFRNTCIsInNwbGl0IiwicmVwbGFjZSIsInBhcnNlRmxvYXQiLCJleGVjIiwibG9hZEltYWdlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsInR5cGUiLCJzdGFjayIsInBvaW50IiwieDAiLCJ5MCIsIngxIiwieTEiLCJkYXNoU2l6ZSIsImRhc2hTcGFjaW5nIiwiZHJhd2luZ0NvbnRleHQiLCJzZXRMaW5lRGFzaCIsInJ4IiwicnkiLCJhYnMiLCJlbGxpcHNlIiwiYmVnaW5TaGFwZSIsInZlcnRleCIsImVuZFNoYXBlIiwiQ0xPU0UiLCJyZWN0Iiwic3RhcnQiLCJzdG9wIiwiYXJjIiwiZyIsImIiLCJhIiwiVFlQRSIsIngyIiwieTIiLCJ4MyIsInkzIiwieDQiLCJ5NCIsInAxIiwicDIiLCJwMyIsInA0IiwiYmV6aWVyIiwibGVuZ3RoIiwiZmFjIiwibm9TdHJva2UiLCJ0aW1lTGVuZ3RoIiwiZGF0YXMiLCJzY2FsZVRpbWUiLCJpc0FuaW1hdGluZyIsImluaXRpYWxUIiwibGFzdEtleSIsImdldEtleSIsInVwZGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiZiIsImR0IiwiZmluYWxEcmF3Iiwic3VwZXIiLCJjdXJyZW50U2hhcGUiLCJuZXh0U2hhcGUiLCJsb2NhbER0IiwicG9pbnRzIiwiaiIsInRoIiwiZHJhd0N1cnJlbnRTaGFwZSIsImx0IiwidGkiLCJwZXJjZW50IiwicGVyY2VudEZ1bmN0aW9uIiwibWF4SSIsInRpbWUiLCJhbmltYXRpb25OYW1lIiwic2ltdWxhdG9yIiwib2JqZWN0c0wiLCJsaWdodHMiLCJvcmJpdENvbnRyb2wiLCJwbENvbmYiLCJiZyIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJkaXNwbGF5R3JpZCIsImRlYnVnTW9kZSIsImdyaWRDb2xvciIsInlTIiwicm91bmQiLCJzcXVhcmVCeVgiLCJvZmZzZXQiLCJ4UmVsIiwieVJlbCIsInpSZWwiLCJ1c2VPZmZzZXQiLCJ4VG1wIiwiYmVnaW5UaW1lIiwibm93IiwibGFzdFVwZGF0ZVRpbWUiLCJsYXN0RHJhd1RpbWUiLCJnZXREZWZhdWx0RW5naW5lQ29uZmlnIiwiY3VzdG9tIiwiZ2V0Q3VzdG9tQ29uZmlnIiwiZ2V0RW5naW5lQ29uZmlnIiwiZHRNb3kiLCJydW5uZXIiLCJyb2xsYmFja0NvbnRyb2wiLCJtaW5pbWFsVXBkYXRlRlBTIiwiZHRUb3RhbCIsImR0Q291bnQiLCJwcmVSdW5TaW11bGF0b3IiLCJlIiwiY3JlYXRlUDVJbnN0YW5jZSIsInNldEF0dHJpYnV0ZXMiLCJyZWNvcmRlciIsIm1vdXNlUG9zIiwiY29tcHV0ZUZvclhZRnJvbVBpeGVsIiwibW91c2VYIiwibW91c2VZIiwicnVuU2ltdWxhdG9yIiwiZ2V0Q2FudmFzUHJvcG9ydGlvbnMiLCJwcm9wb3J0aW9ucyIsImNhbnZhcyIsImNyZWF0ZUNhbnZhcyIsIldFQkdMIiwicGFyZW50IiwiZGl2SWQiLCJydSIsIlVQREFURV9GUFMiLCJEUkFXX0ZQUyIsImZyYW1lUmF0ZSIsImN1cnJlbnRUaW1lIiwiY3JpdGlxRHQiLCJtYXhTdGFuZGFyZERldmlhdGlvbiIsInJ1bm5pbmciLCJmcmFtZUJsb2NrZXIiLCJzaW11bGF0aW9uU3BlZWQiLCJwYXVzZU1vZGUiLCJzbmFwc2hvdCIsImF2ZXJhZ2VUaW1lU2FtcGxlIiwidXBkYXRlRlBTIiwiY3VycmVudFJlbFQiLCJzaG91bGRTbmFwIiwiZHJhd2luZ0ZQUyIsIndpbmRvd1Jlc2l6ZWQiLCJyZXNpemVDYW52YXMiLCJtb3VzZURyYWdnZWQiLCJtb3ZhYmxlIiwiY1AiLCJpc1JlbGF0aXZlIiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJjdXN0b21PYmplY3QiLCJudW1iZXIiLCJwYXJhbXMiLCJGdW5jdGlvbiIsImNvcHlQYXJhbXNUZW1wIiwiQXJyYXkiLCJhZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMiLCJydW5GdW5jdGlvbnMiLCJzbGljZSIsInJ1bkNsYXNzIiwiaXNfbW92YWJsZSIsImNvbmZpZ0Z1bmMiLCJkcmF3ZXIyRCIsInowIiwiejEiLCJzcGhlcmUiLCJjb25lIiwiYm94IiwiY3lsaW5kZXIiLCJwbGFuZSIsIm5tIiwibm9ybWFsTWF0ZXJpYWwiLCJtb2RlbCIsInRyYW5zZm9ybSIsImlkIiwicGl4ZWxEYXRhcyIsInJlZ2lzdGVyaW5nVGltZXMiLCJzZXR1cCIsInBpeGVsRGVuc2l0eSIsImNsZWFyUGl4ZWxBcnJheSIsImNhdXNlIiwibG9hZFBpeGVscyIsInRvRGF0YVVSTCIsImRhdGFVUkwiLCJkb3dubG9hZERhdGFzIiwic2F2ZUpTT04iLCJnZXREYXRhc1RvSlNPTiIsImRyYXdGcmFtZUNvdW50IiwidXBkYXRlRnJhbWVDb3VudCIsInRpbWVzIiwicmVhbFRpbWVMZW5ndGgiLCJ2aWRlb1RpbWVMZW5ndGgiLCJ0aW1lT3BlcmF0aW9ucyIsInBpeGVscyIsInBpeGVsRGF0YXNTaXplIiwicG9pbnROYW1lIiwicG9pbnRTaXplIiwidmVjdG9yTmFtZSIsImRyYXdPcmlnaW5WZWN0b3IiLCJwb2ludFNpemVEcmF3aW5nIiwidGV4dFBhZGRpbmciLCJwYXJzZUludCIsInAwIiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJzZXRDb29yZGluYXRlcyIsInBHIiwiZ2xvYmFsIiwicFNQb2ludCIsInBTVHJpYW5nbGUiLCJwU0FuaW1hdGlvbiIsInA1IiwiaW5zdGFuY2lhdGUiLCJwU0VuZ2luZSIsImdldFBTRW5naW5lVmFyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwi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R0FBSyxJQUFJNkgsU0FBUyxjQUFiLEdBQ1IsTUFBTzVDLEdBRWMsaUJBQVhqSSxTQUFxQmdELEVBQUloRCxRQU9yQzVHLEVBQU9ELFFBQVU2SixHLHdDQ0FGLE1BakJmLE1BQ0MsY0FDaUJuSCxNQUFibUUsT0FBT3VPLElBQ1RuUyxRQUFRRSxNQUNQLHVFQUNBLDBEQUlGMEQsT0FBT3FNLE1BQVEsV0FDZHJNLE9BQU8zQixxQkFBdUIsSUFBSSxJQUNsQzJCLE9BQU8zQixxQkFBcUJtUSxjQUM1QnhPLE9BQU95TyxTQUFXek8sT0FBTzNCLHFCQUFxQnFRLG9CQ1JwQixJQUFJQyxRQUFRLENBQUNDLEVBQVNDLEtBQ3BCLFlBQXhCQyxTQUFTQyxXQUNSSCxJQUVBNU8sT0FBT2dQLGlCQUFpQixPQUFRSixHQUFTLEtBRzVCSyxLQVhPLEtBQzNCLElBQUkiLCJmaWxlIjoicFNFbmdpbmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG4iLCJpbXBvcnQgJy4vLi4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcblxyXG4vKipcclxuKiBBIGNsYXNzIGZvciBldmVyeSAzRCBWZWN0b3JzLlxyXG4qIDxici8+UGxlYXNlIG5vdGUgdGhhdCBjdXJyZW50IHZlY3RvciBtYXkgb25seSBiZSB1c2VkIGluIDxiPjJEPC9iPi5cclxuKi9cclxuY2xhc3MgVmVjdG9yIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvciAoZWFjaCBjb29yZGluYXRlIGdldHMgYSAwIGlmIHZhbHVlIG5vdCBwcm92aWRlZClcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gY29sb3IgQ29sb3Igb2YgdGhlIFZlY3RvciAncmdiYShSLCBHLCBCLCBBKSdcclxuICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgVmVjdG9yIHBvdGVudGlhbGx5IGRpc3BsYXllZCAoQHNlZSBkcmF3IG1ldGhvZClcclxuICAgICogQHBhcmFtIG5hbWVTaXplIFRleHQgc2l6ZSBvZiB0aGUgbmFtZSBvZiB0aGUgVmVjdG9yIChkZWZhdWx0IDEuMylcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgeiwgY29sb3IgPSAncmdiKDI1NSwgMjU1LCAyNTUpJywgbmFtZSwgbmFtZVNpemUgPSAxLjMpIHtcclxuICAgICAgICB0aGlzLnggICAgPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ICAgID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiAgICA9IHogfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cclxuICAgICAgICB0aGlzLnNldE5hbWUobmFtZSwgY29sb3IsIG5hbWVTaXplKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgTUVUSE9EUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgeCwgeSwgeiBjb29yZGluYXRlcyAoZWFjaCBjb29yZGluYXRlIGdldHMgYSAwIGlmIHZhbHVlIG5vdCBwcm92aWRlZClcclxuICAgICogQHBhcmFtIHggTmV3IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IHRvIGJlIGVxdWFsIHRvXHJcbiAgICAqIEBwYXJhbSB5IE5ldyBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogTmV3IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXQoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy54ID0geC54IHx8IDA7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHgueSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnogPSB4LnogfHwgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiA9IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHZlY3RvciBuYW1lXHJcbiAgICAqIEBwYXJhbSBuYW1lIE5ldyBuYW1lIG9mIHRoZSBWZWN0b3JcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBWZWN0b3IgbmFtZVxyXG4gICAgKiBAcGFyYW0gbmFtZVNpemUgVGV4dCBzaXplIG9mIHRoZSBuYW1lIG9mIHRoZSBWZWN0b3IgKGRlZmF1bHQgMS4zKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXROYW1lKG5hbWUsIGNvbG9yLCBuYW1lU2l6ZSA9IDEuMykge1xyXG4gICAgICAgIGlmKG5hbWUgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgaWYobmFtZSBpbnN0YW5jZW9mIHBTVGV4dClcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5ldyBwU1RleHQobmFtZSwgdGhpcywgbmFtZVNpemUsIGNvbG9yKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoZWNrIGlmIHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgYXJlIGVxdWFsXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IGZvciBlZ2FsaXR5IGNoZWNraW5nXHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geiBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0cnVlIGlmIGVxdWFsXHJcbiAgICAqL1xyXG4gICAgZXF1YWxzKHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcXVhbHMoeC54LCB4LnksIHgueik7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy54ID09IHgpICYmICh0aGlzLnkgPT0geSkgJiYgKHRoaXMueiA9PSB6KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgVmVjdG9yICovXHJcbiAgICBjb3B5KCkgeyByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoaXMgVmVjdG9yIHdpdGggY29vcmRpbmF0ZXMgc2V0IHRvICgwLCAwLCAwKSAqL1xyXG4gICAgY2xlYXIoKSB7IHJldHVybiB0aGlzLnNldCgwLCAwLCAwKTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIEEgU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QgKi9cclxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gYFZlY3RvciBPYmplY3QgOiBbJHt0aGlzLnh9LCAke3RoaXMueX0sICR7dGhpcy56fV1gOyB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgT1BFUkFUSU9OUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBBZGQgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGFkZCh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICB0aGlzLnggKz0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSArPSB5IHx8IDA7XHJcbiAgICAgICAgdGhpcy56ICs9IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3VzdHJhY3QgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHN1Yih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3ViKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5hZGQoLXgsIC15LCAteik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE11bHRpcGx5IHRoaXMgVmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSBjIFRoZSBtdWx0aXBsaWNhdGlvbiBzY2FsYXJcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbXVsdChjKSB7XHJcbiAgICAgICAgaWYoISh0eXBlb2YgYyA9PT0gJ251bWJlcicpIHx8ICFpc0Zpbml0ZShjKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAnVmVjdG9yOjptdWx0KCknLFxyXG4gICAgICAgICAgICAgICAgJ2MgaXMgdW5kZWZpbmVkIG9yIGlzblxcJ3QgYSBmaW5pdGUgbnVtYmVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueCAqPSBjO1xyXG4gICAgICAgIHRoaXMueSAqPSBjO1xyXG4gICAgICAgIHRoaXMueiAqPSBjO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEaXZpZGVzIHRoaXMgVmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSBjIFRoZSBkaXZpc2lvbiBzY2FsYXJcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZGl2KGMpIHtcclxuICAgICAgICBpZighKHR5cGVvZiBjID09PSAnbnVtYmVyJykgfHwgIWlzRmluaXRlKGMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgICdWZWN0b3I6OmRpdigpJyxcclxuICAgICAgICAgICAgICAgICdjIGlzIHVuZGVmaW5lZCBvciBpc25cXCd0IGEgZmluaXRlIG51bWJlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGMgPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgZGl2aWRlIGJ5IDAnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5tdWx0KDEgLyBjKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBtZXRob2RzXHJcbiAgICAvKipcclxuICAgICogQWRkIHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIEEgbmV3IFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBhZGQodjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5hZGQodjIpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFN1YnRyYWN0IHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIEEgbmV3IFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzdWIodjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5zdWIodjIpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE11bHRpcGx5IGEgdmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBjIEEgc2NhbGFyIGNcclxuICAgICogQHJldHVybiBBIG5ldyBtdWx0aXBsaWVkIFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBtdWx0KHYxLCBjKSB7IHJldHVybiAodjEuY29weSgpKS5tdWx0KGMpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERpdmlkZXMgdHdvIHZlY3RvcnMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHYxIFRoZSB2ZWN0b3JcclxuICAgICogQHBhcmFtIGMgQSBzY2FsYXIgY1xyXG4gICAgKiBAcmV0dXJuIEEgbmV3IGRpdmlkZWQgVmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRpdiAodjEsIGMpIHsgcmV0dXJuICh2MS5jb3B5KCkpLmRpdihjKTsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQURWQU5DRUQgTUFUSCBWRUNUT1IgT1BFUkFUSU9OUyA9PT09PT09PT0gKi9cclxuICAgIC8vIERvdCBhbmQgY3Jvc3MgcHJvZHVjdHNcclxuICAgIC8qKlxyXG4gICAgKiBEb3QgcHJvZHVjdCBiZXR3ZWVuIGEgVmVjdG9yIE9SIGEgcGFpciBvZiBjb29yZGluYXRlc1xyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGRvdCh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG90KHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy54ICogKHggfHwgMCkgKyB0aGlzLnkgKiAoeSB8fCAwKSArIHRoaXMueiAqICh6IHx8IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcm9zcyBwcm9kdWN0IHdpdGggYSBWZWN0b3JcclxuICAgICogQHBhcmFtIHYgVGhlIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBjcm9zcyh2KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgIHRoaXMueSAqIHYueiAtIHRoaXMueiAqIHYueSxcclxuICAgICAgICAgICAgdGhpcy56ICogdi54IC0gdGhpcy54ICogdi56LFxyXG4gICAgICAgICAgICB0aGlzLnggKiB2LnkgLSB0aGlzLnkgKiB2LnhcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gTWFnbml0dWRlXHJcbiAgICAvKiogQHJldHVybiB0aGUgbm9ybWFsaXplZCBWZWN0b3IgKi9cclxuICAgIG5vcm1hbGl6ZSgpIHtcclxuICAgICAgICBjb25zdCB2TGVuID0gdGhpcy5tYWcoKTtcclxuICAgICAgICBpZiAodkxlbiAhPT0gMClcclxuICAgICAgICAgICAgdGhpcy5kaXYodkxlbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBMaW1pdCB0aGUgbWFnbml0dWRlIG9mIHRoZSB2ZWN0b3IgYmV0d2VlbiBhIG1pbiBhbmQgYSBtYXggdmFsdWVcclxuICAgICogQHBhcmFtIG1pbiBNaW5pbXVtIHZhbHVlIG9mIHRoZSBWZWN0b3IgbWFnbml0dWRlXHJcbiAgICAqIEBwYXJhbSBtYXggTWF4aW11bSB2YWx1ZSBvZiB0aGUgVmVjdG9yIG1hZ25pdHVkZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBsaW1pdChtaW4sIG1heCkge1xyXG4gICAgXHRsZXQgbSA9IHRoaXMubWFnKCk7XHJcbiAgICBcdGlmKG0gPCBtaW4pXHJcbiAgICBcdFx0dGhpcy5kaXYobSkubXVsdChtaW4pO1xyXG4gICAgXHRpZihtID4gbWF4KVxyXG4gICAgXHRcdHRoaXMuZGl2KG0pLm11bHQobWF4KTtcclxuICAgIFx0cmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG1hZ25pdHVkZSBvZiB0aGlzIHZlY3RvciAqL1xyXG4gICAgbWFnKCkgeyByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueik7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHRoZSBtYWduaXR1ZGUgb2YgdGhpcyB2ZWN0b3JcclxuICAgICogQHBhcmFtIG1hZyBUaGUgbmV3IG1hZ25pdHVkZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRNYWcobWFnKSB7IHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHQobWFnKTsgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gQW5nbGVzXHJcbiAgICAvKipcclxuICAgICogUm90YXRlIHRoaXMgdmVjdG9yIGJ5IGFuIGFuZ2xlIG9uIHRoZSBYWSBwbGFuZVxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW4gYW5nbGUgSU4gUkFESUFOU1xyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICBjb25zdCBuZXdBbmdsZSAgPSB0aGlzLmdldEFuZ2xlKCkgKyBhbmdsZTtcclxuICAgICAgICBjb25zdCBtYWduaXR1ZGUgPSB0aGlzLm1hZygpO1xyXG5cclxuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyhuZXdBbmdsZSkgKiBtYWduaXR1ZGU7XHJcbiAgICAgICAgdGhpcy55ID0gTWF0aC5zaW4obmV3QW5nbGUpICogbWFnbml0dWRlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgYW5nbGUgYmV0d2VlbiB0aGlzIHZlY3RvciBhbmQgdGhlIG9yaWdpbiAqL1xyXG4gICAgZ2V0QW5nbGUoKSB7IHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSwgdGhpcy54KTsgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gU3RhdGljIG1ldGhvZHNcclxuICAgIC8qKlxyXG4gICAgKiBEaXN0YW5jZSBiZXd0ZWVuIHR3byB2ZWN0b3JzXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gcG9zaXRpb25zIHdoZXJlIHRoZSBhcnJvdyBhcmUgcG9pbnRpbmcgdG9cclxuICAgICovXHJcbiAgICBzdGF0aWMgZGlzdCh2MSwgdjIpIHsgcmV0dXJuIFZlY3Rvci5zdWIodjEsIHYyKS5tYWcoKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEb3QgcHJvZHVjdCBiZXR3ZWVuIGEgVmVjdG9yIE9SIGEgcGFpciBvZiBjb29yZGluYXRlc1xyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhlIGRvdHRlZCBuZXcgdmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRvdCh2MSwgeCwgeSwgeikgeyByZXR1cm4gKHYxLmNvcHkoKSkuZG90KHgsIHksIHopOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENyb3NzIHByb2R1Y3Qgd2l0aCBhIFZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGUgY3Jvc3NlZCBuZXcgdmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNyb3NzKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuY3Jvc3ModjIpOyB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG5vcm1hbGl6ZWQgVmVjdG9yICovXHJcbiAgICBzdGF0aWMgbm9ybWFsaXplKHYxKSB7IHJldHVybiAodjEuY29weSgpKS5ub3JtYWxpemUoKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGUgYSB2ZWN0b3IgYnkgYW4gYW5nbGVcclxuICAgICogQHBhcmFtIHYxIFRoZSB2ZWN0b3IgdG8gYmUgcm90YXRlZFxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW4gYW5nbGUgSU4gUkFESUFOU1xyXG4gICAgKiBAcmV0dXJuIHRoZSByb3RhdGVkIHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyByb3RhdGUgKHYxLCBhbmdsZSkgeyByZXR1cm4gKHYxLmNvcHkoKSkucm90YXRlKGFuZ2xlKTsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBEUkFXSU5HIFZFQ1RPUlMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIHZlY3RvciB0byB0aGUgY2FudmFzIHVzaW5nIHRoZSBgRHJhd2VyYCBjbGFzc1xyXG4gICAgKiBAcGFyYW0gaW5pdGlhbFBvcyBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uIG9mIHRoZSBWZWN0b3IgQXJyb3dcclxuICAgICogQHBhcmFtIGhlYWRTaXplIFNpemUgb2YgdGhlIGhlYWQgaW4gcGl4ZWxzIChkZWZhdWx0ID0gNSBweClcclxuICAgICogQHBhcmFtIHN0cm9rZVdlaWdodCBTdHJva2Ugd2VpZ2h0IG9mIHRoZSBWZWN0b3IgaW4gcGl4ZWxzIChkZWZhdWx0ID0gMSBweClcclxuICAgICovXHJcbiAgICBkcmF3KGluaXRpYWxQb3MsIGhlYWRTaXplLCBzdHJva2VXZWlnaHQpIHtcclxuICAgICAgICBpZihpbml0aWFsUG9zICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgVmVjdG9yLmRyYXcoaW5pdGlhbFBvcywgdGhpcywgdGhpcy5jb2xvciwgaGVhZFNpemUsIHN0cm9rZVdlaWdodCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBWZWN0b3IuZHJhdyh1bmRlZmluZWQgLCB0aGlzLCB0aGlzLmNvbG9yLCBoZWFkU2l6ZSwgc3Ryb2tlV2VpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogKFBsZWFzZSBhdm9pZCBkaXJlY3RseSB1c2luZyB0aGlzIG1ldGhvZClcclxuICAgICogRHJhdyBhIHZlY3RvciB0byB0aGUgY2FudmFzIHVzaW5nIHRoZSBgRHJhd2VyYCBjbGFzc1xyXG4gICAgKiBAcGFyYW0gaW5pdGlhbFBvcyBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uIG9mIHRoZSBWZWN0b3IgQXJyb3dcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGVuZGluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBjb2xvciBDb2xvciBvZiB0aGUgYXJyb3cgKGRlZmF1bHQgYHJnYigyNTUsIDI1NSwgMjU1KWApXHJcbiAgICAqIEBwYXJhbSBoZWFkU2l6ZSBTaXplIG9mIHRoZSBoZWFkIGluIHBpeGVscyAoZGVmYXVsdCA9IDUgcHgpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VXZWlnaHQgU3Ryb2tlIHdlaWdodCBvZiB0aGUgVmVjdG9yIGluIHBpeGVscyAoZGVmYXVsdCA9IDEgcHgpXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRyYXcoaW5pdGlhbFBvcyA9IG5ldyBWZWN0b3IoKSwgcG9pbnRpbmdQb3MsIGNvbG9yID0gJ3JnYigyNTUsIDI1NSwgMjU1KScsIGhlYWRTaXplID0gNSwgc3Ryb2tlVyA9IDEpIHtcclxuICAgICAgICBsZXQgcGxvdHRlciA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXI7XHJcblxyXG4gICAgICAgIGlmKCFfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1JcclxuICAgICAgICAgICAgICAgIHBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHJva2UoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoc3Ryb2tlVylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbGwoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcy54ICsgcG9pbnRpbmdQb3MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueSArIHBvaW50aW5nUG9zLnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHYwID0gcGxvdHRlci5jb21wdXRlRm9yWFlaKGluaXRpYWxQb3MueCwgaW5pdGlhbFBvcy55LCBpbml0aWFsUG9zLnosIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55KTtcclxuXHJcbiAgICAgICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHp6UG9zaXRpb24gPSBwbG90dGVyLmNvbXB1dGVGb3JYWVooMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZFBvcyAgICAgPSBwbG90dGVyLmNvbXB1dGVGb3JYWVoocG9pbnRpbmdQb3MueCwgcG9pbnRpbmdQb3MueSwgcG9pbnRpbmdQb3Mueik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZShlbmRQb3MueCwgZW5kUG9zLnkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByb3RhdGUoZW5kUG9zLnN1Yih6elBvc2l0aW9uKS5nZXRBbmdsZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUoLWhlYWRTaXplIC0gMiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGUoMCwgaGVhZFNpemUgLyAyLCAwLCAtaGVhZFNpemUgLyAyLCBoZWFkU2l6ZSwgMCk7XHJcbiAgICAgICAgICAgICAgICBwb3AoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1IgTkFNRVxyXG4gICAgICAgICAgICAgICAgaWYocG9pbnRpbmdQb3MubmFtZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBPZmZzZXQgb2YgdGhlIHRleHQgYmFzZWQgb24gdGhlIGFuZ2xlIG9uIHRoZSB1bml0IGNpcmNsZVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IHBvaW50aW5nUG9zLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYW5nbGUgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZSArPSAyKlBJO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeE9mZnNldCA9IDAuMDEgKiBwb2ludGluZ1Bvcy5uYW1lLnN2Z0ltZy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiggICAgKFBJLzQgICA8IGFuZ2xlICYmIGFuZ2xlIDw9IFBJLzIgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKDMqUEkvNCA8IGFuZ2xlICYmIGFuZ2xlIDw9IDUqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKDMqUEkvMiA8IGFuZ2xlICYmIGFuZ2xlIDw9IDcqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICApIHhPZmZzZXQgKj0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB5T2Zmc2V0ID0gMC4wMSAqIHBvaW50aW5nUG9zLm5hbWUuc3ZnSW1nLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBpZiggICAgKFBJLzQgICA8IGFuZ2xlICYmIGFuZ2xlIDw9ICAgUEkvMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKFBJLzIgICA8IGFuZ2xlICYmIGFuZ2xlIDw9IDMqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKFBJICAgICA8IGFuZ2xlICYmIGFuZ2xlIDw9IDUqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKDcqUEkvNCA8IGFuZ2xlICYmIGFuZ2xlIDw9ICAgMipQSSlcclxuICAgICAgICAgICAgICAgICAgICApIHlPZmZzZXQgKj0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50aW5nUG9zLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldENvbG9yKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZHJhdyhwb2ludGluZ1Bvcy5uYW1lLnBvcy5jb3B5KCkuZGl2KDIpLmFkZCh4T2Zmc2V0LCB5T2Zmc2V0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaGVhZFNpemUgLz0gMztcclxuXHJcbiAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgIHBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KHN0cm9rZVcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbGwoY29sb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SXHJcbiAgICAgICAgICAgICAgICBpZihpbml0aWFsUG9zICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlci50cmFuc2xhdGUoaW5pdGlhbFBvcy54LCBpbml0aWFsUG9zLnksIGluaXRpYWxQb3Mueik7XHJcbiAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlci5saW5lKDAsIDAsIDAsIHBvaW50aW5nUG9zLngsIHBvaW50aW5nUG9zLnksIHBvaW50aW5nUG9zLnopO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SIE5BTUVcclxuICAgICAgICAgICAgICAgIC8vIGlmKHBvaW50aW5nUG9zLm5hbWUgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGV4dChwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55LCBwb2ludGluZ1Bvcy56KTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgeGF4aXMgPSBWZWN0b3IuY3Jvc3MobmV3IFZlY3RvcigwLCAxLCAwKSwgcG9pbnRpbmdQb3MpO1xyXG4gICAgICAgICAgICAgICAgLy8geGF4aXMubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHlheGlzID0gVmVjdG9yLmNyb3NzKHBvaW50aW5nUG9zLCB4YXhpcyk7XHJcbiAgICAgICAgICAgICAgICAvLyB5YXhpcy5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAvLyBDYWxjdWxhdGUgcm90YXRpb24gbWF0cml4XHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgTSA9IFtbXSwgW10sIFtdXTtcclxuICAgICAgICAgICAgICAgIC8vIE1bMF1bMF0gPSB4YXhpcy54O1xyXG4gICAgICAgICAgICAgICAgLy8gTVswXVsxXSA9IHlheGlzLng7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzBdWzJdID0gcG9pbnRpbmdQb3MueDtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBNWzFdWzBdID0geGF4aXMueTtcclxuICAgICAgICAgICAgICAgIC8vIE1bMV1bMV0gPSB5YXhpcy55O1xyXG4gICAgICAgICAgICAgICAgLy8gTVsxXVsyXSA9IHBvaW50aW5nUG9zLnk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gTVsyXVswXSA9IHhheGlzLno7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzJdWzFdID0geWF4aXMuejtcclxuICAgICAgICAgICAgICAgIC8vIE1bMl1bMl0gPSBwb2ludGluZ1Bvcy56O1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIC8vIENhbGN1bGF0ZSBFdWxlciBhbmdsZXNcclxuICAgICAgICAgICAgICAgIC8vIGxldCB0aGV0YTEsIHRoZXRhMiwgdGhldGEsIHBzeTEsIHBzeTIsIHBzeSwgcGhpMSwgcGhpMiwgcGhpO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKE1bM11bMV0gIT0gLTEgJiYgTVszXVsxXSAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhldGExID0gLU1hdGguYXJjc2luKE1bM11bMV0pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoZXRhMiA9IE1hdGguUEkgLSB0aGV0YTE7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcHN5MSA9IE1hdGguYXRhbjIoTVszXVsyXSAvIE1hdGguY29zKHRoZXRhMSkpXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gY29uZShoZWFkU2l6ZSAqIDMsIGhlYWRTaXplICogNyk7XHJcbiAgICAgICAgICAgIHBvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWZWN0b3I7XHJcbiIsImNsYXNzIHBTVGV4dCB7XHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRleHQgTGFUZVggY29kZSAoaW5zZXJ0ICdcXHRleHR7VEVYVH0nIGZvciBwbGFpbiB0ZXh0KVxyXG4gICAgKiBAcGFyYW0gcG9zIHRleHQgcG9zaXRpb24gKGRlZmF1bHQgKDAsIDApKVxyXG4gICAgKiBAcGFyYW0gdGV4dFNpemUgdGV4dCBzaXplIG11bHRpcGxpZXIgKGRlZmF1bHQgMSlcclxuICAgICogQHBhcmFtIGNvbG9yIHRleHQgY29sb3IgKGRlZmF1bHQgd2hpdGUpXHJcbiAgICAqIEBwYXJhbSBzaG93SGl0Ym94IHRydWUgOiBzaG93IHRleHQgaGl0Ym94IChkZWZhdWx0IDogZmFsc2UpXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGV4dCwgcG9zID0gbmV3IFZlY3RvcigpLCB0ZXh0U2l6ZSA9IDEsIGNvbG9yID0gXCIjRkZGRkZGXCIsIHNob3dIaXRib3ggPSBmYWxzZSkge1xyXG4gICAgICAgIGlmKHdpbmRvdy5NYXRoSmF4ID09IHVuZGVmaW5lZClcclxuXHRcdFx0Y29uc29sZS5lcnJvcignWW91IG11c3QgaW1wb3J0IE1hdGhKYXguanMgPj0zLjAuMCBpbiBvcmRlciB0byB1c2UgVGV4dCBhbmQgVGV4IHN0cmluZ3MuJyk7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dFNpemUgICA9IHRleHRTaXplO1xyXG4gICAgICAgIHRoaXMuY29sb3IgICAgICA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMucG9zICAgICAgICA9IHBvcztcclxuICAgICAgICB0aGlzLnNob3dIaXRib3ggPSBzaG93SGl0Ym94O1xyXG5cclxuICAgICAgICB0aGlzLnNldFRleHQodGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIHRleHQgdG8gdGhlIHNjcmVlblxyXG4gICAgKiBAcGFyYW0gcG9zT3B0IEZvcmNlIHRleHQgcG9zaXRpb25cclxuICAgICovXHJcbiAgICBkcmF3KHBvc09wdCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuXHJcbiAgICAgICAgbGV0IHBvcyA9IGRyYXdlci5wbG90dGVyLmNvbXB1dGVGb3JYWVoodGhpcy5wb3MueCwgdGhpcy5wb3MueSk7XHJcbiAgICAgICAgaWYocG9zT3B0ICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcG9zID0gZHJhd2VyLnBsb3R0ZXIuY29tcHV0ZUZvclhZWihwb3NPcHQueCwgcG9zT3B0LnkpO1xyXG5cclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUoLXRoaXMuc3ZnSW1nLndpZHRoIC8gMiwgLXRoaXMuc3ZnSW1nLmhlaWdodCAvIDIpO1xyXG5cclxuICAgICAgICAgICAgaW1hZ2UodGhpcy5zdmdJbWcsIHBvcy54LCBwb3MueSwgdGhpcy5zdmdJbWcud2lkdGgsIHRoaXMuc3ZnSW1nLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnNob3dIaXRib3gpIHtcclxuICAgICAgICAgICAgICAgIGxldCBoID0gdGhpcy5zdmdJbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHcgPSB0aGlzLnN2Z0ltZy53aWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKHRoaXMuY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSAgICAsIHBvcy54ICsgdywgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSArIGgsIHBvcy54ICsgdywgcG9zLnkgKyBoKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSArIGgsIHBvcy54ICAgICwgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggKyB3LCBwb3MueSArIGgsIHBvcy54ICsgdywgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGFuZ2UgdGV4dCB2YWx1ZVxyXG4gICAgKi9cclxuICAgIHNldFRleHQodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcblxyXG4gICAgICAgIGxldCBzdmcgPSAnPHN2ZycgKyBNYXRoSmF4LnRleDJzdmcodGhpcy50ZXh0LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXkgOiB0cnVlLCBlbSA6IDEyLCBleCA6IDYsIGNvbnRhaW5lcldpZHRoIDogODAgKiA2LCBsaW5lV2lkdGggOiAxMDAwMDAsIHNjYWxlIDogMSB9XHJcbiAgICAgICAgKS5pbm5lckhUTUwuc3BsaXQoJzxzdmcnKVsxXS5zcGxpdCgnPC9zdmc+JylbMF0gKyAnPC9zdmc+JztcclxuXHJcbiAgICAgICAgc3ZnID0gc3ZnXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC88Zy9nICAgICAgICAgICAsICc8ZyBjb2xvcj1cIicgKyB0aGlzLmNvbG9yICsgJ1wiJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL3dpZHRoPVwiKC4qPylcIi8gLCAnd2lkdGg9XCInICArIHBhcnNlRmxvYXQoL3dpZHRoPVwiKC4qPylcIi8gLmV4ZWMoc3ZnKVsxXS5zcGxpdCgnZXgnKVswXSkgKiB0aGlzLnRleHRTaXplICsgJ2V4XCInKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvaGVpZ2h0PVwiKC4qPylcIi8sICdoZWlnaHQ9XCInICsgcGFyc2VGbG9hdCgvaGVpZ2h0PVwiKC4qPylcIi8uZXhlYyhzdmcpWzFdLnNwbGl0KCdleCcpWzBdKSAqIHRoaXMudGV4dFNpemUgKyAnZXhcIicpO1xyXG5cclxuICAgICAgICB0aGlzLnN2Z0ltZyA9IGxvYWRJbWFnZShVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtzdmddLCB7IHR5cGU6ICdpbWFnZS9zdmcreG1sJyB9KSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hhbmdlcyB0ZXh0IHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB4IG5ldyBYIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5IG5ldyBZIHBvc2l0aW9uXHJcbiAgICAqL1xyXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xyXG4gICAgICAgIHRoaXMucG9zLnggPSB4O1xyXG4gICAgICAgIHRoaXMucG9zLnkgPSB5O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGFuZ2VzIHRleHQgY29sb3JcclxuICAgICogQHBhcmFtIGNvbG9yIE5ldyBjb2xvclxyXG4gICAgKi9cclxuICAgIHNldENvbG9yKGNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1RleHQ7XHJcbiIsImNsYXNzIHBTRHJhd2VyIHtcclxuICAgIC8qKiBDb25zdHJ1Y3QgdGhlIG1haW4gcFNFbmdpbmUgZHJhd2VyICovXHJcbiAgICBjb25zdHJ1Y3RvcihwbG90dGVyKSB7XHJcbiAgICAgICAgdGhpcy5wbG90dGVyID0gbnVsbDsgLy8gc2V0IHdoZW4gbG9hZGVkIGluIHRoZSBQbG90dGVyIGNsYXNzXHJcblxyXG4gICAgICAgIC8vIFN0YWNrIGZvciBwdWxsIGFuZCBwb3AgY29tbWFuZHMgOlxyXG4gICAgICAgIC8vICAgeyB0b3RhbFRyYW5zbGF0aW9uLCB0b3RhbFJvdGF0aW9uIH1cclxuICAgICAgICAvLyBPbmx5IGhhbmRsZXMgYW5kIHNhdmVzIHRyYW5zbGF0aW9ucyBhbmQgcm90YXRpb25zXHJcbiAgICAgICAgdGhpcy5zdGFjayA9IFt7IHQgOiBuZXcgVmVjdG9yKDAsIDApLCByIDogMCwgcyA6IDEgfV07XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIHBvaW50IHRvIHRoZSBzY3JlZW5cclxuICAgICogQHBhcmFtIHggWCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcG9pbnQoeCwgeSkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcbiAgICAgICAgcG9pbnQodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgbGluZSBmcm9tIG9uZSBwb2ludCB0byB0aGUgb3RoZXIgdG8gdGhlIHNjcmVlblxyXG4gICAgKiBAcGFyYW0geDAgWCBpbml0aWFsIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geTAgWSBpbml0aWFsIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geDEgWCBlbmQgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5MSBZIGVuZCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbGluZSh4MCwgeTAsIHgxLCB5MSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgwLCB5MCk7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxKTtcclxuICAgICAgICBsaW5lKHYwLngsIHYwLnksIHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgYW5kIGFkZCBsaW5lIGRhc2ggdHlwZVxyXG4gICAgKiBAcGFyYW0gZGFzaFNpemUgU2l6ZSBvZiB0aGUgZGFzaGVzIChkZWZhdWx0IDUpXHJcbiAgICAqIEBwYXJhbSBkYXNoU3BhY2luZyBTcGFjZSBiZXR3ZWVuIHRoZSBkYXNoZXMgKGRlZmF1bHQgNSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0TGluZURhc2goZGFzaFNpemUgPSA1LCBkYXNoU3BhY2luZyA9IDUpIHtcclxuICAgICAgICBkcmF3aW5nQ29udGV4dC5zZXRMaW5lRGFzaChbZGFzaFNpemUsIGRhc2hTcGFjaW5nXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENsZWFyIHRoZSBsaW5lIGRhc2hpbmdcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY2xlYXJMaW5lRGFzaCgpIHtcclxuICAgICAgICBkcmF3aW5nQ29udGV4dC5zZXRMaW5lRGFzaChbXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYW4gZWxsaXBzZVxyXG4gICAgKiBAcGFyYW0geCBYIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSByeCBYIGVsbGlwc2UgcmFkaXVzXHJcbiAgICAqIEBwYXJhbSByeSBZIGVsbGlwc2UgcmFkaXVzXHJcbiAgICAqIEBwYXJhbSBhYnMgQXJlIHJ4IGFuZCByeSBpbiBwaXhlbHMgKGRlZmF1bHQgZmFsc2UpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGVsbGlwc2UoeCwgeSwgcngsIHJ5LCBhYnMgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG5cclxuICAgICAgICBpZihyeSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJ5ID0gcng7XHJcblxyXG4gICAgICAgIGlmKCFhYnMpIHtcclxuICAgICAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoocngsIHJ5LCAwLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZSh4LCB5KTtcclxuICAgICAgICAgICAgICAgIGVsbGlwc2UoMCwgMCwgdjEueCAqIDIsIHYxLnkgKiAyKTtcclxuICAgICAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZWxsaXBzZSh2MC54LCB2MC55LCByeCwgcnkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIGNpcmNsZVxyXG4gICAgKiBAcGFyYW0geCBYIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSByIENpcmNsZSByYWRpdXNcclxuICAgICogQHBhcmFtIGFicyBJcyByIGluIHBpeGVscyAoZGVmYXVsdCBmYWxzZSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY2lyY2xlKHgsIHksIHIsIGFicyA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxsaXBzZSh4LCB5LCByLCByLCBhYnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgcmVjdGFuZ2xlXHJcbiAgICAqIEBwYXJhbSB4IFggYm90dG9tIGxlZnQgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgYm90dG9tIGxlZnQgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB3IFJlY3RhbmdsZSB3aWR0aFxyXG4gICAgKiBAcGFyYW0gaCBSZWN0YW5nbGUgaGVpZ2h0XHJcbiAgICAqIEBwYXJhbSBhYnMgQXJlIHcgYW5kIGggaW4gcGl4ZWxzIChkZWZhdWx0IGZhbHNlKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICByZWN0KHgsIHksIHcsIGgsIGFicyA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYoIWFicylcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmVnaW5TaGFwZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnZlcnRleCh4ICsgdywgeSlcclxuICAgICAgICAgICAgICAgICAgICAudmVydGV4KHggKyB3LCB5ICsgaClcclxuICAgICAgICAgICAgICAgICAgICAudmVydGV4KHggICAgLCB5ICsgaClcclxuICAgICAgICAgICAgICAgICAgICAudmVydGV4KHggICAgLCB5KVxyXG4gICAgICAgICAgICAgICAgLmVuZFNoYXBlKENMT1NFKTtcclxuXHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICByZWN0KHYueCwgdi55LCB3LCBoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXdzIGEgY2lyY2xlIGFyYyB1c2luZyB0cmlnb25vbWV0cmljIG9yZGVyXHJcbiAgICAqIEBwYXJhbSB4IFggc2ltdWxhdGlvbiBjZW50ZXIgY29vcmRcclxuICAgICogQHBhcmFtIHkgWSBzaW11bGF0aW9uIGNlbnRlciBjb29yZFxyXG4gICAgKiBAcGFyYW0gc3RhcnQgU3RhcnRpbmcgYW5nbGUgKGluIHJhZGlhbnMpXHJcbiAgICAqIEBwYXJhbSBzdGFydCBFbmRpbmcgYW5nbGUgKGluIHJhZGlhbnMpXHJcbiAgICAqL1xyXG4gICAgYXJjKHgsIHksIHcsIGgsIHN0YXJ0LCBzdG9wKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoodywgaCwgMCwgZmFsc2UpO1xyXG5cclxuICAgICAgICBhcmModjAueCwgdjAueSwgdjEueCwgdjEueSwgLXN0b3AsIC1zdGFydCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHN0cm9rZSBjb2xvclxyXG4gICAgKiBAcGFyYW0gciBSZWQgdmFsdWUgKDAgdG8gMjU1KSwgb3IgJ3JnYihyLCBnLCBiKScgb3IgJ3JnYmEociwgZywgYiwgYSknXHJcbiAgICAqIEBwYXJhbSBnIEdyZWVuIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHBhcmFtIGIgQmx1ZSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBhIEFscGhhIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc3Ryb2tlKHIsIGcsIGIsIGEpIHtcclxuICAgICAgICBpZihhID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZihiID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZyA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlKHIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZShyLCBnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzdHJva2UociwgZywgYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgc3Ryb2tlKGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCBzdHJva2Ugd2VpZ2h0XHJcbiAgICAqIEBwYXJhbSBuIFN0cm9rZSB3ZWlnaHQgKGludGVnZXIpXHJcbiAgICAqL1xyXG4gICAgc3Ryb2tlV2VpZ2h0KG4pIHtcclxuICAgICAgICBzdHJva2VXZWlnaHQobik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCBmaWxsIGNvbG9yXHJcbiAgICAqIEBwYXJhbSByIFJlZCB2YWx1ZSAoMCB0byAyNTUpLCBvciAncmdiKHIsIGcsIGIpJyBvciAncmdiYShyLCBnLCBiLCBhKSdcclxuICAgICogQHBhcmFtIGcgR3JlZW4gdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYiBCbHVlIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHBhcmFtIGEgQWxwaGEgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBmaWxsKHIsIGcsIGIsIGEpIHtcclxuICAgICAgICBpZihhID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZihiID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZyA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbChyKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBmaWxsKHIsIGcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGZpbGwociwgZywgYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZmlsbChgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2F9KWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBCZWdpbiBzaGFwZSAtXHJcbiAgICAqIERyYXcgc2hhcGVzIHVzaW5nIHZlcnRpY2VzIChiZWdpblNoYXBlKCkgdGhlbiBtdWx0aXBsZSB2ZXJ0ZXgoeCwgeSkgdGhlbiBjbG9zZVNoYXBlKCkpXHJcbiAgICAqIEBwYXJhbSBUWVBFIFNoYXBlIFR5cGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgYmVnaW5TaGFwZShUWVBFKSB7XHJcbiAgICAgICAgYmVnaW5TaGFwZShUWVBFKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQmV6aWVyIEN1cnZlXHJcbiAgICAqIEBwYXJhbSB4MVxyXG4gICAgKiBAcGFyYW0geTFcclxuICAgICogQHBhcmFtIHgyXHJcbiAgICAqIEBwYXJhbSB5MlxyXG4gICAgKiBAcGFyYW0geDNcclxuICAgICogQHBhcmFtIHkzXHJcbiAgICAqIEBwYXJhbSB4NFxyXG4gICAgKiBAcGFyYW0geTRcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgYmV6aWVyKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xyXG5cdFx0bGV0IHAxID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5jb21wdXRlRm9yWFlaKHgxLCB5MSk7XHJcblx0XHRsZXQgcDIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDIsIHkyKTtcclxuXHRcdGxldCBwMyA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4MywgeTMpO1xyXG5cdFx0bGV0IHA0ID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5jb21wdXRlRm9yWFlaKHg0LCB5NCk7XHJcbiAgICAgICAgYmV6aWVyKHAxLngsIHAxLnksIHAyLngsIHAyLnksIHAzLngsIHAzLnksIHA0LngsIHA0LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUcmFuc2xhdGUgZHJhd2luZyBjb29yZGluYXRlcyB0byB4LHlcclxuICAgICogQHBhcmFtIFggc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSBZIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICB2ZXJ0ZXgoeCwgeSkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcbiAgICAgICAgdmVydGV4KHYueCwgdi55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2xvc2Ugc2hhcGUgLVxyXG4gICAgKiBEcmF3IHNoYXBlcyB1c2luZyB2ZXJ0aWNlcyAoYmVnaW5TaGFwZSgpIHRoZW4gbXVsdGlwbGUgdmVydGV4KHgsIHkpIHRoZW4gY2xvc2VTaGFwZSgpKVxyXG4gICAgKiBAcGFyYW0gVFlQRSBTaGFwZSBUeXBlIChDTE9TRUQgdG8gY2xvc2Ugc2hhcGUpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGVuZFNoYXBlKFRZUEUpIHtcclxuICAgICAgICBlbmRTaGFwZShUWVBFKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBQdXNoIHZlcnRpY2VzICh1c2UgcHVzaCgpIHRoZW4gcG9wKCkpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHB1c2goKSB7XHJcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgdCA6IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXS50LmNvcHkoKSxcclxuICAgICAgICAgICAgciA6IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXS5yICsgMCxcclxuICAgICAgICAgICAgcyA6IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXS5zICsgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUG9wIHZlcnRpY2VzICh1c2UgcHVzaCgpIHRoZW4gcG9wKCkpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHBvcCgpIHtcclxuICAgICAgICB0aGlzLnN0YWNrLnBvcCgpO1xyXG4gICAgICAgIHBvcCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUcmFuc2xhdGUgZHJhd2luZyBjb29yZGluYXRlcyBmcm9tIHgseVxyXG4gICAgKiBAcGFyYW0gWCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIFkgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHRyYW5zbGF0ZSh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIDFdLnQuYWRkKHgsIHkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGUgZHJhd2luZyBjb29yZGluYXRlc1xyXG4gICAgKiBAcGFyYW0gYW5nbGUgVGhlIHJvdGF0aW9uIGFuZ2xlIGluIHJhZGlhbnNcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcm90YXRlKGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIDFdLnIgKz0gYW5nbGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNjYWxlcyB0aGUgbmV4dCBzaGFwZXMgdG8gYnkgZHJhd24gYnkgYSBmYWN0b3JcclxuICAgICogQHBhcmFtIGZhYyBUaGUgZmFjdG9yIG9mIHRoZSBzY2FsZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzY2FsZShmYWMpIHtcclxuICAgICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV0ucyAqPSBmYWM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZW1vdmUgc3Ryb2tlIG9mIHRoZSBzaGFwZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBub1N0cm9rZSgpIHtcclxuICAgICAgICBub1N0cm9rZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBObyBmaWxsIHRoZSBzaGFwZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBub0ZpbGwoKSB7XHJcbiAgICAgICAgbm9GaWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRHJhd2VyO1xyXG4iLCJjbGFzcyBwU0FuaW1hdGlvbkhhbmRsZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgYWJzdHJhY3QgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aW1lTGVuZ3RoIExlbmd0aCBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIEN1c3RvbSBhbmltYXRpb24gZGF0YXNcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHRoaXMuc2NhbGVUaW1lICAgPSAxO1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuICAgICAgICB0aGlzLmRhdGFzICAgICAgID0gZGF0YXM7XHJcbiAgICAgICAgdGhpcy50aW1lTGVuZ3RoICA9IHRpbWVMZW5ndGg7XHJcbiAgICAgICAgdGhpcy5sYXN0S2V5ICAgICA9IHRoaXMuZ2V0S2V5KHRoaXMudXBkYXRlKSAvIHRoaXMuc2NhbGVUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTdGFydCAob3IgcmVzdGFydCkgdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFN0b3AgdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGYgQ3VycmVudCBkcmF3aW5nIGFuaW1hdGlvbiBmdW5jdGlvblxyXG4gICAgKiBAcmV0dXJuIGYoZHQpXHJcbiAgICAqL1xyXG4gICAgZ2V0S2V5KGYpIHtcclxuICAgICAgICBsZXQgZHQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC8gMTAwMCAtIHRoaXMuaW5pdGlhbFQ7XHJcblxyXG4gICAgICAgIGlmKGR0ID4gdGhpcy50aW1lTGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5hbERyYXcodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubGFzdEtleSA9IGYoZHQsIHRoaXMpIC8gdGhpcy5zY2FsZVRpbWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGN1cnJlbnQgdXBkYXRlIGtleSAqL1xyXG4gICAgdXBkYXRlS2V5KCkgeyByZXR1cm4gdGhpcy5nZXRLZXkodGhpcy51cGRhdGUpOyB9XHJcbiAgICAvKiogQHJldHVybiB0aGUgY3VycmVudCBkcmF3IGtleSAqL1xyXG4gICAgZHJhd0tleSAgKCkgeyByZXR1cm4gdGhpcy5nZXRLZXkodGhpcy5kcmF3ICApOyB9XHJcblxyXG4gICAgLyoqIFVwZGF0ZSBsb29wIGZvciBvdmVyd3JpdGluZyAqL1xyXG4gICAgdXBkYXRlKCkge31cclxuICAgIC8qKiBEcmF3IGxvb3AgZm9yIG92ZXJ3cml0aW5nICovXHJcbiAgICBkcmF3ICAoKSB7fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0FuaW1hdGlvbkhhbmRsZXI7XHJcbiIsImltcG9ydCBwU0FuaW1hdGlvbkhhbmRsZXIgZnJvbSAnLi9wU0FuaW1hdGlvbkhhbmRsZXInO1xyXG5cclxuY2xhc3MgcFNJbnRlcnBvbGF0aW9uIGV4dGVuZHMgcFNBbmltYXRpb25IYW5kbGVyIHtcclxuICAgIC8qKlxyXG4gICAgKiBJbnRlcnBvbGF0aW9uIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIFRoZSBkYXRhcyB0byBiZSBpbnRlcnBvbGF0ZWQgJ1tQb2ludDEsIFBvaW50MiwgLi4uXSdcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHN1cGVyKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuXHJcbiAgICAgICAgdGhpcy5pID0gLTE7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2hhcGUgPSB0aGlzLm5leHRTaGFwZShkYXRhcyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxEdCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFNldCBzaGFwZSBiYXNlZCBvbiBhbmltYXRpb24gYW5kIHBvaW50cyAqL1xyXG4gICAgbmV4dFNoYXBlKHBvaW50cykge1xyXG4gICAgICAgIHRoaXMuaSsrO1xyXG5cclxuICAgICAgICBsZXQgaiA9IHRoaXMuaSArIDE7XHJcbiAgICAgICAgaWYoaiA+IHBvaW50cy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICBqID0gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtwb2ludHNbdGhpcy5pXSwgcG9pbnRzW2pdXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRpbWUgQ3VycmVudCB0aW1lIG9mIHRoZSBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHVwZGF0ZSBrZXlcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQsIHRoKSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRpbWUgQ3VycmVudCB0aW1lIG9mIHRoZSBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIGRyYXcga2V5XHJcbiAgICAqL1xyXG4gICAgZHJhdyhkdCwgdGgpIHtcclxuICAgICAgICBsZXQgYyA9IHRoLnRpbWVMZW5ndGggLyB0aC5kYXRhcy5sZW5ndGg7XHJcbiAgICAgICAgaWYoISh0aC5jdXJyZW50U2hhcGVbMF0gPT0gdW5kZWZpbmVkIHx8IHRoLmN1cnJlbnRTaGFwZVsxXSA9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgIGlmKGR0IC0gdGgubG9jYWxEdCA+PSBjKSB7XHJcbiAgICAgICAgICAgICAgICB0aC5jdXJyZW50U2hhcGUgPSB0aC5uZXh0U2hhcGUodGguZGF0YXMpO1xyXG4gICAgICAgICAgICAgICAgdGgubG9jYWxEdCArPSBjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aC5kcmF3Q3VycmVudFNoYXBlKFxyXG4gICAgICAgICAgICB0aC5kYXRhcyxcclxuICAgICAgICAgICAgKGksIGx0LCB0aSwgYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYoaSA9PSB0aSlcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gbHQgLyBjO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQ7XHJcbiAgICAgICAgICAgIH0sIHRoLCB0aC5pICsgMSwgZHQgLSB0aC5sb2NhbER0LCBjKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgZmluYWwgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBmaW5hbERyYXcodGgpIHtcclxuICAgICAgICB0aGlzLmRyYXdDdXJyZW50U2hhcGUodGhpcy5kYXRhcywgKCkgPT4gMSwgdGhpcywgdGhpcy5kYXRhcy5sZW5ndGgsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGN1cnJlbnQgc2hhcGUgb24gc2NyZWVuXHJcbiAgICAqIEBwYXJhbSBkIHRoaXMuZGF0YXNcclxuICAgICogQHBhcmFtIHBlcmNlbnRGdW5jdGlvbiBDdXJyZW50IGFuaW1hdGlvbiBnZXQgcGVyY2VudCBmdW5jdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEBwYXJhbSBtYXhJIE1heCBwb2ludHMgY291bnRcclxuICAgICogQHBhcmFtIGx0IEN1cnJlbnQgdGltZSB2YWx1ZVxyXG4gICAgKiBAcGFyYW0gYyBGaW5hbCB0aW1lIHZhbHVlIC8gbWF4IHBvaW50cyBjb3VudFxyXG4gICAgKi9cclxuICAgIGRyYXdDdXJyZW50U2hhcGUoZCwgcGVyY2VudEZ1bmN0aW9uLCB0aCwgbWF4SSwgbHQsIGMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heEk7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGVyY2VudCA9IHBlcmNlbnRGdW5jdGlvbihpLCBsdCwgdGguaSwgYyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbiA9IGkgKyAxO1xyXG4gICAgICAgICAgICBpZihuID49IGQubGVuZ3RoKSBuID0gMDtcclxuXHJcbiAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMylcclxuICAgICAgICAgICAgICAgIC5zdHJva2UoMjU1KVxyXG4gICAgICAgICAgICAgICAgLmxpbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueCxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy55LFxyXG4gICAgICAgICAgICAgICAgICAgIGRbaV0ucG9zLnggKyAoZFtuXS5wb3MueCAtIGRbaV0ucG9zLngpICogcGVyY2VudCxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy55ICsgKGRbbl0ucG9zLnkgLSBkW2ldLnBvcy55KSAqIHBlcmNlbnRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0ludGVycG9sYXRpb247XHJcbiIsImltcG9ydCBwU0FuaW1hdGlvbkhhbmRsZXIgZnJvbSAnLi9wU0FuaW1hdGlvbkhhbmRsZXInO1xyXG5cclxuY2xhc3MgcFNFYXNlSW5PdXRDdWJpYyBleHRlbmRzIHBTQW5pbWF0aW9uSGFuZGxlciB7XHJcbiAgICAvKipcclxuICAgICogRWFzZSBpbiBhbmQgb3V0IGN1YmljIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIE1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzICd7IG1pbiA6IDAsIG1heCA6IDEgfSdcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHN1cGVyKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5kYXRhcy5taW4gPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFzLm1pbiA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5kYXRhcy5tYXggPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFzLm1heCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBrZXlcclxuICAgICovXHJcbiAgICB1cGRhdGUodGltZSwgdGgpIHtcclxuICAgICAgICBsZXQgdCA9IHRpbWUgLyB0aC50aW1lTGVuZ3RoO1xyXG4gICAgICAgIGlmKHQgPCAwLjUpXHJcbiAgICAgICAgICAgIHJldHVybiAoMiAqIHQgKiB0KSAqICh0aC5kYXRhcy5tYXggLSB0aC5kYXRhcy5taW4pICsgdGguZGF0YXMubWluO1xyXG4gICAgICAgIHJldHVybiAoLTEgKyAoNCAtIDIgKiB0KSAqIHQpICogKHRoLmRhdGFzLm1heCAtIHRoLmRhdGFzLm1pbikgKyB0aC5kYXRhcy5taW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBkcmF3IGtleVxyXG4gICAgKi9cclxuICAgIGRyYXcoZHQsIHQpIHsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IHRoZSBmaW5hbCBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKi9cclxuICAgIGZpbmFsRHJhdyh0aCkge1xyXG4gICAgICAgIHJldHVybiB0aC5kYXRhcy5tYXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRWFzZUluT3V0Q3ViaWM7XHJcbiIsImltcG9ydCBwU0ludGVycG9sYXRpb24gIGZyb20gJy4vYW5pbWF0aW9ucy9wU0ludGVycG9sYXRpb24nO1xyXG5pbXBvcnQgcFNFYXNlSW5PdXRDdWJpYyBmcm9tICcuL2FuaW1hdGlvbnMvcFNFYXNlSW5PdXRDdWJpYyc7XHJcblxyXG5jbGFzcyBBbmltYXRpb24ge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSBhbmltYXRpb25OYW1lIE5hbWUgb2YgdGhlIGFuaW1hdGlvbiAoJ2Vhc2VJbk91dEN1YmljJywgJ2ludGVycG9sYXRpb24nKVxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBMZW5ndGggb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzIChkZWZhdWx0IDogMSlcclxuICAgICogQHBhcmFtIGRhdGFzIE9wdGlvbmFsIHBhcmFtZXRlciAoc2VlIHNwZWNpZmljIGFuaW1hdGlvbiBmb3IgYW5pbWF0aW9uIGluZm9ybWF0aW9ucylcclxuICAgICovXHJcbiAgICBzdGF0aWMgbmV3KGFuaW1hdGlvbk5hbWUsIHRpbWVMZW5ndGggPSAxLCBkYXRhcyA9IHt9KSB7XHJcbiAgICAgICAgaWYoIWFuaW1hdGlvbk5hbWUpXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbk5hbWUgPSAnZWFzZUluT3V0Q3ViaWMnO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGFuaW1hdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZWFzZUluT3V0Q3ViaWMnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwU0Vhc2VJbk91dEN1YmljKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnaW50ZXJwb2xhdGlvbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHBTSW50ZXJwb2xhdGlvbih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBbmltYXRpb247XHJcbiIsImltcG9ydCAnLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuXHJcbmNsYXNzIHBTUGxvdHRlciB7XHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHNpbXVsYXRvciBNYWluIEVuZ2luZSBzaW11bGF0b3JcclxuICAgICogQHBhcmFtIGRyYXdlciBNYWluIEVuZ2luZSBkcmF3ZXIgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihzaW11bGF0b3IsIGRyYXdlcikge1xyXG4gICAgICAgIHRoaXMuc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xyXG4gICAgICAgIHRoaXMuZHJhd2VyICAgID0gZHJhd2VyO1xyXG4gICAgICAgIHRoaXMub2JqZWN0c0wgID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2VyLnBsb3R0ZXIgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVcGRhdGUgbWFpbiBsb29wXHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlIChpbiBzZWNvbmRzKVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmKHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlci5pc18zRCkge1xyXG4gICAgICAgICAgICBsaWdodHMoKTtcclxuICAgICAgICAgICAgb3JiaXRDb250cm9sKDUsIDUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHNMLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNMW2ldLnVwZGF0ZShkdCwgdGhpcy5vYmplY3RzTCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogRHJhdyBtYWluIGxvb3AgKi9cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgbGV0IHBsQ29uZiA9IHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuICAgICAgICBsZXQgYmcgICAgID0gcGxDb25mLmJhY2tncm91bmRDb2xvci5jb2xvcjtcclxuXHJcbiAgICAgICAgaWYocGxDb25mLmJhY2tncm91bmRDb2xvci5kcmF3KVxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kKGJnLnIsIGJnLmcsIGJnLmIpO1xyXG5cclxuICAgICAgICAvLyBEcmF3IGV2ZXJ5IG9iamVjdCB0byB0aGUgc2NyZWVuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHNMLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNMW2ldLmRyYXcodGhpcy5kcmF3ZXIpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgZ3JpZFxyXG4gICAgICAgIGlmKHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlci5kaXNwbGF5R3JpZCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnTW9kZSgxMDAsIDEwLCAwLCAwLCAwLCAyMCwgMCwgLTQwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgwLjUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB5UyA9IE1hdGgucm91bmQoaGVpZ2h0IC8gcGxDb25mLnNjYWxlLnkgLyAyKTtcclxuICAgICAgICAgICAgICAgIGlmKCFwbENvbmYuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgICAgIHlTID0gcGxDb25mLnNjYWxlLnk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IC1wbENvbmYuc2NhbGUueCAtIDE7IGkgPCBwbENvbmYuc2NhbGUueCArIDE7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gLXlTIC0gMTsgaiA8IHlTICsgMTsgaisrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5yZWN0KGkgKyBwbENvbmYub2Zmc2V0LngsIGogKyBwbENvbmYub2Zmc2V0LnksIDEsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEgKyAwLjMpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5saW5lKC1wbENvbmYuc2NhbGUueCArIHBsQ29uZi5vZmZzZXQueCAtIDEsIDAsIHBsQ29uZi5zY2FsZS54ICsgcGxDb25mLm9mZnNldC54ICsgMSwgMCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmKCFwbENvbmYuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyLmxpbmUoMCwgLXBsQ29uZi5zY2FsZS55IC0gMSwgMCwgcGxDb25mLnNjYWxlLnkgKyAxKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5saW5lKDAsIC15UyAtIDEsIDAsIHlTICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAuc3Ryb2tlKHBsQ29uZi5ncmlkQ29sb3IuciwgcGxDb25mLmdyaWRDb2xvci5nLCBwbENvbmYuZ3JpZENvbG9yLmIsIHBsQ29uZi5ncmlkQ29sb3IuYSlcclxuICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgwLjUpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENvbXB1dGUgdGhlIFggYW5kIFkgcGl4ZWwgcG9zaXRpb24gYmFzZWQgb24gdGhlIGRyYXdpbmcgcGFyYW1ldGVyc1xyXG4gICAgKiBAcGFyYW0geFJlbCBYIHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5UmVsIFkgcmVsYXRpdmUgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHpSZWwgWiByZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0gdXNlT2Zmc2V0IENhbGN1bGF0ZSB3aXRoIHNpbXVsYXRpb24gb2Zmc2V0cyAoZGVmYXVsdCA6IHRydWUpXHJcbiAgICAqIEByZXR1cm4ge1gsIFksIFp9IG9iamVjdFxyXG4gICAgKi9cclxuICAgIGNvbXB1dGVGb3JYWVooeFJlbCwgeVJlbCwgelJlbCwgdXNlT2Zmc2V0ID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBjID0gdGhpcy5zaW11bGF0b3IuY29uZmlnLmVuZ2luZS5wbG90dGVyO1xyXG5cclxuICAgICAgICAvLyA9PT0gUHVzaCgpIGFuZCBwb3AoKSBlZmZlY3RzIChvbmx5IGN1cnJlbnRseSB3b3JrcyBpbiAyRCkgPT09XHJcbiAgICAgICAgbGV0IGQgPSB0aGlzLnNpbXVsYXRvci5wbG90dGVyLmRyYXdlcjtcclxuICAgICAgICBsZXQgc3RhY2sgPSBkLnN0YWNrW2Quc3RhY2subGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgIC8vIFJvdGF0aW9ucyAob25seSBpbiAyRCkgPT4gcG9pbnRzIGFyZSBjdXJyZW50bHkgd2l0aCAnbm9ybWFsJyAoMCwgMCkgYXMgb3JpZ2luXHJcbiAgICAgICAgaWYgKHN0YWNrLnIgJSAyKk1hdGguUEkgIT0gMCkge1xyXG4gICAgICAgICAgICBsZXQgeFRtcCA9IHhSZWw7XHJcbiAgICAgICAgICAgIHhSZWwgPSB4UmVsKk1hdGguY29zKHN0YWNrLnIpIC0geVJlbCpNYXRoLnNpbihzdGFjay5yKTtcclxuICAgICAgICAgICAgeVJlbCA9IHhUbXAqTWF0aC5zaW4oc3RhY2sucikgKyB5UmVsKk1hdGguY29zKHN0YWNrLnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2NhbGVcclxuICAgICAgICB4UmVsICo9IHN0YWNrLnM7XHJcbiAgICAgICAgeVJlbCAqPSBzdGFjay5zO1xyXG5cclxuICAgICAgICAvLyBUcmFuc2xhdGlvbnNcclxuICAgICAgICB4UmVsICs9IHN0YWNrLnQueDtcclxuICAgICAgICB5UmVsICs9IHN0YWNrLnQueTtcclxuXHJcblxyXG4gICAgICAgIC8vID09PSBDb21wdXRlcyBjb29yZGluYXRlcyBpbiBwaXhlbHMgPT09XHJcbiAgICAgICAgaWYoIXVzZU9mZnNldCAmJiAhYy5pc18zRCAmJiBjLnNxdWFyZUJ5WCkge1xyXG4gICAgICAgICAgICBsZXQgdjAgPSB0aGlzLmNvbXB1dGVGb3JYWVooMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIGxldCB2MSA9IHRoaXMuY29tcHV0ZUZvclhZWih4UmVsLCB5UmVsLCB6UmVsKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICAgICAgdjEueCAtIHYwLngsXHJcbiAgICAgICAgICAgICAgICB2MS55IC0gdjAueSxcclxuICAgICAgICAgICAgICAgIHYxLnogLSB2MC56XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFjLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgICAgICgoeFJlbCAtIGMub2Zmc2V0LngpIC8gYy5zY2FsZS54ICsgMSkgKiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgKCh4UmVsICsgYy5vZmZzZXQueikgLyBjLnNjYWxlLnogKyAxKSAqIHdpZHRoIC8gMlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYoIWMuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgdi55ID0gKCgteVJlbCArIGMub2Zmc2V0LnkpIC8gYy5zY2FsZS55ICsgMSkgKiBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB2LnkgPSAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLngpICAgICAqIHdpZHRoICAvIDIgKyBoZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyAzRFxyXG4gICAgICAgICAgICAvLyAzNjAgeCAzNjAgOiBncmlkIHNpemVcclxuICAgICAgICAgICAgbGV0IGZhYyA9IDE4MCAqIDAuMjg7XHJcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgICAgICgoIHhSZWwgKyBjLm9mZnNldC54KSAvIGMuc2NhbGUueCkgKiBmYWMsXHJcbiAgICAgICAgICAgICAgICAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLnkpICogZmFjLFxyXG4gICAgICAgICAgICAgICAgKCggelJlbCArIGMub2Zmc2V0LnopIC8gYy5zY2FsZS56KSAqIGZhY1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogQ29tcHV0ZSB0aGUgWCBhbmQgWSBwbG90IHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBwaXhlbCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geFJlbCBYIHBpeGVsIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5UmVsIFkgcGl4ZWwgcG9zaXRpb25cclxuICAgICogQHJldHVybiB7WCwgWX0gb2JqZWN0XHJcbiAgICAqL1xyXG4gICAgY29tcHV0ZUZvclhZRnJvbVBpeGVsKHgsIHkpIHtcclxuICAgICAgICBsZXQgYyA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IoKCh4ICogMikgLyB3aWR0aCAtIDEpICogYy5zY2FsZS54ICsgYy5vZmZzZXQueCk7XHJcblxyXG4gICAgICAgIGlmKGMuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICB2LnkgPSAtKCgoeSAqIDIpIC8gaGVpZ2h0IC0gMSkgICAgICAgICAgICogYy5zY2FsZS55IC0gYy5vZmZzZXQueSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB2LnkgPSAtKCgoKHkgLSAyICogaGVpZ2h0KSAqIDIpIC8gd2lkdGgpICogYy5zY2FsZS55IC0gYy5vZmZzZXQueSk7XHJcblxyXG4gICAgICAgIHJldHVybiB2O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1Bsb3R0ZXI7XHJcbiIsImltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vLi4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5pbXBvcnQgcFNEcmF3ZXIgICBmcm9tICcuLy4uL2RyYXdlci9EcmF3ZXInO1xyXG5pbXBvcnQgcFMzRERyYXdlciBmcm9tICcuLy4uL2RyYXdlci8zRERyYXdlcic7XHJcbmltcG9ydCBwU1JlY29yZGVyIGZyb20gJy4vLi4vdXRpbGl0aWVzL1JlY29yZGVyJztcclxuXHJcbmNsYXNzIHBTaW11bGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgICAgICAgICA9IHt9O1xyXG4gICAgICAgIHRoaXMuYmVnaW5UaW1lICAgICAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubGFzdERyYXdUaW1lICAgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbmZpZy5lbmdpbmUgID0gdGhpcy5nZXREZWZhdWx0RW5naW5lQ29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5jb25maWcuY3VzdG9tICA9IHt9O1xyXG5cclxuICAgICAgICB3aW5kb3cuZ2V0Q3VzdG9tQ29uZmlnID0gdGhpcy5nZXRDdXN0b21Db25maWc7XHJcbiAgICAgICAgd2luZG93LmdldEVuZ2luZUNvbmZpZyA9IHRoaXMuZ2V0RW5naW5lQ29uZmlnO1xyXG5cclxuICAgICAgICB0aGlzLmR0TW95ICAgPSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLnJvbGxiYWNrQ29udHJvbC5taW5pbWFsVXBkYXRlRlBTO1xyXG4gICAgICAgIHRoaXMuZHRUb3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5kdENvdW50ID0gMDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqIEluc3RhbmNpYXRlIHRoZSBwU2ltdWxhdG9yICovXHJcbiAgICBpbnN0YW5jaWF0ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB3aW5kb3cucHJlUnVuU2ltdWxhdG9yKHRoaXMpOyAvLyBwcmVtYWluIGZ1bmN0aW9uXHJcbiAgICAgICAgfSBjYXRjaChlKSB7fSAvLyBub3QgZm91bmRcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVQNUluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYoIXRoaXMuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZXMoJ2FudGlhbGlhcycsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnBsb3R0ZXIgPSBuZXcgcFNQbG90dGVyKHRoaXMsIG5ldyBwU0RyYXdlcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnBsb3R0ZXIgPSBuZXcgcFNQbG90dGVyKHRoaXMsIG5ldyBwUzNERHJhd2VyKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnJlY29yZGVyID0gbmV3IHBTUmVjb3JkZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlGcm9tUGl4ZWwobW91c2VYLCBtb3VzZVkpO1xyXG5cclxuICAgICAgICB3aW5kb3cucnVuU2ltdWxhdG9yKHRoaXMpOyAvLyBtYWluIGZ1bmN0aW9uXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBwNSBpbnN0YW5jZSBhbmQgY3JlYXRlcyBsb29wcyBmb3IgdGhlIHNpbXVsYXRpb24gKi9cclxuICAgIGNyZWF0ZVA1SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLmdldENhbnZhc1Byb3BvcnRpb25zKHRoaXMuY29uZmlnLmVuZ2luZS53aW5kb3cucHJvcG9ydGlvbnMpO1xyXG5cclxuICAgICAgICBpZighdGhpcy5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHAudywgcC5oKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHAudywgcC5oLCBXRUJHTCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudCh0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmRpdklkKTtcclxuXHJcbiAgICAgICAgbGV0IHJ1ID0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lcjtcclxuICAgICAgICBpZihydS5VUERBVEVfRlBTID49IHJ1LkRSQVdfRlBTKSBmcmFtZVJhdGUocnUuVVBEQVRFX0ZQUyk7XHJcbiAgICAgICAgZWxzZSBjb25zb2xlLmVycm9yKCdUaGUgVXBkYXRlcyBGUFMgbXVzdCBiZSBzdXBlcmlvciBhcyB0aGUgRHJhd3MgRlBTLicpXHJcblxyXG5cclxuICAgICAgICAvLyBydW5zIGV2ZXJ5IHRpbWUgaXQncyBwb3NzaWJsZVxyXG4gICAgICAgIHdpbmRvdy5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzICAgICAgICAgICAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZTtcclxuICAgICAgICBcdGxldCBjdXJyZW50VGltZSAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIFx0bGV0IGR0ICAgICAgICAgICA9IChjdXJyZW50VGltZSAtIHMubGFzdFVwZGF0ZVRpbWUpIC8gMTAwMDtcclxuICAgICAgICAgICAgbGV0IGNyaXRpcUR0ICAgICA9IHMuZHRNb3kgKyBzLmR0TW95ICogcy5jb25maWcuZW5naW5lLnJ1bm5lci5yb2xsYmFja0NvbnRyb2wubWF4U3RhbmRhcmREZXZpYXRpb247XHJcblxyXG4gICAgICAgICAgICBzLm1vdXNlUG9zID0gcy5wbG90dGVyLmNvbXB1dGVGb3JYWUZyb21QaXhlbChtb3VzZVgsIG1vdXNlWSk7XHJcblxyXG4gICAgICAgICAgICBpZighcy5yZWNvcmRlci5ydW5uaW5nIHx8IChzLnJlY29yZGVyLnJ1bm5pbmcgJiYgIXMucmVjb3JkZXIuZnJhbWVCbG9ja2VyKSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZHQgPiBjcml0aXFEdClcclxuICAgICAgICAgICAgICAgICAgICBkdCA9IHMuZHRNb3k7XHJcbiAgICAgICAgICAgIFx0cy5sYXN0VXBkYXRlVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICBcdHMucGxvdHRlci51cGRhdGUoZHQgKiBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnNpbXVsYXRpb25TcGVlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHMucmVjb3JkZXIucnVubmluZyAmJiAhcy5yZWNvcmRlci5wYXVzZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgcy5yZWNvcmRlci5zbmFwc2hvdChkdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoY3VycmVudFRpbWUgLSBzLmxhc3REcmF3VGltZSA+PSAxIC8gcy5jb25maWcuZW5naW5lLnJ1bm5lci5EUkFXX0ZQUykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGR0IDw9IGNyaXRpcUR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRUb3RhbCArPSBkdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdENvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHMuZHRDb3VudCAlIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIucm9sbGJhY2tDb250cm9sLmF2ZXJhZ2VUaW1lU2FtcGxlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRNb3kgICA9IHMuZHRUb3RhbCAvIHMuZHRDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmR0Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzLnBsb3R0ZXIuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHMubGFzdERyYXdUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIElzIHJlY29yZGluZyBzY3JlZW4gaW4gYSBibG9ja2luZy10aW1lIHdheVxyXG4gICAgICAgICAgICAgICAgaWYocy5yZWNvcmRlci5wYXVzZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGR0ID0gMSAvIHMucmVjb3JkZXIudXBkYXRlRlBTO1xyXG4gICAgICAgICAgICAgICAgcy5yZWNvcmRlci5jdXJyZW50UmVsVCArPSBkdDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2hvdWxkU25hcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHMucmVjb3JkZXIuY3VycmVudFJlbFQgLSBzLnJlY29yZGVyLmxhc3REcmF3VGltZSA+PSAxIC8gcy5yZWNvcmRlci5kcmF3aW5nRlBTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHQgPSAxIC8gcy5yZWNvcmRlci5kcmF3aW5nRlBTO1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNuYXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBzLmxhc3RVcGRhdGVUaW1lID0gcy5yZWNvcmRlci5jdXJyZW50UmVsVDtcclxuICAgICAgICAgICAgICAgIHMucGxvdHRlci51cGRhdGUoZHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTbmFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5wbG90dGVyIC5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5yZWNvcmRlci5zbmFwc2hvdChkdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5yZWNvcmRlci5sYXN0RHJhd1RpbWUgPSBzLnJlY29yZGVyLmN1cnJlbnRSZWxUO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcnVucyBldmVyeSB0aW1lIHRoZSB3aW5kb3cgaXMgcmVzaXplZFxyXG4gICAgICAgIHdpbmRvdy53aW5kb3dSZXNpemVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKF9wU2ltdWxhdGlvbkluc3RhbmNlLnJlY29yZGVyLnJ1bm5pbmcgJiYgX3BTaW11bGF0aW9uSW5zdGFuY2UucmVjb3JkZXIuZnJhbWVCbG9ja2VyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IHAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRDYW52YXNQcm9wb3J0aW9ucyhfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLndpbmRvdy5wcm9wb3J0aW9ucyk7XHJcbiAgICAgICAgICAgIHJlc2l6ZUNhbnZhcyhwLncsIHAuaCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcnVuIGVhY2ggdGltZSBtb3VzZSBpcyBwcmVzc2VkXHJcbiAgICAgICAgd2luZG93Lm1vdXNlRHJhZ2dlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5ydW5uZXIubW92YWJsZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCBtb3VzZVBvcyA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZRnJvbVBpeGVsKG1vdXNlWCwgbW91c2VZKTtcclxuICAgICAgICAgICAgaWYoIV9wU2ltdWxhdGlvbkluc3RhbmNlLm1vdXNlUG9zLmVxdWFscyhtb3VzZVBvcykpIHtcclxuICAgICAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlci5vZmZzZXQueCAtPSBtb3VzZVBvcy54IC0gX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MueDtcclxuICAgICAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlci5vZmZzZXQueSAtPSBtb3VzZVBvcy55IC0gX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiogQHJldHVybiB7dywgaH0gcHJvcG9ydGlvbnMgb2YgdGhlIGNhbnZhcyBiYXNlZCBvbiB0aGUgcGFyYW1ldGVycyAqL1xyXG4gICAgZ2V0Q2FudmFzUHJvcG9ydGlvbnMoY1ApIHtcclxuICAgICAgICBsZXQgdywgaDtcclxuXHJcbiAgICAgICAgaWYoY1AuaXNSZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICB3ID0gd2luZG93V2lkdGggICogY1Aud2lkdGg7XHJcbiAgICAgICAgICAgIGggPSB3aW5kb3dIZWlnaHQgKiBjUC5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3ID0gY1Aud2lkdGggICsgXCJweFwiO1xyXG4gICAgICAgICAgICBoID0gY1AuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHt3LCBofTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGN1c3RvbU9iamVjdCB0aGUgT2JqZWN0IHRoYXQgaXMgZ29pbmcgdG8gYmUgc2ltdWxhdGVkIChjYW4gYmUgaW5zdGFuY2lhdGVkIG9yIG5vdClcclxuICAgICogQHBhcmFtIG51bWJlciBOdW1iZXIgb2Ygb2JqZWN0cyB0byBiZSBpbnN0YW5jaWF0ZWRcclxuICAgICogQHBhcmFtIHBhcmFtcyBUaGUgcGFyYW1ldGVycyBpbiB0aGUgZnVuY3Rpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgYWRkT2JqZWN0cyhjdXN0b21PYmplY3QsIG51bWJlciA9IDEsIC4uLnBhcmFtcykge1xyXG4gICAgICAgIGlmKGN1c3RvbU9iamVjdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb3B5UGFyYW1zVGVtcCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJhbXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW2pdIGluc3RhbmNlb2YgQXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcGFyYW1zW2pdWzBdICE9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbXNbal1bMV0gIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHBhcmFtc1tqXVsxXSBpbnN0YW5jZW9mIEZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgICAgIChwYXJhbXNbal1bMF0gPT0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5hZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMucnVuRnVuY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChwYXJhbXNbal1bMV0oLi4ucGFyYW1zW2pdLnNsaWNlKDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYocGFyYW1zW2pdWzBdID09IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXIuYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzLnJ1bkNsYXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChuZXcgcGFyYW1zW2pdWzFdKC4uLnBhcmFtc1tqXS5zbGljZSgyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlQYXJhbXNUZW1wLnB1c2gocGFyYW1zW2pdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucGxvdHRlci5vYmplY3RzTC5wdXNoKG5ldyBjdXN0b21PYmplY3QoLi4uY29weVBhcmFtc1RlbXApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGxvdHRlci5vYmplY3RzTC5wdXNoKGN1c3RvbU9iamVjdCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2YgdGhlIGVuZ2luZSAqL1xyXG4gICAgZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBydW5uZXIgOiB7XHJcbiAgICAgICAgICAgICAgICBkaXZJZCA6ICdzaW11bGF0aW9uQ29udGVudCcsXHJcbiAgICAgICAgICAgICAgICBVUERBVEVfRlBTIDogMTIwLFxyXG4gICAgICAgICAgICAgICAgRFJBV19GUFMgICA6IDYwLFxyXG4gICAgICAgICAgICAgICAgc2ltdWxhdGlvblNwZWVkIDogMSxcclxuICAgICAgICAgICAgICAgIGFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyA6IHsgIC8vIGtleXdvcmRzIGZvciB3aGVuIHdlIGFkZCBvYmplY3RzIGF0IHRoZSBzdGFydCBvZiB0aGUgZW5naW5lXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuRnVuY3Rpb25zIDogJ19SVU5fRicsIC8vIHJ1biBhIGZ1bmN0aW9uIHdpdGggICAgICAgWydfUlVOX0YnLCBmdW5jdGlvbk5hbWUsIHBhcmFtMSwgcGFyYW0yLCAuLi5dLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkNsYXNzICAgICA6ICdfUlVOX0MnICAvLyBpbnN0YW5jaWF0ZXMgYSBjbGFzcyB3aXRoIFsnX1JVTl9DJywgY2xhc3NOYW1lICAgLCBwYXJhbTEsIHBhcmFtMiwgLi4uXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJvbGxiYWNrQ29udHJvbCA6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhTdGFuZGFyZERldmlhdGlvbiA6IDAuOCwgIC8vIG1heGltdW0gdGljayBkZXZpYXRpb24gcGVyY2VudGFnZSBmb3IgdGhlIHNvZnR3YXJlIHRvIGNvbnNpZGVyIGFzIGEgcm9sbGJhY2sgKGluIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWVTYW1wbGUgICAgOiAyMCwgICAvLyBzYW1wbGUgc2l6ZSBmb3IgdGljayBhdmVyYWdlIChpbiBzZWNvbmRzKSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5pbWFsVXBkYXRlRlBTICAgICA6IDAuMTUgIC8vIG1pbmltYWwgdXBkYXRlIGZyYW1lc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzX21vdmFibGUgOiBmYWxzZSAvLyBjYW4gdGhlIGN1cnNvciBtb3ZlIG9uIHRoZSBzY3JlZW5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd2luZG93IDoge1xyXG4gICAgICAgICAgICAgICAgcHJvcG9ydGlvbnMgOiB7ICAvLyB3aW5kb3cgaGVpZ2h0IGFuZCB3aWR0aCBvbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBzaXplc1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVsYXRpdmUgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICA6IDAuOTksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IDogMC45OVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIFx0cGxvdHRlciA6IHtcclxuICAgICAgICBcdFx0c2NhbGUgOiB7ICAvLyBkaXNwbGF5cyB4IHJlbGF0aXZlIHVuaXRzIG9uIGVhY2ggc2lkZVxyXG4gICAgICAgIFx0XHRcdHggOiAxMCxcclxuICAgICAgICBcdFx0XHR5IDogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgeiA6IDEwXHJcbiAgICAgICAgXHRcdH0sXHJcbiAgICAgICAgXHRcdG9mZnNldCA6IHsgIC8vIHggYW5kIHkgcmVsYXRpdmUgb2Zmc2V0XHJcbiAgICAgICAgXHRcdFx0eCA6IDAsXHJcbiAgICAgICAgXHRcdFx0eSA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeiA6IDBcclxuICAgICAgICBcdFx0fSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA6IHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3IDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA6IHsgciA6IDAgLCBnIDogMCAsIGIgOiAwIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzcXVhcmVCeVggICAgICAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzXzNEICAgICAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbG9yICAgICAgIDogeyByIDogMjU1LCBnIDogMjU1LCBiIDogMjU1LCBhIDogMC4zIH0sXHJcbiAgICAgICAgXHRcdGRpc3BsYXlHcmlkICAgICA6IGZhbHNlICAvLyB0cnVlIDogZGlzcGxheSBncmFwaCBvbiB0aGUgc2NyZWVuXHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZ0Z1bmMgVGhlIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0UHJlRW5naW5lQ29uZmlnKGNvbmZpZ0Z1bmMpIHtcclxuICAgICAgICBjb25maWdGdW5jKHRoaXMuY29uZmlnLmVuZ2luZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjb25maWdGdW5jIFRoZSBmdW5jdGlvbiB0aGF0IG1vZGlmaWVzIGVuZ2luZSBjb25maWd1cmF0aW9uXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldEVuZ2luZUNvbmZpZyhjb25maWdGdW5jKSB7XHJcbiAgICAgICAgY29uZmlnRnVuYyh0aGlzLmNvbmZpZy5lbmdpbmUpO1xyXG4gICAgICAgIHdpbmRvdy53aW5kb3dSZXNpemVkKCk7IC8vIGlmIHByb3BvcnRpb25zIGNoYW5nZWRcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZyBUaGUgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBjdXN0b20gY29uZmlndXJhdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRDdXN0b21Db25maWcoY29uZmlnRnVuYykge1xyXG4gICAgICAgIGNvbmZpZ0Z1bmModGhpcy5jb25maWcuY3VzdG9tKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHJldHVybiB0aGUgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICovXHJcbiAgICBnZXRFbmdpbmVDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJuIHRoZSBjdXN0b20gY29uZmlndXJhdGlvblxyXG4gICAgKi9cclxuICAgIGdldEN1c3RvbUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5jdXN0b207XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFBTRW5naW5lVmFyKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQFRPRE9cclxuICAgICAgICAqL1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU2ltdWxhdG9yO1xyXG4iLCJpbXBvcnQgcFNEcmF3ZXIgZnJvbSAnLi9EcmF3ZXInO1xyXG5cclxuY2xhc3MgcFMzRERyYXdlciB7XHJcbiAgICAvKiogQ29uc3RydWN0IHRoZSBtYWluIHBTM0RFbmdpbmUgZHJhd2VyICovXHJcbiAgICBjb25zdHJ1Y3RvcihwbG90dGVyKSB7XHJcbiAgICAgICAgdGhpcy5wbG90dGVyICA9IG51bGw7IC8vIHNldCB3aGVuIGxvYWRlZCBpbiB0aGUgUGxvdHRlciBjbGFzc1xyXG4gICAgICAgIHRoaXMuZHJhd2VyMkQgPSBuZXcgcFNEcmF3ZXIocGxvdHRlcik7XHJcblxyXG4gICAgICAgIHRoaXMuc3Ryb2tlICAgICAgID0gdGhpcy5kcmF3ZXIyRC5zdHJva2U7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXZWlnaHQgPSB0aGlzLmRyYXdlcjJELnN0cm9rZVdlaWdodDtcclxuICAgICAgICB0aGlzLmZpbGwgICAgICAgICA9IHRoaXMuZHJhd2VyMkQuZmlsbDtcclxuICAgICAgICB0aGlzLmJlZ2luU2hhcGUgICA9IHRoaXMuZHJhd2VyMkQuYmVnaW5TaGFwZTtcclxuICAgICAgICB0aGlzLmVuZFNoYXBlICAgICA9IHRoaXMuZHJhd2VyMkQuZW5kU2hhcGU7XHJcbiAgICAgICAgdGhpcy52ZXJ0ZXggICAgICAgPSB0aGlzLmRyYXdlcjJELnZlcnRleDtcclxuICAgICAgICB0aGlzLnBvcCAgICAgICAgICA9IHRoaXMuZHJhd2VyMkQucG9wO1xyXG4gICAgICAgIHRoaXMucHVzaCAgICAgICAgID0gdGhpcy5kcmF3ZXIyRC5wdXNoO1xyXG4gICAgICAgIHRoaXMubm9TdHJva2UgICAgID0gdGhpcy5kcmF3ZXIyRC5ub1N0cm9rZTtcclxuICAgICAgICB0aGlzLm5vRmlsbCAgICAgICA9IHRoaXMuZHJhd2VyMkQubm9GaWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbmUoeDAsIHkwLCB6MCwgeDEsIHkxLCB6MSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgwLCB5MCwgejApO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgxLCB5MSwgejEpO1xyXG5cclxuICAgICAgICBiZWdpblNoYXBlKCk7XHJcbiAgICAgICAgICAgIHZlcnRleCh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgdmVydGV4KHYxLngsIHYxLnksIHYxLnopO1xyXG4gICAgICAgIGVuZFNoYXBlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNwaGVyZSh4LCB5LCB6LCByKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSwgeik7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgMCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICBzcGhlcmUodjEueCk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmUoeCwgeSwgeiwgciwgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHIsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgY29uZSh2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYm94KHgsIHksIHosIHcsIGgpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIGJveCh2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY3lsaW5kZXIoeCwgeSwgeiwgciwgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHIsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgY3lsaW5kZXIodjEueCwgdjEueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYW5lKHgsIHksIHosIHcsIGgpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIHBsYW5lKHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICBzY2FsZShzKSB7XHJcbiAgICAgICAgc2NhbGUocyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kZWwobSwgbm0pIHtcclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHNjYWxlKC0xKTtcclxuICAgICAgICAgICAgaWYgKG5tKVxyXG4gICAgICAgICAgICAgICAgbm9ybWFsTWF0ZXJpYWwoKTtcclxuICAgICAgICAgICAgbW9kZWwobSk7XHJcbiAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKHgsIHksIHopIHtcclxuICAgICAgICB0cmFuc2Zvcm0oeCwgeSwgeik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTM0REcmF3ZXI7XHJcbiIsImNsYXNzIHBTUmVjb3JkZXIge1xyXG4gICAgLyoqIEF1dG9tYXRpY2FsbHkgY2FsbGVkIEBzZWUgdGhlIGluc3RhbmNlIGF0IF9wU2ltdWxhdGlvbkluc3RhbmNlLnJlY29yZGVyICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5hbWUgICAgICAgICAgICAgPSAnQ2FudmFzLVJlY29yZGVyJztcclxuICAgICAgICB0aGlzLmlkICAgICAgICAgICAgICAgPSAwO1xyXG4gICAgICAgIHRoaXMucGl4ZWxEYXRhcyAgICAgICA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwKDYwLCAxMjAsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBdXRvbWF0aWNhbGx5IGNhbGxlZFxyXG4gICAgKiBAcGFyYW0gZHJhd2luZ0ZQUyBGUFMgb2YgdGhlIGZpbmFsIHZpZGVvXHJcbiAgICAqIEBwYXJhbSB3aWR0aCBXaWR0aCBvZiB0aGUgdmlkZW9cclxuICAgICogQHBhcmFtIGhlaWdodCBIZWlnaHQgb2YgdGhlIHZpZGVvXHJcbiAgICAqIEBwYXJhbSB1cGRhdGVGUFMgIEZQUyBmb3IgZXZlcnkgY2FsY3VsYXRpb25zIGRvbmUgb24gdGhlIHVwZGF0ZSgpIGxvb3BcclxuICAgICogQHBhcmFtIGZyYW1lQmxvY2tlciB0cnVlIGJ5IGRlZmF1bHQgOiB3aWxsIG1ha2Ugc3VyZSB2aWRlbyBpcyByZWFsbHkgdHVybmluZyBhdCBkcmF3aW5nRlBTXHJcbiAgICAqL1xyXG4gICAgc2V0dXAoZHJhd2luZ0ZQUywgd2lkdGgsIGhlaWdodCwgdXBkYXRlRlBTLCBmcmFtZUJsb2NrZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoICAgICAgICA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ICAgICAgID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucGl4ZWxEZW5zaXR5ID0gcGl4ZWxEZW5zaXR5O1xyXG4gICAgICAgIHRoaXMuZnJhbWVCbG9ja2VyID0gZnJhbWVCbG9ja2VyO1xyXG4gICAgICAgIHRoaXMuZHJhd2luZ0ZQUyAgID0gZHJhd2luZ0ZQUztcclxuICAgICAgICB0aGlzLnVwZGF0ZUZQUyAgICA9IHVwZGF0ZUZQUztcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgICAgICA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlICAgID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UmVsVCAgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdERyYXdUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3RhcnQgYSBuZXcgcmVjb3JkaW5nIHNlc3Npb25cclxuICAgICogQHBhcmFtIGRyYXdpbmdGUFMgRlBTIG9mIHRoZSBmaW5hbCB2aWRlbyAoZGVmYXVsdCA2MClcclxuICAgICogQHBhcmFtIHdpZHRoIFdpZHRoIG9mIHRoZSB2aWRlbyAoZGVmYXVsdCAxOTIwKVxyXG4gICAgKiBAcGFyYW0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdmlkZW8gKGRlZmF1bHQgMTA4MClcclxuICAgICogQHBhcmFtIHVwZGF0ZUZQUyAgRlBTIGZvciBldmVyeSBjYWxjdWxhdGlvbnMgZG9uZSBvbiB0aGUgdXBkYXRlKCkgbG9vcCAoZGVmYXVsdCAxMjApXHJcbiAgICAqIEBwYXJhbSBmcmFtZUJsb2NrZXIgd2lsbCBtYWtlIHN1cmUgdmlkZW8gaXMgcmVhbGx5IHR1cm5pbmcgYXQgZHJhd2luZ0ZQUyAoZGVmYXVsdCB0cnVlKVxyXG4gICAgKiBAcGFyYW0gY2xlYXJQaXhlbEFycmF5IHdpbGwgY2xlYXIgdGhlIGxhc3QgZGF0YXMgb2YgcHJldmlvdXMgcmVjb3JkaW5nIHNlc3Npb24gKGRlZmF1bHQgdHJ1ZSlcclxuICAgICovXHJcbiAgICBzdGFydChkcmF3aW5nRlBTID0gNjAsIHdpZHRoID0gMTkyMCwgaGVpZ2h0ID0gMTA4MCwgdXBkYXRlRlBTID0gMTIwLCBmcmFtZUJsb2NrZXIgPSB0cnVlLCBjbGVhclBpeGVsQXJyYXkgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5zZXR1cChkcmF3aW5nRlBTLCB3aWR0aCwgaGVpZ2h0LCB1cGRhdGVGUFMsIGZyYW1lQmxvY2tlcik7XHJcblxyXG4gICAgICAgIGlmIChjbGVhclBpeGVsQXJyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5waXhlbERhdGFzICAgICAgID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmlkKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCwgY2F1c2UgOiAnc3RhcnQnIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHJlc2l6ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQXV0b21hdGljYWxseSBjYWxsZWQgOiB0YWtlcyBhIHNuYXAgb2YgdGhlIGN1cnJlbnQgZGlzcGxheWVkIGltYWdlXHJcbiAgICAqIEBwYXJhbSBkdCBEdCBvZiB0aGUgcmVsYXRpdmUgdmlkZW8gdGltZVxyXG4gICAgKi9cclxuICAgIHNuYXBzaG90KGR0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcgfHwgdGhpcy5wYXVzZU1vZGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbG9hZFBpeGVscygpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZnJhbWVCbG9ja2VyKVxyXG4gICAgICAgICAgICB0aGlzLnBpeGVsRGF0YXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aW1lICAgIDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgIGR0ICAgICAgOiBkdCxcclxuICAgICAgICAgICAgICAgIGRhdGFVUkwgOiBjYW52YXMudG9EYXRhVVJMKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnBpeGVsRGF0YXMucHVzaChjYW52YXMudG9EYXRhVVJMKCkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogU3RvcCB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvblxyXG4gICAgKiBAcGFyYW0gZG93bmxvYWREYXRhcyAgIFN0YXJ0cyBhbiBhdXRvIGRvd25sb2FkIG9mIHRoZSBzZXNzaW9uIGRhdGFzIChkZWZhdWx0IHRydWUpXHJcbiAgICAqIEBwYXJhbSBjbGVhclBpeGVsQXJyYXkgV2lsbCBjbGVhciB0aGUgbGFzdCBkYXRhcyBvZiBwcmV2aW91cyByZWNvcmRpbmcgc2Vzc2lvbiBmb3IgbWVtb3J5IG9wdGltaXphdGlvbiAoZGVmYXVsdCB0cnVlKVxyXG4gICAgKi9cclxuICAgIHN0b3AoZG93bmxvYWREYXRhcyA9IHRydWUsIGNsZWFyUGl4ZWxBcnJheSA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzLnB1c2goeyB0IDogRGF0ZS5ub3coKSAvIDEwMDAgLSB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbMF0udCwgY2F1c2UgOiAnc3RvcCcgfSk7XHJcblxyXG4gICAgICAgIGlmIChkb3dubG9hZERhdGFzKVxyXG4gICAgICAgICAgICBzYXZlSlNPTih0aGlzLmdldERhdGFzVG9KU09OKCksIHRoaXMubmFtZSArICctJyArIHRoaXMuaWQgKyAnLmpzb24nKTtcclxuICAgICAgICBpZiAoY2xlYXJQaXhlbEFycmF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGl4ZWxEYXRhcyAgICAgICA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpbmRvd1Jlc2l6ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogUGF1c2UgdGhlIGN1cnJlbnQgcmVjb3JkaW5nIHNlc3Npb24gKi9cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCAtIHRoaXMucmVnaXN0ZXJpbmdUaW1lc1swXS50LCBjYXVzZSA6ICdwYXVzZScgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVzdW1lcyB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvbiAqL1xyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzLnB1c2goeyB0IDogRGF0ZS5ub3coKSAvIDEwMDAgLSB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbMF0udCwgY2F1c2UgOiAncmVzdW1lJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgZGF0YXMgSlNPTiBmb3JtYXR0ZWQgdG8gYmUgZXhwb3J0ZWQgdG8gYSBKU09OIGZpbGUgKi9cclxuICAgIGdldERhdGFzVG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICA6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgICAgICAgOiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHBpeGVsRGVuc2l0eSA6IHRoaXMucGl4ZWxEZW5zaXR5LFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgc2V0IHRvICd2YXJpYWJsZScsIHBpeGVsRGF0YXMgaW5jbHVkZXMgY3VycmVudCBUaW1lIGFuZCBEZWx0YVRpbWUgZHQgaW4gZXZlcnkgaXRlbVxyXG4gICAgICAgICAgICAgICAgZHJhd0ZyYW1lQ291bnQgICA6IHRoaXMuZnJhbWVCbG9ja2VyID8gdGhpcy5kcmF3aW5nRlBTIDogJ3ZhcmlhYmxlJyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZyYW1lQ291bnQgOiB0aGlzLmZyYW1lQmxvY2tlciA/IHRoaXMudXBkYXRlRlBTICA6ICd2YXJpYWJsZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YXMgOiB7XHJcbiAgICAgICAgICAgICAgICB0aW1lcyA6IHtcclxuICAgICAgICAgICAgICAgICAgICByZWFsVGltZUxlbmd0aCAgOiB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbdGhpcy5yZWdpc3RlcmluZ1RpbWVzLmxlbmd0aCAtIDFdLnQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9UaW1lTGVuZ3RoIDogdGhpcy5mcmFtZUJsb2NrZXIgPyAxL3RoaXMuZHJhd2luZ0ZQUyAqIHRoaXMucGl4ZWxEYXRhcy5sZW5ndGggOiAndmFyaWFibGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVPcGVyYXRpb25zICA6IHRoaXMucmVnaXN0ZXJpbmdUaW1lc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBpeGVscyA6IHtcclxuICAgICAgICAgICAgICAgICAgICBwaXhlbERhdGFzU2l6ZSA6IHRoaXMucGl4ZWxEYXRhcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxEYXRhcyAgICAgOiB0aGlzLnBpeGVsRGF0YXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTUmVjb3JkZXI7XHJcbiIsImltcG9ydCAnLi8uLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuaW1wb3J0ICcuLy4uL0FuaW1hdGlvbic7XHJcbmltcG9ydCAnLi9UZXh0JztcclxuXHJcblxyXG5jbGFzcyBwU1BvaW50IHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFBvaW50XHJcbiAgICAqIEBwYXJhbSB4IFggcG9pbnQgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHkgWSBwb2ludCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0gY29sb3IgZHJhd2luZyBjb2xvciBvZiB0aGUgcG9pbnRcclxuICAgICogQHBhcmFtIHBvaW50TmFtZSBuYW1lIG9mIHRoZSBwb2ludCAoaW4gTGFUZVgpXHJcbiAgICAqIEBwYXJhbSBwb2ludFNpemUgU2l6ZSBvZiB0aGUgcG9pbnQgKGRlZmF1bHQgNilcclxuICAgICogQHBhcmFtIHZlY3Rvck5hbWUgTmFtZSBvZiB0aGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBkcmF3T3JpZ2luVmVjdG9yIHRydWUgOiBkcmF3IHRoZSB2ZWN0b3IgZnJvbSB0aGUgb3JpZ2luIHRvIHRoaXMgcG9pbnRcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBjb2xvciA9ICd3aGl0ZScsIHBvaW50TmFtZSwgcG9pbnRTaXplID0gNiwgdmVjdG9yTmFtZSwgZHJhd09yaWdpblZlY3RvciA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IoeCwgeSwgY29sb3IsIHZlY3Rvck5hbWUpO1xyXG5cclxuICAgICAgICBpZihwb2ludE5hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZSA9IG5ldyBwU1RleHQocG9pbnROYW1lLCB0aGlzLnBvcywgMTgsIGNvbG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3T3JpZ2luVmVjdG9yID0gZHJhd09yaWdpblZlY3RvcjtcclxuICAgICAgICB0aGlzLnBvaW50U2l6ZSAgICAgICAgPSBwb2ludFNpemU7XHJcbiAgICAgICAgdGhpcy5wb2ludFNpemVEcmF3aW5nID0gcG9pbnRTaXplO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRQYWRkaW5nID0gMC40O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVcGRhdGVzIHRoZSBwb2ludFxyXG4gICAgKiBAcGFyYW0gZHQgRGVsdGEgdGltZSBzaW5jZSBsYXN0IHVwZGF0ZVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZShkdCkgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIHBvaW50IHRvIHRoZSBzY3JlZW5cclxuICAgICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuXHJcbiAgICAgICAgLy8gUE9JTlQgTE9DQVRJT05cclxuICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgLmZpbGwocGFyc2VJbnQodGhpcy5wb3MuY29sb3JbMF0gKiAwLjQpLCBwYXJzZUludCh0aGlzLnBvcy5jb2xvclsxXSAqIDAuNCksIHBhcnNlSW50KHRoaXMucG9zLmNvbG9yWzJdICogMC40KSlcclxuICAgICAgICAgICAgLm5vU3Ryb2tlKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgICAgIC5zdHJva2UodGhpcy5wb3MuY29sb3IpXHJcbiAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMS4xKVxyXG4gICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgO1xyXG5cclxuICAgICAgICAvLyBPUklHSU4gVkVDVE9SXHJcbiAgICAgICAgaWYodGhpcy5wb3MubmFtZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5kcmF3T3JpZ2luVmVjdG9yKVxyXG4gICAgICAgICAgICB0aGlzLnBvcy5kcmF3KCk7XHJcblxyXG4gICAgICAgIC8vIFBPSU5UIE5BTUVcclxuICAgICAgICBpZih0aGlzLnBvaW50TmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIHRoaXMudGV4dFBhZGRpbmcpO1xyXG4gICAgICAgIGlmKHRoaXMucG9zLm5hbWUgIT0gdW5kZWZpbmVkICYmIHRoaXMuZHJhd09yaWdpblZlY3RvciAmJiB0aGlzLnBvcy55IDwgMClcclxuICAgICAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIC10aGlzLnRleHRQYWRkaW5nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUuZHJhdyhkcmF3ZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1BvaW50O1xyXG4iLCJpbXBvcnQgJy4vLi4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcbmltcG9ydCAnLi8uLi9BbmltYXRpb24nO1xyXG5pbXBvcnQgJy4vVGV4dCc7XHJcblxyXG5jbGFzcyBwU1RyaWFuZ2xlIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBwMCBWZWN0b3IgdG8gdGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZVxyXG4gICAgKiBAcGFyYW0gcDEgVmVjdG9yIHRvIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIHAyIFZlY3RvciB0byB0aGUgdGhpcmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIGZpbGxDb2xvciBUaGUgdHJpYW5nbGUgZmlsbCBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlQ29sb3IgVGhlIHRyaWFuZ2xlIHN0cm9rZSBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFRoZSB0cmlhbmdsZSBzdHJva2VXZWlnaHQgKGRlZmF1bHQgMSlcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwMCwgcDEgPSBuZXcgVmVjdG9yKCksIHAyID0gbmV3IFZlY3RvcigpLCBmaWxsQ29sb3IgPSAnd2hpdGUnLCBzdHJva2VDb2xvciA9ICdub25lJywgc3Ryb2tlV2VpZ2h0ID0gMSkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMocDAsIHAxLCBwMik7XHJcblxyXG4gICAgICAgIC8vIENvbG9yc1xyXG4gICAgICAgIHRoaXMuZmlsbENvbG9yICAgID0gZmlsbENvbG9yO1xyXG4gICAgICAgIHRoaXMuc3Ryb2tlQ29sb3IgID0gc3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXZWlnaHQgPSBzdHJva2VXZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gcDAgVmVjdG9yIHRvIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgdHJpYW5nbGVcclxuICAgICogQHBhcmFtIHAxIFZlY3RvciB0byB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSB0cmlhbmdsZSAoZGVmYXVsdCBsYXN0IHBvaW50KVxyXG4gICAgKiBAcGFyYW0gcDIgVmVjdG9yIHRvIHRoZSB0aGlyZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgbGFzdCBwb2ludClcclxuICAgICovXHJcbiAgICBzZXRDb29yZGluYXRlcyhwMCwgcDEsIHAyKSB7XHJcbiAgICAgICAgdGhpcy5wMCA9IHAwIHx8IG5ldyBWZWN0b3IocDAueCwgcDAueSk7XHJcbiAgICAgICAgdGhpcy5wMSA9IHAxID09IHVuZGVmaW5lZCA/IHRoaXMucDEgOiBuZXcgVmVjdG9yKHAxLngsIHAxLnkpO1xyXG4gICAgICAgIHRoaXMucDIgPSBwMiA9PSB1bmRlZmluZWQgPyB0aGlzLnAyIDogbmV3IFZlY3RvcihwMi54LCBwMi55KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIGJhcnljZW50ZXIsIG9yIGNlbnRlciBvZiBtYXNzLiBUaGlzIGlzIHRoZVxyXG4gICAgICAgIC8vIHBvaW50IGFyb3VuZCB3aGljaCB0aGUgdHJpYW5nbGUgd2lsbCByb3RhdGUuXHJcbiAgICAgICAgdGhpcy5wRyA9IFZlY3Rvci5kaXYoVmVjdG9yLmFkZChWZWN0b3IuYWRkKHRoaXMucDAsIHRoaXMucDEpLCB0aGlzLnAyKSwgMyk7XHJcblxyXG4gICAgICAgIC8vIFRoZSB2ZWN0b3JzIHBvaW50aW5nIGZyb20gdGhlIGJhcnljZW50ZXIgdG8gUDAsIFAxXHJcbiAgICAgICAgLy8gYW5kIFAyLiBUaGV5IGFyZSB1c2VmdWwgd2hlbiByb3RhdGluZyB0aGUgdHJpYW5nbGUuXHJcbiAgICAgICAgdGhpcy52MCA9IFZlY3Rvci5zdWIodGhpcy5wMCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MSA9IFZlY3Rvci5zdWIodGhpcy5wMSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MiA9IFZlY3Rvci5zdWIodGhpcy5wMiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGVzIHRoZSB0cmlhbmdsZSBieSB0aGUgc3BlY2lmaWVkIGFuZ2xlLCBhcm91bmRcclxuICAgICogaXRzIGNlbnRlciBvZiBtYXNzLlxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW5nbGUgb2Ygcm90YXRpb25cclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnYwLnJvdGF0ZShhbmdsZSk7XHJcbiAgICAgICAgdGhpcy52MS5yb3RhdGUoYW5nbGUpO1xyXG4gICAgICAgIHRoaXMudjIucm90YXRlKGFuZ2xlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wMCA9IFZlY3Rvci5hZGQodGhpcy52MCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMSA9IFZlY3Rvci5hZGQodGhpcy52MSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMiA9IFZlY3Rvci5hZGQodGhpcy52MiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUcmFuc2xhdGVzIHRoZSB0cmlhbmdsZSBmcm9tIGl0cyBiYXJ5Y2VudGVyIGJ5IHRoZVxyXG4gICAgKiBzcGVjaWZpZWQgZGlzdGFuY2UgaW4gWCBhbmQgWS5cclxuICAgICogQHBhcmFtIHggVGhlIGRpc3RhbmNlIG9uIHRoZSBYIGF4aXMuXHJcbiAgICAqIEBwYXJhbSB5IFRoZSBkaXN0YW5jZSBvbiB0aGUgWSBheGlzLlxyXG4gICAgKi9cclxuICAgIHRyYW5zbGF0ZSh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhcclxuICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQodGhpcy5wMCwgbmV3IFZlY3Rvcih4LCB5KSksXHJcbiAgICAgICAgICAgICAgICBWZWN0b3IuYWRkKHRoaXMucDEsIG5ldyBWZWN0b3IoeCwgeSkpLFxyXG4gICAgICAgICAgICAgICAgVmVjdG9yLmFkZCh0aGlzLnAyLCBuZXcgVmVjdG9yKHgsIHkpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZXMgdGhlIHRyaWFuZ2xlIGZyb20gaXRzIGJhcnljZW50ZXIgYnlcclxuICAgICogdGhlIHNwZWNpZmllZCB2ZWN0b3IuXHJcbiAgICAqIEBwYXJhbSB2IFRoZSB2ZWN0b3IgdG8gdHJhbnNsYXRlIHRoZSB0cmlhbmdsZS5cclxuICAgICovXHJcbiAgICB0cmFuc2xhdGUodikge1xyXG4gICAgICAgIHRoaXMudHJhbnNsYXRlKHYueCwgdi55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFVwZGF0ZXMgdGhlIHRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0KSB7fVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhd3MgdGhlIHRyaWFuZ2xlIG9uIHRoZSBzY3JlZW4uXHJcbiAgICAqL1xyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBsZXQgZCA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICBpZih0aGlzLmZpbGxDb2xvciA9PSAnbm9uZScpXHJcbiAgICAgICAgICAgIGQubm9GaWxsKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkLmZpbGwodGhpcy5maWxsQ29sb3IpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnN0cm9rZUNvbG9yID09ICdub25lJylcclxuICAgICAgICAgICAgZC5ub1N0cm9rZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZC5zdHJva2UodGhpcy5zdHJva2VDb2xvcikuc3Ryb2tlV2VpZ2h0KHRoaXMuc3Ryb2tlV2VpZ2h0KTtcclxuXHJcbiAgICAgICAgZC5wdXNoKClcclxuICAgICAgICAgICAgLmJlZ2luU2hhcGUoKVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgICAgIC52ZXJ0ZXgodGhpcy5wMS54LCB0aGlzLnAxLnkpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDIueCwgdGhpcy5wMi55KVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgLmVuZFNoYXBlKClcclxuICAgICAgICAucG9wKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTVHJpYW5nbGU7XHJcbiIsIi8vID09PT09PT09PT0gUFNFTkdJTkUgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBDb3JlID09PT1cclxuaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9jb3JlL1NpbXVsYXRvcic7XHJcblxyXG4vLyA9PT09IERyYXdlciA9PT09XHJcbi8vIE9iamVjdHNcclxuaW1wb3J0IHBTUG9pbnQgICAgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9Qb2ludCc7XHJcbmltcG9ydCBwU1RleHQgICAgIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcbmltcG9ydCBwU1RyaWFuZ2xlIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVHJpYW5nbGUnO1xyXG5cclxuLy8gUm9vdFxyXG5pbXBvcnQgQW5pbWF0aW9uICBmcm9tICcuL2RyYXdlci9BbmltYXRpb24nO1xyXG5pbXBvcnQgcFNEcmF3ZXIgICBmcm9tICcuL2RyYXdlci9EcmF3ZXInO1xyXG5pbXBvcnQgcFMzRERyYXdlciBmcm9tICcuL2RyYXdlci8zRERyYXdlcic7XHJcbmltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5pbXBvcnQgVmVjdG9yICAgICBmcm9tICcuL3V0aWxpdGllcy9WZWN0b3InO1xyXG5pbXBvcnQgcFNSZWNvcmRlciBmcm9tICcuL3V0aWxpdGllcy9SZWNvcmRlcic7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBHTE9CQUwgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBEcmF3ZXIgPT09PVxyXG4vLyBPYmplY3RzXHJcbmdsb2JhbC5wU1BvaW50ICAgICA9IHBTUG9pbnQ7XHJcbmdsb2JhbC5wU1RleHQgICAgICA9IHBTVGV4dDtcclxuZ2xvYmFsLnBTVHJpYW5nbGUgID0gcFNUcmlhbmdsZTtcclxuXHJcbi8vIFJvb3RcclxuZ2xvYmFsLnBTQW5pbWF0aW9uID0gQW5pbWF0aW9uO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5nbG9iYWwuVmVjdG9yICAgICAgPSBWZWN0b3I7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBQU0VOR0lORSBMQVVOQ0ggPT09PT09PT09PVxyXG5pbXBvcnQgJy4vY29yZS9pbml0JztcclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9TaW11bGF0b3InO1xyXG5cclxuY2xhc3MgcFNFbmdpbmUge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0aWYod2luZG93LnA1ID09IHVuZGVmaW5lZClcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHQnWW91IG11c3QgaW1wb3J0IHA1LmpzIGluIG9yZGVyIHRvIHJ1biB0aGUgUGh5c2ljcyBTaW11bGF0aW9uIEVuZ2luZS4nLFxyXG5cdFx0XHRcdCdNb3JlIGluZm9ybWF0aW9ucyBvbiB0aGUgcDUgd2Vic2l0ZSBodHRwczovL3A1anMub3JnLy4nXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0Ly8gdXNlcyB0aGUgcDUgZnVuY3Rpb25zXHJcblx0XHR3aW5kb3cuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlID0gbmV3IHBTaW11bGF0b3IoKTtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmluc3RhbmNpYXRlKCk7XHJcblx0XHRcdHdpbmRvdy5wU0VuZ2luZSA9IHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRQU0VuZ2luZVZhcigpO1xyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iLCJpbXBvcnQgcFNFbmdpbmUgZnJvbSAnLi9tYWluJztcclxuXHJcbmNvbnN0IF9wU2dsb2JhbEVuZ2luZUluaXQgPSAoKSA9PiB7XHJcblx0bmV3IHBTRW5naW5lKCk7XHJcbn07XHJcblxyXG5jb25zdCB3YWl0Rm9yRG9jdW1lbnRSZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykgLy8gY29tcGxldGVcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlLCBmYWxzZSk7XHJcbn0pO1xyXG5cclxud2FpdEZvckRvY3VtZW50UmVhZHkudGhlbihfcFNnbG9iYWxFbmdpbmVJbml0KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9