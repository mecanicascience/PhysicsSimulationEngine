var pSEngine=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=10)}([function(t,e,i){"use strict";i(1);class s{constructor(t,e,i,s="rgb(255, 255, 255)",r,n=1.3){this.x=t||0,this.y=e||0,this.z=i||0,this.color=s,this.setName(r,s,n)}set(t,e,i){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=e||0,this.z=i||0,this)}setName(t,e,i=1.3){return null==t||(t instanceof pSText?this.name=t:this.name=new pSText(t,this,i,e)),this}equals(t,e,i){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==e&&this.z==i}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,e,i){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=e||0,this.z+=i||0,this)}sub(t,e,i){return t instanceof s?this.sub(t.x,t.y,t.z):this.add(-t,-e,-i)}mult(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("Vector::mult()","c is undefined or isn't a finite number"),this)}div(t){return"number"==typeof t&&isFinite(t)?0==t?(console.error("Cannot divide by 0"),this):this.mult(1/t):(console.warn("Vector::div()","c is undefined or isn't a finite number"),this)}static add(t,e){return t.copy().add(e)}static sub(t,e){return t.copy().sub(e)}static mult(t,e){return t.copy().mult(e)}static div(t,e){return t.copy().div(e)}dot(t,e,i){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,e){let i=this.mag();return i<t&&this.div(i).mult(t),i>e&&this.div(i).mult(e),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const e=this.getAngle()+t,i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,e){return s.sub(t,e).mag()}static dot(t,e,i,s){return t.copy().dot(e,i,s)}static cross(t,e){return t.copy().cross(e)}static normalize(t){return t.copy().normalize()}static rotate(t,e){return t.copy().rotate(e)}draw(t,e,i){null!=t?s.draw(t,this,this.color,e,i):s.draw(void 0,this,this.color,e,i)}static draw(t=new s,e,i="rgb(255, 255, 255)",r=5,n=1){let o=_pSimulationInstance.plotter;if(_pSimulationInstance.config.engine.plotter.is_3D)r/=3,push(),o.drawer.stroke(i).strokeWeight(n).fill(i),null!=t&&o.drawer.translate(t.x,t.y,t.z),o.drawer.line(0,0,0,e.x,e.y,e.z),pop();else{push(),o.drawer.stroke(i).strokeWeight(n).fill(i).line(t.x,t.y,t.x+e.x,t.y+e.y);let s=o.computeForXYZ(t.x,t.y,t.z,!1);translate(s.x,s.y),push();let a=o.computeForXYZ(0,0,0),h=o.computeForXYZ(e.x,e.y,e.z);if(translate(h.x,h.y),rotate(h.sub(a).getAngle()),translate(-r-2,0),triangle(0,r/2,0,-r/2,r,0),pop(),null!=e.name){let t=e.getAngle();t<0&&(t+=2*PI);let s=.01*e.name.svgImg.width;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(s*=-1);let r=.01*e.name.svgImg.height;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(r*=-1),e.name.setColor(i).draw(e.name.pos.copy().div(2).add(s,r))}pop()}return this}}e.a=s},function(t,e,i){"use strict";e.a=class{constructor(t,e=new Vector,i=1,s="#FFFFFF",r=!1){null==window.MathJax&&console.error("You must import MathJax.js >=3.0.0 in order to use Text and Tex strings."),this.textSize=i,this.color=s,this.pos=e,this.showHitbox=r,this.setText(t)}draw(t){let e=_pSimulationInstance.plotter.drawer,i=e.plotter.computeForXYZ(this.pos.x,this.pos.y);if(null!=t&&(i=e.plotter.computeForXYZ(t.x,t.y)),push(),translate(-this.svgImg.width/2,-this.svgImg.height/2),image(this.svgImg,i.x,i.y,this.svgImg.width,this.svgImg.height),this.showHitbox){let t=this.svgImg.height,s=this.svgImg.width;e.stroke(this.color).strokeWeight(1).noFill(),line(i.x,i.y,i.x+s,i.y),line(i.x,i.y+t,i.x+s,i.y+t),line(i.x,i.y+t,i.x,i.y),line(i.x+s,i.y+t,i.x+s,i.y)}pop()}setText(t){this.text=t;let e="<svg"+MathJax.tex2svg(this.text,{display:!0,em:12,ex:6,containerWidth:480,lineWidth:1e5,scale:1}).innerHTML.split("<svg")[1].split("</svg>")[0]+"</svg>";return e=e.replace(/<g/g,'<g color="'+this.color+'"').replace(/width="(.*?)"/,'width="'+parseFloat(/width="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"').replace(/height="(.*?)"/,'height="'+parseFloat(/height="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"'),this.svgImg=loadImage(URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))),this}setPosition(t,e){return this.pos.x=t,this.pos.y=e,this}setColor(t){return this.color=t,this}}},function(t,e,i){"use strict";e.a=class{constructor(t){this.plotter=null,this.stack=[],this.stackPointer=[]}clearStack(){this.stack=[],this.stackPointer=[],this.currentStackLevel=this.stack}pushStackOperation(t,e,i=0,s=1){let r=[[0,0,0],[0,0,0],[0,0,0]];switch(t){case"t":r=[[1,0,e.x],[0,1,e.y],[0,0,1]];break;case"r":r=[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]];break;case"s":r=[[s,0,0],[0,s,0],[0,0,1]]}this.getCurrentStackLevel().push({m:r})}getCurrentStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length;e++)t=t[this.stackPointer[e]];return t}enterStackLevel(){let t=this.getCurrentStackLevel();this.stackPointer.push(t.length),t.push([])}exitStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length-1;e++)t=t[this.stackPointer[e]];this.stackPointer.pop(),t.pop()}point(t,e){let i=this.plotter.computeForXYZ(t,e);return point(i.x,i.y),this}line(t,e,i,s){let r=this.plotter.computeForXYZ(t,e),n=this.plotter.computeForXYZ(i,s);return line(r.x,r.y,n.x,n.y),this}setLineDash(t=5,e=5){return drawingContext.setLineDash([t,e]),this}clearLineDash(){return drawingContext.setLineDash([]),this}ellipse(t,e,i,s,r=!1){let n=this.plotter.computeForXYZ(t,e);if(null==s&&(s=i),r)ellipse(n.x,n.y,i,s);else{let r=this.plotter.computeForXYZ(i,s,0,!1);push(),this.translate(t,e),ellipse(0,0,2*r.x,2*r.y),pop()}return this}circle(t,e,i,s=!1){return this.ellipse(t,e,i,i,s)}rect(t,e,i,s,r=!1){if(!r)return this.beginShape().vertex(t+i,e).vertex(t+i,e+s).vertex(t,e+s).vertex(t,e).endShape(CLOSE);let n=this.plotter.computeForXYZ(t,e);return rect(n.x,n.y,i,s),this}arc(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e),a=this.plotter.computeForXYZ(i,s,0,!1);return arc(o.x,o.y,a.x,a.y,-n,-r),this}stroke(t,e,i,s){return null==s?null==i?null==e?stroke(t):stroke(t,e):stroke(t,e,i):stroke(`rgba(${t}, ${e}, ${i}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,e,i,s){return null==s?null==i?null==e?fill(t):fill(t,e):fill(t,e,i):fill(`rgba(${t}, ${e}, ${i}, ${s})`),this}beginShape(t){return beginShape(t),this}bezier(t,e,i,s,r,n,o,a){let h=_pSimulationInstance.plotter.computeForXYZ(t,e),l=_pSimulationInstance.plotter.computeForXYZ(i,s),u=_pSimulationInstance.plotter.computeForXYZ(r,n),c=_pSimulationInstance.plotter.computeForXYZ(o,a);return bezier(h.x,h.y,l.x,l.y,u.x,u.y,c.x,c.y),this}vertex(t,e){let i=this.plotter.computeForXYZ(t,e);return vertex(i.x,i.y),this}endShape(t){return endShape(t),this}push(){return this.enterStackLevel(),push(),this}pop(){return this.exitStackLevel(),pop(),this}translate(t,e){return this.pushStackOperation("t",{x:t,y:e},0,1),this}rotate(t){return this.pushStackOperation("r",{x:0,y:0},t,1),this}scale(t){return this.pushStackOperation("s",{x:0,y:0},0,t),this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,e,i){"use strict";var s=class{constructor(t,e){this.scaleTime=1,this.isAnimating=!1,this.initialT=0,this.datas=e,this.timeLength=t,this.lastKey=this.getKey(this.update)/this.scaleTime}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}getKey(t){let e=(new Date).getTime()/1e3-this.initialT;return e>this.timeLength?this.finalDraw(this):(this.lastKey=t(e,this)/this.scaleTime,this.lastKey)}updateKey(){return this.getKey(this.update)}drawKey(){return this.getKey(this.draw)}update(){}draw(){}};var r=class extends s{constructor(t,e){super(t,e),this.i=-1,this.currentShape=this.nextShape(e),this.localDt=0}nextShape(t){this.i++;let e=this.i+1;return e>t.length-1&&(e=0),[t[this.i],t[e]]}update(t,e){}draw(t,e){let i=e.timeLength/e.datas.length;null!=e.currentShape[0]&&null!=e.currentShape[1]&&t-e.localDt>=i&&(e.currentShape=e.nextShape(e.datas),e.localDt+=i),e.drawCurrentShape(e.datas,(t,e,i,s)=>{let r=1;return t==i&&(r=e/s),r},e,e.i+1,t-e.localDt,i)}finalDraw(t){this.drawCurrentShape(this.datas,()=>1,this,this.datas.length,0)}drawCurrentShape(t,e,i,s,r,n){for(let o=0;o<s;o++){let s=e(o,r,i.i,n),a=o+1;a>=t.length&&(a=0),_pSimulationInstance.plotter.drawer.noFill().strokeWeight(3).stroke(255).line(t[o].pos.x,t[o].pos.y,t[o].pos.x+(t[a].pos.x-t[o].pos.x)*s,t[o].pos.y+(t[a].pos.y-t[o].pos.y)*s)}}};var n=class extends s{constructor(t,e){super(t,e),null==this.datas.min&&(this.datas.min=0),null==this.datas.max&&(this.datas.max=1)}update(t,e){let i=t/e.timeLength;return i<.5?2*i*i*(e.datas.max-e.datas.min)+e.datas.min:((4-2*i)*i-1)*(e.datas.max-e.datas.min)+e.datas.min}draw(t,e){}finalDraw(t){return t.datas.max}};e.a=class{static new(t,e=1,i={}){switch(t||(t="easeInOutCubic"),t){case"easeInOutCubic":return new n(e,i);case"interpolation":return new r(e,i)}}}},function(t,e,i){"use strict";i(0);e.a=class{constructor(t,e){this.simulator=t,this.drawer=e,this.objectsL=[],this.drawer.plotter=this}update(t){this.drawer.clearStack(),this.simulator.config.engine.plotter.is_3D&&(lights(),orbitControl(5,5));for(let e=0;e<this.objectsL.length;e++)this.objectsL[e].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,e=t.backgroundColor.color;t.backgroundColor.draw&&background(e.r,e.g,e.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid)if(this.simulator.config.engine.plotter.is_3D)debugMode(100,10,0,0,0,20,0,-40,0);else{this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5);let e=Math.round(height/t.scale.y/2);t.squareByX||(e=t.scale.y);for(let i=-t.scale.x-1;i<t.scale.x+1;i++)for(let s=-e-1;s<e+1;s++)this.drawer.rect(i+t.offset.x,s+t.offset.y,1,1);this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a+.3).strokeWeight(2).line(-t.scale.x+t.offset.x-1,0,t.scale.x+t.offset.x+1,0),t.squareByX?this.drawer.line(0,-e-1,0,e+1):this.drawer.line(0,-t.scale.y-1,0,t.scale.y+1)}this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5)}computeForXYZ(t,e,i,s=!0){let r=this.simulator.config.engine.plotter;if(!r.is_3D){let i=this.simulator.plotter.drawer.stack,s=null;!function t(e,i){if(e instanceof Array)for(let s=0;s<e.length;s++)t(e[s],i);else s=null==s?e.m:i(s,e.m)}(i,this.multMatrix);let r=t;t=t*s[0][0]+e*s[0][1]+s[0][2],e=r*s[1][0]+e*s[1][1]+s[1][2]}if(s||r.is_3D||!r.squareByX){if(r.is_3D){let s=180*.28;return new Vector((t+r.offset.x)/r.scale.x*s,(-e+r.offset.y)/r.scale.y*s,(i+r.offset.z)/r.scale.z*s)}{let i=new Vector(((t-r.offset.x)/r.scale.x+1)*width/2,0,((t+r.offset.z)/r.scale.z+1)*width/2);return r.squareByX?i.y=(-e+r.offset.y)/r.scale.x*width/2+height/2:i.y=((-e+r.offset.y)/r.scale.y+1)*height/2,i}}{let s=this.computeForXYZ(0,0,0),r=this.computeForXYZ(t,e,i);return new Vector(r.x-s.x,r.y-s.y,r.z-s.z)}}computeForXYFromPixel(t,e){let i=_pSimulationInstance.config.engine.plotter,s=new Vector((2*t/width-1)*i.scale.x+i.offset.x);return i.squareByX?s.y=-((2*e/height-1)*i.scale.y-i.offset.y):s.y=-(2*(e-2*height)/width*i.scale.y-i.offset.y),s}multMatrix(t,e){let i=[[0,0,0],[0,0,0],[0,0,0]];for(let s=0;s<t.length;s++)for(let r=0;r<e.length;r++)i[s][r]=t[s][0]*e[0][r]+t[s][1]*e[1][r]+t[s][2]*e[2][r];return i}}},function(t,e,i){"use strict";var s=i(4),r=i(2),n=i(6),o=i(7);e.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){try{window.preRunSimulator(this)}catch(t){}this.createP5Instance(),this.config.engine.plotter.is_3D?this.plotter=new s.a(this,new n.a):(setAttributes("antialias",!0),this.plotter=new s.a(this,new r.a)),this.recorder=new o.a,this.mousePos=this.plotter.computeForXYFromPixel(mouseX,mouseY),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.config.engine.plotter.is_3D?this.canvas=createCanvas(t.w,t.h,WEBGL):this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let e=this.config.engine.runner;e.UPDATE_FPS>=e.DRAW_FPS?frameRate(e.UPDATE_FPS):console.error("The Updates FPS must be superior as the Draws FPS."),window.draw=function(){let t=_pSimulationInstance,e=Date.now(),i=(e-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;if(t.mousePos=t.plotter.computeForXYFromPixel(mouseX,mouseY),!t.recorder.running||t.recorder.running&&!t.recorder.frameBlocker)i>s&&(i=t.dtMoy),t.lastUpdateTime=e,t.plotter.update(i*t.config.engine.runner.simulationSpeed),t.recorder.running&&!t.recorder.pauseMode&&t.recorder.snapshot(i),e-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(i<=s&&(t.dtTotal+=i,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=e);else{if(t.recorder.pauseMode)return;i=1/t.recorder.updateFPS,t.recorder.currentRelT+=i;let e=!1;t.recorder.currentRelT-t.recorder.lastDrawTime>=1/t.recorder.drawingFPS&&(i=1/t.recorder.drawingFPS,e=!0),t.lastUpdateTime=t.recorder.currentRelT,t.plotter.update(i),e&&(t.plotter.draw(),t.recorder.snapshot(i),t.recorder.lastDrawTime=t.recorder.currentRelT)}},window.windowResized=function(){if(_pSimulationInstance.recorder.running&&_pSimulationInstance.recorder.frameBlocker)return;let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)},window.mouseDragged=function(){if(!_pSimulationInstance.config.engine.runner.movable)return;let t=_pSimulationInstance.plotter.computeForXYFromPixel(mouseX,mouseY);_pSimulationInstance.mousePos.equals(t)||(_pSimulationInstance.config.engine.plotter.offset.x-=t.x-_pSimulationInstance.mousePos.x,_pSimulationInstance.config.engine.plotter.offset.y-=t.y-_pSimulationInstance.mousePos.y)}}getCanvasProportions(t){let e,i;return t.isRelative?(e=windowWidth*t.width,i=windowHeight*t.height):(e=t.width+"px",i=t.height+"px"),{w:e,h:i}}addObjects(t,e=1,...i){if(t instanceof Function)for(let s=0;s<e;s++){let e=[];for(let t=0;t<i.length;t++)i[t]instanceof Array&&null!=i[t][0]&&null!=i[t][1]&&i[t][1]instanceof Function?i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?e.push(i[t][1](...i[t].slice(2))):i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&e.push(new i[t][1](...i[t].slice(2))):e.push(i[t]);this.plotter.objectsL.push(new t(...e))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:"simulationContent",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:"_RUN_F",runClass:"_RUN_C"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15},is_movable:!1},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,z:10},offset:{x:0,y:0,z:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},squareByX:!1,is_3D:!1,gridColor:{r:255,g:255,b:255,a:.3},displayGrid:!1}}}setPreEngineConfig(t){return t(this.config.engine),this}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}getPSEngineVar(){}}},function(t,e,i){"use strict";var s=i(2);e.a=class{constructor(t){this.plotter=null,this.drawer2D=new s.a(t),this.stroke=this.drawer2D.stroke,this.strokeWeight=this.drawer2D.strokeWeight,this.fill=this.drawer2D.fill,this.beginShape=this.drawer2D.beginShape,this.endShape=this.drawer2D.endShape,this.vertex=this.drawer2D.vertex,this.pop=this.drawer2D.pop,this.push=this.drawer2D.push,this.noStroke=this.drawer2D.noStroke,this.noFill=this.drawer2D.noFill}line(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e,i),a=this.plotter.computeForXYZ(s,r,n);return beginShape(),vertex(o.x,o.y,o.z),vertex(a.x,a.y,a.z),endShape(),this}sphere(t,e,i,s){let r=this.plotter.computeForXYZ(t,e,i),n=this.plotter.computeForXYZ(s,0,0);return push(),translate(r.x,r.y,r.z),sphere(n.x),pop(),this}cone(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cone(o.x,o.y),pop(),this}box(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),box(o.x,o.y),pop(),this}cylinder(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cylinder(o.x,o.y),pop(),this}plane(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),plane(o.x,o.y),pop(),this}scale(t){return scale(t),this}model(t,e){return push(),scale(-1),e&&normalMaterial(),model(t),pop(),this}transform(t,e,i){return transform(t,e,i),this}}},function(t,e,i){"use strict";e.a=class{constructor(){this.name="Canvas-Recorder",this.id=0,this.pixelDatas=[],this.registeringTimes=[],this.setup(60,120,!0)}setup(t,e,i,s,r){this.width=e,this.height=i,this.pixelDensity=pixelDensity,this.frameBlocker=r,this.drawingFPS=t,this.updateFPS=s,this.running=!1,this.pauseMode=!1,this.currentRelT=0,this.lastDrawTime=0}start(t=60,e=1920,i=1080,s=120,r=!0,n=!0){this.setup(t,e,i,s,r),n&&(this.pixelDatas=[],this.registeringTimes=[],this.id++),this.registeringTimes.push({t:Date.now()/1e3,cause:"start"}),this.running=!0,resizeCanvas(e,i)}snapshot(t){this.running&&!this.pauseMode&&(loadPixels(),this.frameBlocker?this.pixelDatas.push(canvas.toDataURL()):this.pixelDatas.push({time:Date.now(),dt:t,dataURL:canvas.toDataURL()}))}stop(t=!0,e=!0){this.running=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"stop"}),t&&saveJSON(this.getDatasToJSON(),this.name+"-"+this.id+".json"),e&&(this.pixelDatas=[],this.registeringTimes=[]),windowResized()}pause(){this.pauseMode=!0,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"pause"})}resume(){this.pauseMode=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"resume"})}getDatasToJSON(){return{config:{width:this.width,height:this.height,pixelDensity:this.pixelDensity,drawFrameCount:this.frameBlocker?this.drawingFPS:"variable",updateFrameCount:this.frameBlocker?this.updateFPS:"variable"},datas:{times:{realTimeLength:this.registeringTimes[this.registeringTimes.length-1].t,videoTimeLength:this.frameBlocker?1/this.drawingFPS*this.pixelDatas.length:"variable",timeOperations:this.registeringTimes},pixels:{pixelDatasSize:this.pixelDatas.length,pixelDatas:this.pixelDatas}}}}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e,i="white",s,r=6,n,o=!0){this.pos=new Vector(t,e,i,n),null!=s&&(this.pointName=new pSText(s,this.pos,18,i)),this.drawOriginVector=o,this.pointSize=r,this.pointSizeDrawing=r,this.textPadding=.4}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e=new Vector,i=new Vector,s="white",r="none",n=1){this.setCoordinates(t,e,i),this.fillColor=s,this.strokeColor=r,this.strokeWeight=n}setCoordinates(t,e,i){this.p0=t||new Vector(t.x,t.y),this.p1=null==e?this.p1:new Vector(e.x,e.y),this.p2=null==i?this.p2:new Vector(i.x,i.y),this.pG=Vector.div(Vector.add(Vector.add(this.p0,this.p1),this.p2),3),this.v0=Vector.sub(this.p0,this.pG),this.v1=Vector.sub(this.p1,this.pG),this.v2=Vector.sub(this.p2,this.pG)}rotate(t){this.v0.rotate(t),this.v1.rotate(t),this.v2.rotate(t),this.p0=Vector.add(this.v0,this.pG),this.p1=Vector.add(this.v1,this.pG),this.p2=Vector.add(this.v2,this.pG)}translate(t,e){return this.setCoordinates(Vector.add(this.p0,new Vector(t,e)),Vector.add(this.p1,new Vector(t,e)),Vector.add(this.p2,new Vector(t,e))),this}translate(t){return this.translate(t.x,t.y),this}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;"none"==this.fillColor?t.noFill():t.fill(this.fillColor),"none"==this.strokeColor?t.noStroke():t.stroke(this.strokeColor).strokeWeight(this.strokeWeight),t.push().beginShape().vertex(this.p0.x,this.p0.y).vertex(this.p1.x,this.p1.y).vertex(this.p2.x,this.p2.y).vertex(this.p0.x,this.p0.y).endShape().pop()}}},function(t,e,i){t.exports=i(11)},function(t,e,i){"use strict";i.r(e),function(t){i(5);var e=i(8),s=i(1),r=i(9),n=i(3),o=(i(2),i(6),i(4),i(0));i(7),i(13);t.pSPoint=e.a,t.pSText=s.a,t.pSTriangle=r.a,t.pSAnimation=n.a,t.Vector=o.a}.call(this,i(12))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var s=i(5);var r=class{constructor(){null==window.p5&&console.error("You must import p5.js in order to run the Physics Simulation Engine.","More informations on the p5 website https://p5js.org/."),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate(),window.pSEngine=window._pSimulationInstance.getPSEngineVar()}}};new Promise((t,e)=>{"loading"===document.readyState?t():window.addEventListener("load",t,!1)}).then(()=>{new r})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wU0VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy91dGlsaXRpZXMvVmVjdG9yLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RleHQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0RyYXdlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvYW5pbWF0aW9ucy9wU0FuaW1hdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvUGxvdHRlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL1NpbXVsYXRvci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvM0REcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvdXRpbGl0aWVzL1JlY29yZGVyLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1BvaW50LmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RyaWFuZ2xlLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9tYWluLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2NvcmUvaW5pdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZlY3RvciIsIngiLCJ5IiwieiIsImNvbG9yIiwibmFtZVNpemUiLCJ0aGlzIiwic2V0TmFtZSIsInVuZGVmaW5lZCIsInBTVGV4dCIsImVxdWFscyIsInNldCIsImFkZCIsInN1YiIsImlzRmluaXRlIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsIm11bHQiLCJ2MSIsInYyIiwiY29weSIsImRpdiIsImRvdCIsInYiLCJ2TGVuIiwibWFnIiwibWluIiwibWF4IiwiTWF0aCIsInNxcnQiLCJub3JtYWxpemUiLCJhbmdsZSIsIm5ld0FuZ2xlIiwiZ2V0QW5nbGUiLCJtYWduaXR1ZGUiLCJjb3MiLCJzaW4iLCJhdGFuMiIsImNyb3NzIiwicm90YXRlIiwiaW5pdGlhbFBvcyIsImhlYWRTaXplIiwic3Ryb2tlV2VpZ2h0IiwiZHJhdyIsInBvaW50aW5nUG9zIiwic3Ryb2tlVyIsInBsb3R0ZXIiLCJfcFNpbXVsYXRpb25JbnN0YW5jZSIsImNvbmZpZyIsImVuZ2luZSIsImlzXzNEIiwicHVzaCIsImRyYXdlciIsInN0cm9rZSIsImZpbGwiLCJ0cmFuc2xhdGUiLCJsaW5lIiwicG9wIiwidjAiLCJjb21wdXRlRm9yWFlaIiwienpQb3NpdGlvbiIsImVuZFBvcyIsInRyaWFuZ2xlIiwiUEkiLCJ4T2Zmc2V0Iiwic3ZnSW1nIiwid2lkdGgiLCJ5T2Zmc2V0IiwiaGVpZ2h0Iiwic2V0Q29sb3IiLCJwb3MiLCJ0ZXh0IiwidGV4dFNpemUiLCJzaG93SGl0Ym94Iiwid2luZG93IiwiTWF0aEpheCIsInNldFRleHQiLCJwb3NPcHQiLCJpbWFnZSIsImgiLCJ3Iiwibm9GaWxsIiwic3ZnIiwidGV4MnN2ZyIsImRpc3BsYXkiLCJlbSIsImV4IiwiY29udGFpbmVyV2lkdGgiLCJsaW5lV2lkdGgiLCJzY2FsZSIsImlubmVySFRNTCIsInNwbGl0IiwicmVwbGFjZSIsInBhcnNlRmxvYXQiLCJleGVjIiwibG9hZEltYWdlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsInR5cGUiLCJzdGFjayIsInN0YWNrUG9pbnRlciIsImN1cnJlbnRTdGFja0xldmVsIiwiZ2V0Q3VycmVudFN0YWNrTGV2ZWwiLCJzQ3VyciIsImxlbmd0aCIsInBvaW50IiwieDAiLCJ5MCIsIngxIiwieTEiLCJkYXNoU2l6ZSIsImRhc2hTcGFjaW5nIiwiZHJhd2luZ0NvbnRleHQiLCJzZXRMaW5lRGFzaCIsInJ4IiwicnkiLCJhYnMiLCJlbGxpcHNlIiwiYmVnaW5TaGFwZSIsInZlcnRleCIsImVuZFNoYXBlIiwiQ0xPU0UiLCJyZWN0Iiwic3RhcnQiLCJzdG9wIiwiYXJjIiwiZyIsImIiLCJhIiwiVFlQRSIsIngyIiwieTIiLCJ4MyIsInkzIiwieDQiLCJ5NCIsInAxIiwicDIiLCJwMyIsInA0IiwiYmV6aWVyIiwiZW50ZXJTdGFja0xldmVsIiwiZXhpdFN0YWNrTGV2ZWwiLCJwdXNoU3RhY2tPcGVyYXRpb24iLCJmYWMiLCJub1N0cm9rZSIsInRpbWVMZW5ndGgiLCJkYXRhcyIsInNjYWxlVGltZSIsImlzQW5pbWF0aW5nIiwiaW5pdGlhbFQiLCJsYXN0S2V5IiwiZ2V0S2V5IiwidXBkYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJmIiwiZHQiLCJmaW5hbERyYXciLCJzdXBlciIsImN1cnJlbnRTaGFwZSIsIm5leHRTaGFwZSIsImxvY2FsRHQiLCJwb2ludHMiLCJqIiwidGgiLCJkcmF3Q3VycmVudFNoYXBlIiwibHQiLCJ0aSIsInBlcmNlbnQiLCJwZXJjZW50RnVuY3Rpb24iLCJtYXhJIiwidGltZSIsImFuaW1hdGlvbk5hbWUiLCJzaW11bGF0b3IiLCJvYmplY3RzTCIsImNsZWFyU3RhY2siLCJsaWdodHMiLCJvcmJpdENvbnRyb2wiLCJwbENvbmYiLCJiZyIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJkaXNwbGF5R3JpZCIsImRlYnVnTW9kZSIsImdyaWRDb2xvciIsInlTIiwicm91bmQiLCJzcXVhcmVCeVgiLCJvZmZzZXQiLCJ4UmVsIiwieVJlbCIsInpSZWwiLCJ1c2VPZmZzZXQiLCJjdXJyTWF0cml4IiwicmVjdXJzZVN0YWNrIiwibXVsdE1hdHJpeCIsIkFycmF5IiwieFJlbFRtcCIsImJlZ2luVGltZSIsIm5vdyIsImxhc3RVcGRhdGVUaW1lIiwibGFzdERyYXdUaW1lIiwiZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZyIsImN1c3RvbSIsImdldEN1c3RvbUNvbmZpZyIsImdldEVuZ2luZUNvbmZpZyIsImR0TW95IiwicnVubmVyIiwicm9sbGJhY2tDb250cm9sIiwibWluaW1hbFVwZGF0ZUZQUyIsImR0VG90YWwiLCJkdENvdW50IiwicHJlUnVuU2ltdWxhdG9yIiwiZSIsImNyZWF0ZVA1SW5zdGFuY2UiLCJzZXRBdHRyaWJ1dGVzIiwicmVjb3JkZXIiLCJtb3VzZVBvcyIsImNvbXB1dGVGb3JYWUZyb21QaXhlbCIsIm1vdXNlWCIsIm1vdXNlWSIsInJ1blNpbXVsYXRvciIsImdldENhbnZhc1Byb3BvcnRpb25zIiwicHJvcG9ydGlvbnMiLCJjYW52YXMiLCJjcmVhdGVDYW52YXMiLCJXRUJHTCIsInBhcmVudCIsImRpdklkIiwicnUiLCJVUERBVEVfRlBTIiwiRFJBV19GUFMiLCJmcmFtZVJhdGUiLCJjdXJyZW50VGltZSIsImNyaXRpcUR0IiwibWF4U3RhbmRhcmREZXZpYXRpb24iLCJydW5uaW5nIiwiZnJhbWVCbG9ja2VyIiwic2ltdWxhdGlvblNwZWVkIiwicGF1c2VNb2RlIiwic25hcHNob3QiLCJhdmVyYWdlVGltZVNhbXBsZSIsInVwZGF0ZUZQUyIsImN1cnJlbnRSZWxUIiwic2hvdWxkU25hcCIsImRyYXdpbmdGUFMiLCJ3aW5kb3dSZXNpemVkIiwicmVzaXplQ2FudmFzIiwibW91c2VEcmFnZ2VkIiwibW92YWJsZSIsImNQIiwiaXNSZWxhdGl2ZSIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0IiwiY3VzdG9tT2JqZWN0IiwibnVtYmVyIiwicGFyYW1zIiwiRnVuY3Rpb24iLCJjb3B5UGFyYW1zVGVtcCIsImFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyIsInJ1bkZ1bmN0aW9ucyIsInNsaWNlIiwicnVuQ2xhc3MiLCJpc19tb3ZhYmxlIiwiY29uZmlnRnVuYyIsImRyYXdlcjJEIiwiejAiLCJ6MSIsInNwaGVyZSIsImNvbmUiLCJib3giLCJjeWxpbmRlciIsInBsYW5lIiwibm0iLCJub3JtYWxNYXRlcmlhbCIsIm1vZGVsIiwidHJhbnNmb3JtIiwiaWQiLCJwaXhlbERhdGFzIiwicmVnaXN0ZXJpbmdUaW1lcyIsInNldHVwIiwicGl4ZWxEZW5zaXR5IiwiY2xlYXJQaXhlbEFycmF5IiwiY2F1c2UiLCJsb2FkUGl4ZWxzIiwidG9EYXRhVVJMIiwiZGF0YVVSTCIsImRvd25sb2FkRGF0YXMiLCJzYXZlSlNPTiIsImdldERhdGFzVG9KU09OIiwiZHJhd0ZyYW1lQ291bnQiLCJ1cGRhdGVGcmFtZUNvdW50IiwidGltZXMiLCJyZWFsVGltZUxlbmd0aCIsInZpZGVvVGltZUxlbmd0aCIsInRpbWVPcGVyYXRpb25zIiwicGl4ZWxzIiwicGl4ZWxEYXRhc1NpemUiLCJwb2ludE5hbWUiLCJwb2ludFNpemUiLCJ2ZWN0b3JOYW1lIiwiZHJhd09yaWdpblZlY3RvciIsInBvaW50U2l6ZURyYXdpbmciLCJ0ZXh0UGFkZGluZyIsInBhcnNlSW50IiwicDAiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInNldENvb3JkaW5hdGVzIiwicEciLCJnbG9iYWwiLCJwU1BvaW50IiwicFNUcmlhbmdsZSIsInBTQW5pbWF0aW9uIiwicDUiLCJpbnN0YW5jaWF0ZSIsInBTRW5naW5lIiwiZ2V0UFNFbmdpbmVWYXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIl0sIm1hcHBpbmdzIjoieUJBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFB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QUtnVCxhQUFhM1EsYUFBYXJDLEtBQUtxQyxjQUVqRHJFLEVBQUU4RSxPQUNHb0UsYUFDSUMsT0FBT25ILEtBQUs4UyxHQUFHblQsRUFBR0ssS0FBSzhTLEdBQUdsVCxHQUMxQnVILE9BQU9uSCxLQUFLb0ksR0FBR3pJLEVBQUdLLEtBQUtvSSxHQUFHeEksR0FDMUJ1SCxPQUFPbkgsS0FBS3FJLEdBQUcxSSxFQUFHSyxLQUFLcUksR0FBR3pJLEdBQzFCdUgsT0FBT25ILEtBQUs4UyxHQUFHblQsRUFBR0ssS0FBSzhTLEdBQUdsVCxHQUM5QndILFdBQ0poRSxTLDhEQ3RIVCwyRkF3QkErUCxFQUFPQyxRQUFjLElBQ3JCRCxFQUFPaFQsT0FBYyxJQUNyQmdULEVBQU9FLFdBQWMsSUFHckJGLEVBQU9HLFlBQWMsSUFHckJILEVBQU96VCxPQUFjLEssZ0NDaENyQixJQUFJZ0ksRUFHSkEsRUFBSSxXQUNILE9BQU8xSCxLQURKLEdBSUosSUFFQzBILEVBQUlBLEdBQUssSUFBSW9JLFNBQVMsY0FBYixHQUNSLE1BQU81QyxHQUVjLGlCQUFYN0ksU0FBcUJxRCxFQUFJckQsUUFPckM1RyxFQUFPRCxRQUFVa0ssRyx3Q0NBRixNQWpCZixNQUNDLGNBQ2lCeEgsTUFBYm1FLE9BQU9rUCxJQUNUOVMsUUFBUUUsTUFDUCx1RUFDQSwwREFJRjBELE9BQU9nTixNQUFRLFdBQ2RoTixPQUFPM0IscUJBQXVCLElBQUksSUFDbEMyQixPQUFPM0IscUJBQXFCOFEsY0FDNUJuUCxPQUFPb1AsU0FBV3BQLE9BQU8zQixxQkFBcUJnUixvQkNScEIsSUFBSUMsUUFBUSxDQUFDQyxFQUFTQyxLQUNwQixZQUF4QkMsU0FBU0MsV0FDUkgsSUFFQXZQLE9BQU8yUCxpQkFBaUIsT0FBUUosR0FBUyxLQUc1QkssS0FYTyxLQUMzQixJQUFJIiwiZmlsZSI6InBTRW5naW5lLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTApO1xuIiwiaW1wb3J0ICcuLy4uL2RyYXdlci9vYmplY3RzL1RleHQnO1xyXG5cclxuLyoqXHJcbiogQSBjbGFzcyBmb3IgZXZlcnkgM0QgVmVjdG9ycy5cclxuKiA8YnIvPlBsZWFzZSBub3RlIHRoYXQgY3VycmVudCB2ZWN0b3IgbWF5IG9ubHkgYmUgdXNlZCBpbiA8Yj4yRDwvYj4uXHJcbiovXHJcbmNsYXNzIFZlY3RvciB7XHJcbiAgICAvKipcclxuICAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IgKGVhY2ggY29vcmRpbmF0ZSBnZXRzIGEgMCBpZiB2YWx1ZSBub3QgcHJvdmlkZWQpXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBWZWN0b3IgJ3JnYmEoUiwgRywgQiwgQSknXHJcbiAgICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIFZlY3RvciBwb3RlbnRpYWxseSBkaXNwbGF5ZWQgKEBzZWUgZHJhdyBtZXRob2QpXHJcbiAgICAqIEBwYXJhbSBuYW1lU2l6ZSBUZXh0IHNpemUgb2YgdGhlIG5hbWUgb2YgdGhlIFZlY3RvciAoZGVmYXVsdCAxLjMpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHosIGNvbG9yID0gJ3JnYigyNTUsIDI1NSwgMjU1KScsIG5hbWUsIG5hbWVTaXplID0gMS4zKSB7XHJcbiAgICAgICAgdGhpcy54ICAgID0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSAgICA9IHkgfHwgMDtcclxuICAgICAgICB0aGlzLnogICAgPSB6IHx8IDA7XHJcblxyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuXHJcbiAgICAgICAgdGhpcy5zZXROYW1lKG5hbWUsIGNvbG9yLCBuYW1lU2l6ZSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQkFTSUMgVkVDVE9SIE1FVEhPRFMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogU2V0IHgsIHksIHogY29vcmRpbmF0ZXMgKGVhY2ggY29vcmRpbmF0ZSBnZXRzIGEgMCBpZiB2YWx1ZSBub3QgcHJvdmlkZWQpXHJcbiAgICAqIEBwYXJhbSB4IE5ldyBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeCB0byBiZSBlcXVhbCB0b1xyXG4gICAgKiBAcGFyYW0geSBOZXcgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IE5ldyBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0KHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHgueCB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB4LnkgfHwgMDtcclxuICAgICAgICAgICAgdGhpcy56ID0geC56IHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSA9IHkgfHwgMDtcclxuICAgICAgICB0aGlzLnogPSB6IHx8IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCB2ZWN0b3IgbmFtZVxyXG4gICAgKiBAcGFyYW0gbmFtZSBOZXcgbmFtZSBvZiB0aGUgVmVjdG9yXHJcbiAgICAqIEBwYXJhbSBjb2xvciBDb2xvciBvZiB0aGUgVmVjdG9yIG5hbWVcclxuICAgICogQHBhcmFtIG5hbWVTaXplIFRleHQgc2l6ZSBvZiB0aGUgbmFtZSBvZiB0aGUgVmVjdG9yIChkZWZhdWx0IDEuMylcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0TmFtZShuYW1lLCBjb2xvciwgbmFtZVNpemUgPSAxLjMpIHtcclxuICAgICAgICBpZihuYW1lID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICAgIGlmKG5hbWUgaW5zdGFuY2VvZiBwU1RleHQpXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuZXcgcFNUZXh0KG5hbWUsIHRoaXMsIG5hbWVTaXplLCBjb2xvcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGVjayBpZiB0d28gdmVjdG9ycyBvciBwYWlyIG9mIGNvb3JkaW5hdGVzIGFyZSBlcXVhbFxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeCBmb3IgZWdhbGl0eSBjaGVja2luZ1xyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdHJ1ZSBpZiBlcXVhbFxyXG4gICAgKi9cclxuICAgIGVxdWFscyh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXF1YWxzKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gKHRoaXMueCA9PSB4KSAmJiAodGhpcy55ID09IHkpICYmICh0aGlzLnogPT0geik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gYSBjb3B5IG9mIHRoZSBjdXJyZW50IFZlY3RvciAqL1xyXG4gICAgY29weSgpIHsgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54LCB0aGlzLnksIHRoaXMueik7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGlzIFZlY3RvciB3aXRoIGNvb3JkaW5hdGVzIHNldCB0byAoMCwgMCwgMCkgKi9cclxuICAgIGNsZWFyKCkgeyByZXR1cm4gdGhpcy5zZXQoMCwgMCwgMCk7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiBBIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0ICovXHJcbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIGBWZWN0b3IgT2JqZWN0IDogWyR7dGhpcy54fSwgJHt0aGlzLnl9LCAke3RoaXMuen1dYDsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQkFTSUMgVkVDVE9SIE9QRVJBVElPTlMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogQWRkIHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBhZGQoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZCh4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgdGhpcy54ICs9IHggfHwgMDtcclxuICAgICAgICB0aGlzLnkgKz0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiArPSB6IHx8IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFN1c3RyYWN0IHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzdWIoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1Yih4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKC14LCAteSwgLXopO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNdWx0aXBseSB0aGlzIFZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gYyBUaGUgbXVsdGlwbGljYXRpb24gc2NhbGFyXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIG11bHQoYykge1xyXG4gICAgICAgIGlmKCEodHlwZW9mIGMgPT09ICdudW1iZXInKSB8fCAhaXNGaW5pdGUoYykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgJ1ZlY3Rvcjo6bXVsdCgpJyxcclxuICAgICAgICAgICAgICAgICdjIGlzIHVuZGVmaW5lZCBvciBpc25cXCd0IGEgZmluaXRlIG51bWJlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggKj0gYztcclxuICAgICAgICB0aGlzLnkgKj0gYztcclxuICAgICAgICB0aGlzLnogKj0gYztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGl2aWRlcyB0aGlzIFZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gYyBUaGUgZGl2aXNpb24gc2NhbGFyXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGRpdihjKSB7XHJcbiAgICAgICAgaWYoISh0eXBlb2YgYyA9PT0gJ251bWJlcicpIHx8ICFpc0Zpbml0ZShjKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAnVmVjdG9yOjpkaXYoKScsXHJcbiAgICAgICAgICAgICAgICAnYyBpcyB1bmRlZmluZWQgb3IgaXNuXFwndCBhIGZpbml0ZSBudW1iZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihjID09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGRpdmlkZSBieSAwJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdCgxIC8gYyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBTdGF0aWMgbWV0aG9kc1xyXG4gICAgLyoqXHJcbiAgICAqIEFkZCB0d28gdmVjdG9ycyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiBBIG5ldyBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgYWRkKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuYWRkKHYyKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTdWJ0cmFjdCB0d28gdmVjdG9ycyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiBBIG5ldyBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgc3ViKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuc3ViKHYyKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNdWx0aXBseSBhIHZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIHZlY3RvclxyXG4gICAgKiBAcGFyYW0gYyBBIHNjYWxhciBjXHJcbiAgICAqIEByZXR1cm4gQSBuZXcgbXVsdGlwbGllZCBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgbXVsdCh2MSwgYykgeyByZXR1cm4gKHYxLmNvcHkoKSkubXVsdChjKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEaXZpZGVzIHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBjIEEgc2NhbGFyIGNcclxuICAgICogQHJldHVybiBBIG5ldyBkaXZpZGVkIFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkaXYgKHYxLCBjKSB7IHJldHVybiAodjEuY29weSgpKS5kaXYoYyk7IH1cclxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogPT09PT09PT09IEFEVkFOQ0VEIE1BVEggVkVDVE9SIE9QRVJBVElPTlMgPT09PT09PT09ICovXHJcbiAgICAvLyBEb3QgYW5kIGNyb3NzIHByb2R1Y3RzXHJcbiAgICAvKipcclxuICAgICogRG90IHByb2R1Y3QgYmV0d2VlbiBhIFZlY3RvciBPUiBhIHBhaXIgb2YgY29vcmRpbmF0ZXNcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBkb3QoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvdCh4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqICh4IHx8IDApICsgdGhpcy55ICogKHkgfHwgMCkgKyB0aGlzLnogKiAoeiB8fCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ3Jvc3MgcHJvZHVjdCB3aXRoIGEgVmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2IFRoZSB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY3Jvc3Modikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICB0aGlzLnkgKiB2LnogLSB0aGlzLnogKiB2LnksXHJcbiAgICAgICAgICAgIHRoaXMueiAqIHYueCAtIHRoaXMueCAqIHYueixcclxuICAgICAgICAgICAgdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIE1hZ25pdHVkZVxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG5vcm1hbGl6ZWQgVmVjdG9yICovXHJcbiAgICBub3JtYWxpemUoKSB7XHJcbiAgICAgICAgY29uc3QgdkxlbiA9IHRoaXMubWFnKCk7XHJcbiAgICAgICAgaWYgKHZMZW4gIT09IDApXHJcbiAgICAgICAgICAgIHRoaXMuZGl2KHZMZW4pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogTGltaXQgdGhlIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yIGJldHdlZW4gYSBtaW4gYW5kIGEgbWF4IHZhbHVlXHJcbiAgICAqIEBwYXJhbSBtaW4gTWluaW11bSB2YWx1ZSBvZiB0aGUgVmVjdG9yIG1hZ25pdHVkZVxyXG4gICAgKiBAcGFyYW0gbWF4IE1heGltdW0gdmFsdWUgb2YgdGhlIFZlY3RvciBtYWduaXR1ZGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbGltaXQobWluLCBtYXgpIHtcclxuICAgIFx0bGV0IG0gPSB0aGlzLm1hZygpO1xyXG4gICAgXHRpZihtIDwgbWluKVxyXG4gICAgXHRcdHRoaXMuZGl2KG0pLm11bHQobWluKTtcclxuICAgIFx0aWYobSA+IG1heClcclxuICAgIFx0XHR0aGlzLmRpdihtKS5tdWx0KG1heCk7XHJcbiAgICBcdHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBtYWduaXR1ZGUgb2YgdGhpcyB2ZWN0b3IgKi9cclxuICAgIG1hZygpIHsgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCB0aGUgbWFnbml0dWRlIG9mIHRoaXMgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBtYWcgVGhlIG5ldyBtYWduaXR1ZGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0TWFnKG1hZykgeyByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0KG1hZyk7IH1cclxuXHJcblxyXG5cclxuICAgIC8vIEFuZ2xlc1xyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZSB0aGlzIHZlY3RvciBieSBhbiBhbmdsZSBvbiB0aGUgWFkgcGxhbmVcclxuICAgICogQHBhcmFtIGFuZ2xlIEFuIGFuZ2xlIElOIFJBRElBTlNcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcm90YXRlKGFuZ2xlKSB7XHJcbiAgICAgICAgY29uc3QgbmV3QW5nbGUgID0gdGhpcy5nZXRBbmdsZSgpICsgYW5nbGU7XHJcbiAgICAgICAgY29uc3QgbWFnbml0dWRlID0gdGhpcy5tYWcoKTtcclxuXHJcbiAgICAgICAgdGhpcy54ID0gTWF0aC5jb3MobmV3QW5nbGUpICogbWFnbml0dWRlO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGguc2luKG5ld0FuZ2xlKSAqIG1hZ25pdHVkZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGFuZ2xlIGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIHRoZSBvcmlnaW4gKi9cclxuICAgIGdldEFuZ2xlKCkgeyByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7IH1cclxuXHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBtZXRob2RzXHJcbiAgICAvKipcclxuICAgICogRGlzdGFuY2UgYmV3dGVlbiB0d28gdmVjdG9yc1xyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBvc2l0aW9ucyB3aGVyZSB0aGUgYXJyb3cgYXJlIHBvaW50aW5nIHRvXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRpc3QodjEsIHYyKSB7IHJldHVybiBWZWN0b3Iuc3ViKHYxLCB2MikubWFnKCk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRG90IHByb2R1Y3QgYmV0d2VlbiBhIFZlY3RvciBPUiBhIHBhaXIgb2YgY29vcmRpbmF0ZXNcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBkb3R0ZWQgbmV3IHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkb3QodjEsIHgsIHksIHopIHsgcmV0dXJuICh2MS5jb3B5KCkpLmRvdCh4LCB5LCB6KTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcm9zcyBwcm9kdWN0IHdpdGggYSBWZWN0b3JcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhlIGNyb3NzZWQgbmV3IHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBjcm9zcyh2MSwgdjIpIHsgcmV0dXJuICh2MS5jb3B5KCkpLmNyb3NzKHYyKTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBub3JtYWxpemVkIFZlY3RvciAqL1xyXG4gICAgc3RhdGljIG5vcm1hbGl6ZSh2MSkgeyByZXR1cm4gKHYxLmNvcHkoKSkubm9ybWFsaXplKCk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogUm90YXRlIGEgdmVjdG9yIGJ5IGFuIGFuZ2xlXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yIHRvIGJlIHJvdGF0ZWRcclxuICAgICogQHBhcmFtIGFuZ2xlIEFuIGFuZ2xlIElOIFJBRElBTlNcclxuICAgICogQHJldHVybiB0aGUgcm90YXRlZCB2ZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgcm90YXRlICh2MSwgYW5nbGUpIHsgcmV0dXJuICh2MS5jb3B5KCkpLnJvdGF0ZShhbmdsZSk7IH1cclxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gRFJBV0lORyBWRUNUT1JTID09PT09PT09PSAqL1xyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSB2ZWN0b3IgdG8gdGhlIGNhbnZhcyB1c2luZyB0aGUgYERyYXdlcmAgY2xhc3NcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGJlZ2lubmluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBoZWFkU2l6ZSBTaXplIG9mIHRoZSBoZWFkIGluIHBpeGVscyAoZGVmYXVsdCA9IDUgcHgpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VXZWlnaHQgU3Ryb2tlIHdlaWdodCBvZiB0aGUgVmVjdG9yIGluIHBpeGVscyAoZGVmYXVsdCA9IDEgcHgpXHJcbiAgICAqL1xyXG4gICAgZHJhdyhpbml0aWFsUG9zLCBoZWFkU2l6ZSwgc3Ryb2tlV2VpZ2h0KSB7XHJcbiAgICAgICAgaWYoaW5pdGlhbFBvcyAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIFZlY3Rvci5kcmF3KGluaXRpYWxQb3MsIHRoaXMsIHRoaXMuY29sb3IsIGhlYWRTaXplLCBzdHJva2VXZWlnaHQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgVmVjdG9yLmRyYXcodW5kZWZpbmVkICwgdGhpcywgdGhpcy5jb2xvciwgaGVhZFNpemUsIHN0cm9rZVdlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIChQbGVhc2UgYXZvaWQgZGlyZWN0bHkgdXNpbmcgdGhpcyBtZXRob2QpXHJcbiAgICAqIERyYXcgYSB2ZWN0b3IgdG8gdGhlIGNhbnZhcyB1c2luZyB0aGUgYERyYXdlcmAgY2xhc3NcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGJlZ2lubmluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBpbml0aWFsUG9zIFRoZSBlbmRpbmcgcG9zaXRpb24gb2YgdGhlIFZlY3RvciBBcnJvd1xyXG4gICAgKiBAcGFyYW0gY29sb3IgQ29sb3Igb2YgdGhlIGFycm93IChkZWZhdWx0IGByZ2IoMjU1LCAyNTUsIDI1NSlgKVxyXG4gICAgKiBAcGFyYW0gaGVhZFNpemUgU2l6ZSBvZiB0aGUgaGVhZCBpbiBwaXhlbHMgKGRlZmF1bHQgPSA1IHB4KVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFN0cm9rZSB3ZWlnaHQgb2YgdGhlIFZlY3RvciBpbiBwaXhlbHMgKGRlZmF1bHQgPSAxIHB4KVxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkcmF3KGluaXRpYWxQb3MgPSBuZXcgVmVjdG9yKCksIHBvaW50aW5nUG9zLCBjb2xvciA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknLCBoZWFkU2l6ZSA9IDUsIHN0cm9rZVcgPSAxKSB7XHJcbiAgICAgICAgbGV0IHBsb3R0ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyO1xyXG5cclxuICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SXHJcbiAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KHN0cm9rZVcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWxsKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubGluZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueCArIHBvaW50aW5nUG9zLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9zLnkgKyBwb2ludGluZ1Bvcy55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGxldCB2MCA9IHBsb3R0ZXIuY29tcHV0ZUZvclhZWihpbml0aWFsUG9zLngsIGluaXRpYWxQb3MueSwgaW5pdGlhbFBvcy56LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB6elBvc2l0aW9uID0gcGxvdHRlci5jb21wdXRlRm9yWFlaKDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRQb3MgICAgID0gcGxvdHRlci5jb21wdXRlRm9yWFlaKHBvaW50aW5nUG9zLngsIHBvaW50aW5nUG9zLnksIHBvaW50aW5nUG9zLnopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUoZW5kUG9zLngsIGVuZFBvcy55KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlKGVuZFBvcy5zdWIoenpQb3NpdGlvbikuZ2V0QW5nbGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlKC1oZWFkU2l6ZSAtIDIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlKDAsIGhlYWRTaXplIC8gMiwgMCwgLWhlYWRTaXplIC8gMiwgaGVhZFNpemUsIDApO1xyXG4gICAgICAgICAgICAgICAgcG9wKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SIE5BTUVcclxuICAgICAgICAgICAgICAgIGlmKHBvaW50aW5nUG9zLm5hbWUgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2Zmc2V0IG9mIHRoZSB0ZXh0IGJhc2VkIG9uIHRoZSBhbmdsZSBvbiB0aGUgdW5pdCBjaXJjbGVcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYW5nbGUgPSBwb2ludGluZ1Bvcy5nZXRBbmdsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGFuZ2xlIDwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGUgKz0gMipQSTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHhPZmZzZXQgPSAwLjAxICogcG9pbnRpbmdQb3MubmFtZS5zdmdJbWcud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoICAgIChQSS80ICAgPCBhbmdsZSAmJiBhbmdsZSA8PSBQSS8yICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgzKlBJLzQgPCBhbmdsZSAmJiBhbmdsZSA8PSA1KlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgzKlBJLzIgPCBhbmdsZSAmJiBhbmdsZSA8PSA3KlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB4T2Zmc2V0ICo9IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeU9mZnNldCA9IDAuMDEgKiBwb2ludGluZ1Bvcy5uYW1lLnN2Z0ltZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoICAgIChQSS80ICAgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIFBJLzIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChQSS8yICAgPCBhbmdsZSAmJiBhbmdsZSA8PSAzKlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChQSSAgICAgPCBhbmdsZSAmJiBhbmdsZSA8PSA1KlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICg3KlBJLzQgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIDIqUEkpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB5T2Zmc2V0ICo9IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwb2ludGluZ1Bvcy5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRDb2xvcihjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRyYXcocG9pbnRpbmdQb3MubmFtZS5wb3MuY29weSgpLmRpdigyKS5hZGQoeE9mZnNldCwgeU9mZnNldCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYWRTaXplIC89IDM7XHJcblxyXG4gICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodChzdHJva2VXKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWxsKGNvbG9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUlxyXG4gICAgICAgICAgICAgICAgaWYoaW5pdGlhbFBvcyAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXIudHJhbnNsYXRlKGluaXRpYWxQb3MueCwgaW5pdGlhbFBvcy55LCBpbml0aWFsUG9zLnopO1xyXG4gICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXIubGluZSgwLCAwLCAwLCBwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55LCBwb2ludGluZ1Bvcy56KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUiBOQU1FXHJcbiAgICAgICAgICAgICAgICAvLyBpZihwb2ludGluZ1Bvcy5uYW1lICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRleHQocG9pbnRpbmdQb3MueCwgcG9pbnRpbmdQb3MueSwgcG9pbnRpbmdQb3Mueik7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHhheGlzID0gVmVjdG9yLmNyb3NzKG5ldyBWZWN0b3IoMCwgMSwgMCksIHBvaW50aW5nUG9zKTtcclxuICAgICAgICAgICAgICAgIC8vIHhheGlzLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIGxldCB5YXhpcyA9IFZlY3Rvci5jcm9zcyhwb2ludGluZ1BvcywgeGF4aXMpO1xyXG4gICAgICAgICAgICAgICAgLy8geWF4aXMubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gQ2FsY3VsYXRlIHJvdGF0aW9uIG1hdHJpeFxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IE0gPSBbW10sIFtdLCBbXV07XHJcbiAgICAgICAgICAgICAgICAvLyBNWzBdWzBdID0geGF4aXMueDtcclxuICAgICAgICAgICAgICAgIC8vIE1bMF1bMV0gPSB5YXhpcy54O1xyXG4gICAgICAgICAgICAgICAgLy8gTVswXVsyXSA9IHBvaW50aW5nUG9zLng7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gTVsxXVswXSA9IHhheGlzLnk7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzFdWzFdID0geWF4aXMueTtcclxuICAgICAgICAgICAgICAgIC8vIE1bMV1bMl0gPSBwb2ludGluZ1Bvcy55O1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIE1bMl1bMF0gPSB4YXhpcy56O1xyXG4gICAgICAgICAgICAgICAgLy8gTVsyXVsxXSA9IHlheGlzLno7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzJdWzJdID0gcG9pbnRpbmdQb3MuejtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAvLyBDYWxjdWxhdGUgRXVsZXIgYW5nbGVzXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgdGhldGExLCB0aGV0YTIsIHRoZXRhLCBwc3kxLCBwc3kyLCBwc3ksIHBoaTEsIHBoaTIsIHBoaTtcclxuICAgICAgICAgICAgICAgIC8vIGlmIChNWzNdWzFdICE9IC0xICYmIE1bM11bMV0gIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoZXRhMSA9IC1NYXRoLmFyY3NpbihNWzNdWzFdKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGV0YTIgPSBNYXRoLlBJIC0gdGhldGExO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHBzeTEgPSBNYXRoLmF0YW4yKE1bM11bMl0gLyBNYXRoLmNvcyh0aGV0YTEpKVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIGNvbmUoaGVhZFNpemUgKiAzLCBoZWFkU2l6ZSAqIDcpO1xyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yO1xyXG4iLCJjbGFzcyBwU1RleHQge1xyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0ZXh0IExhVGVYIGNvZGUgKGluc2VydCAnXFx0ZXh0e1RFWFR9JyBmb3IgcGxhaW4gdGV4dClcclxuICAgICogQHBhcmFtIHBvcyB0ZXh0IHBvc2l0aW9uIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIHRleHRTaXplIHRleHQgc2l6ZSBtdWx0aXBsaWVyIChkZWZhdWx0IDEpXHJcbiAgICAqIEBwYXJhbSBjb2xvciB0ZXh0IGNvbG9yIChkZWZhdWx0IHdoaXRlKVxyXG4gICAgKiBAcGFyYW0gc2hvd0hpdGJveCB0cnVlIDogc2hvdyB0ZXh0IGhpdGJveCAoZGVmYXVsdCA6IGZhbHNlKVxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRleHQsIHBvcyA9IG5ldyBWZWN0b3IoKSwgdGV4dFNpemUgPSAxLCBjb2xvciA9IFwiI0ZGRkZGRlwiLCBzaG93SGl0Ym94ID0gZmFsc2UpIHtcclxuICAgICAgICBpZih3aW5kb3cuTWF0aEpheCA9PSB1bmRlZmluZWQpXHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1lvdSBtdXN0IGltcG9ydCBNYXRoSmF4LmpzID49My4wLjAgaW4gb3JkZXIgdG8gdXNlIFRleHQgYW5kIFRleCBzdHJpbmdzLicpO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRTaXplICAgPSB0ZXh0U2l6ZTtcclxuICAgICAgICB0aGlzLmNvbG9yICAgICAgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLnBvcyAgICAgICAgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5zaG93SGl0Ym94ID0gc2hvd0hpdGJveDtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0KHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IHRoZSB0ZXh0IHRvIHRoZSBzY3JlZW5cclxuICAgICogQHBhcmFtIHBvc09wdCBGb3JjZSB0ZXh0IHBvc2l0aW9uXHJcbiAgICAqL1xyXG4gICAgZHJhdyhwb3NPcHQpIHtcclxuICAgICAgICBsZXQgZHJhd2VyID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5kcmF3ZXI7XHJcblxyXG4gICAgICAgIGxldCBwb3MgPSBkcmF3ZXIucGxvdHRlci5jb21wdXRlRm9yWFlaKHRoaXMucG9zLngsIHRoaXMucG9zLnkpO1xyXG4gICAgICAgIGlmKHBvc09wdCAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHBvcyA9IGRyYXdlci5wbG90dGVyLmNvbXB1dGVGb3JYWVoocG9zT3B0LngsIHBvc09wdC55KTtcclxuXHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKC10aGlzLnN2Z0ltZy53aWR0aCAvIDIsIC10aGlzLnN2Z0ltZy5oZWlnaHQgLyAyKTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlKHRoaXMuc3ZnSW1nLCBwb3MueCwgcG9zLnksIHRoaXMuc3ZnSW1nLndpZHRoLCB0aGlzLnN2Z0ltZy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5zaG93SGl0Ym94KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaCA9IHRoaXMuc3ZnSW1nLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGxldCB3ID0gdGhpcy5zdmdJbWcud2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZSh0aGlzLmNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMSlcclxuICAgICAgICAgICAgICAgICAgICAubm9GaWxsKCk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICAgICwgcG9zLnkgICAgLCBwb3MueCArIHcsIHBvcy55ICAgICk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICAgICwgcG9zLnkgKyBoLCBwb3MueCArIHcsIHBvcy55ICsgaCk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICAgICwgcG9zLnkgKyBoLCBwb3MueCAgICAsIHBvcy55ICAgICk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICsgdywgcG9zLnkgKyBoLCBwb3MueCArIHcsIHBvcy55ICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBwb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hhbmdlIHRleHQgdmFsdWVcclxuICAgICovXHJcbiAgICBzZXRUZXh0KHRleHQpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG5cclxuICAgICAgICBsZXQgc3ZnID0gJzxzdmcnICsgTWF0aEpheC50ZXgyc3ZnKHRoaXMudGV4dCxcclxuICAgICAgICAgICAgeyBkaXNwbGF5IDogdHJ1ZSwgZW0gOiAxMiwgZXggOiA2LCBjb250YWluZXJXaWR0aCA6IDgwICogNiwgbGluZVdpZHRoIDogMTAwMDAwLCBzY2FsZSA6IDEgfVxyXG4gICAgICAgICkuaW5uZXJIVE1MLnNwbGl0KCc8c3ZnJylbMV0uc3BsaXQoJzwvc3ZnPicpWzBdICsgJzwvc3ZnPic7XHJcblxyXG4gICAgICAgIHN2ZyA9IHN2Z1xyXG4gICAgICAgICAgICAucmVwbGFjZSgvPGcvZyAgICAgICAgICAgLCAnPGcgY29sb3I9XCInICsgdGhpcy5jb2xvciArICdcIicpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC93aWR0aD1cIiguKj8pXCIvICwgJ3dpZHRoPVwiJyAgKyBwYXJzZUZsb2F0KC93aWR0aD1cIiguKj8pXCIvIC5leGVjKHN2ZylbMV0uc3BsaXQoJ2V4JylbMF0pICogdGhpcy50ZXh0U2l6ZSArICdleFwiJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL2hlaWdodD1cIiguKj8pXCIvLCAnaGVpZ2h0PVwiJyArIHBhcnNlRmxvYXQoL2hlaWdodD1cIiguKj8pXCIvLmV4ZWMoc3ZnKVsxXS5zcGxpdCgnZXgnKVswXSkgKiB0aGlzLnRleHRTaXplICsgJ2V4XCInKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdmdJbWcgPSBsb2FkSW1hZ2UoVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbc3ZnXSwgeyB0eXBlOiAnaW1hZ2Uvc3ZnK3htbCcgfSkpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5nZXMgdGV4dCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geCBuZXcgWCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geSBuZXcgWSBwb3NpdGlvblxyXG4gICAgKi9cclxuICAgIHNldFBvc2l0aW9uKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnBvcy54ID0geDtcclxuICAgICAgICB0aGlzLnBvcy55ID0geTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hhbmdlcyB0ZXh0IGNvbG9yXHJcbiAgICAqIEBwYXJhbSBjb2xvciBOZXcgY29sb3JcclxuICAgICovXHJcbiAgICBzZXRDb2xvcihjb2xvcikge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNUZXh0O1xyXG4iLCJjbGFzcyBwU0RyYXdlciB7XHJcbiAgICAvKiogQ29uc3RydWN0IHRoZSBtYWluIHBTRW5naW5lIGRyYXdlciAqL1xyXG4gICAgY29uc3RydWN0b3IocGxvdHRlcikge1xyXG4gICAgICAgIHRoaXMucGxvdHRlciA9IG51bGw7IC8vIHNldCB3aGVuIGxvYWRlZCBpbiB0aGUgUGxvdHRlciBjbGFzc1xyXG5cclxuICAgICAgICAvKiogU3RhY2sgZm9yIGhhbmRlbGluZyByb3RhdGlvbnMsIHRyYW5zbGF0aW9ucywgc2NhbGVzLCBwdWxsIGFuZCBwb3AgY29tbWFuZHNcclxuICAgICAgICAqID09PSBTVFJVQ1RVUkUgPT09XHJcbiAgICAgICAgKiBbIExldmVsIDBcclxuICAgICAgICAqICAgICBbIG5ldyBsZXZlbCB4IG9mIGRlcHRoXHJcbiAgICAgICAgKiAgICAgICAgICB7IFxcbmV3IGxldmVsIHgrMSBvYmplY3QgZm9yIGVhY2ggb3BlcmF0aW9uIGluc2lkZSBhIHB1c2goKSwgcG9wKCkgc2VjdGlvblxyXG4gICAgICAgICogICAgICAgICAgICAgIHR5cGUgOiAndCcsICAgLy8gdCA6IHRyYW5zbGF0aW9uIC8gciA6IHJvdGF0aW9uIC8gcyA6IHNjYWxlXHJcbiAgICAgICAgKiAgICAgICAgICAgICAgdCA6IHsgXFx4IDogMCwgeSA6IDB9LFxyXG4gICAgICAgICogICAgICAgICAgICAgIHIgOiAwLFxyXG4gICAgICAgICogICAgICAgICAgICAgIHMgOiAxXHJcbiAgICAgICAgKiAgICAgICAgICB9XHJcbiAgICAgICAgKiAgICAgXVxyXG4gICAgICAgICogfVxyXG4gICAgICAgICogXFxPbmx5IGhhbmRsZXMgYW5kIHNhdmVzIHRyYW5zbGF0aW9ucyBhbmQgcm90YXRpb25zXHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnN0YWNrID0gW107XHJcbiAgICAgICAgdGhpcy5zdGFja1BvaW50ZXIgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQ2xlYXJzIHN0YWNrIG9uIGVhY2ggdXBkYXRlKCkgKi9cclxuICAgIGNsZWFyU3RhY2soKSB7XHJcbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3RhY2tQb2ludGVyID0gW107XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhY2tMZXZlbCA9IHRoaXMuc3RhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgYSBuZXcgc3RhY2sgb3BlcmF0aW9uIHRvIHRoZSBjdXJyZW50IHN0YWNrXHJcbiAgICAqIEBwYXJhbSB0eXBlIHQgOiB0cmFuc2xhdGlvbiAvIHIgOiByb3RhdGlvbiAvIHMgOiBzY2FsZVxyXG4gICAgKiBAcGFyYW0gdCBUcmFuc2xhdGlvbiBhbW91bnQgKHJlcXVpcmVkKVxyXG4gICAgKiBAcGFyYW0gciBSb3RhdGlvbiBhbW91bnQgKGRlZmF1bHQgMClcclxuICAgICogQHBhcmFtIHMgU2NhbGUgYW1vdW50IChkZWZhdWx0IDEpXHJcbiAgICAqL1xyXG4gICAgcHVzaFN0YWNrT3BlcmF0aW9uKHR5cGUsIHQsIHIgPSAwLCBzID0gMSkge1xyXG4gICAgICAgIGxldCBtID0gW1swLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF1dO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd0JzpcclxuICAgICAgICAgICAgICAgIG0gPSBbWzEsIDAsIHQueF0sIFswLCAxLCB0LnldLCBbMCwgMCwgMV1dO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3InOlxyXG4gICAgICAgICAgICAgICAgbSA9IFtbTWF0aC5jb3MociksIC1NYXRoLnNpbihyKSwgMF0sIFtNYXRoLnNpbihyKSwgTWF0aC5jb3MociksIDBdLCBbMCwgMCwgMV1dO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3MnOlxyXG4gICAgICAgICAgICAgICAgbSA9IFtbcywgMCwgMF0sIFswLCBzLCAwXSwgWzAsIDAsIDFdXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldEN1cnJlbnRTdGFja0xldmVsKCkucHVzaCh7IG0gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFJldHVybnMgdGhlIGN1cnJlbnQgc3RhY2sgbGV2ZWwgKi9cclxuICAgIGdldEN1cnJlbnRTdGFja0xldmVsKCkge1xyXG4gICAgICAgIGxldCBzQ3VyciA9IHRoaXMuc3RhY2s7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YWNrUG9pbnRlci5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgc0N1cnIgPSBzQ3Vyclt0aGlzLnN0YWNrUG9pbnRlcltpXV07XHJcbiAgICAgICAgcmV0dXJuIHNDdXJyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBDcmVhdGVzIGFuZCBlbnRlciBpbiBhIG5ldyBzdGFjayBsZXZlbCAqL1xyXG4gICAgZW50ZXJTdGFja0xldmVsKCkge1xyXG4gICAgICAgIGxldCBzQ3VyciA9IHRoaXMuZ2V0Q3VycmVudFN0YWNrTGV2ZWwoKTtcclxuICAgICAgICB0aGlzLnN0YWNrUG9pbnRlci5wdXNoKHNDdXJyLmxlbmd0aCk7XHJcbiAgICAgICAgc0N1cnIucHVzaChbXSk7XHJcbiAgICB9XHJcbiAgICAvKiogTGVhdmVzIHRoZSBjdXJyZW50IHN0YWNrIGxldmVsICovXHJcbiAgICBleGl0U3RhY2tMZXZlbCgpIHtcclxuICAgICAgICBsZXQgc0N1cnIgPSB0aGlzLnN0YWNrO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGFja1BvaW50ZXIubGVuZ3RoIC0gMTsgaSsrKVxyXG4gICAgICAgICAgICBzQ3VyciA9IHNDdXJyW3RoaXMuc3RhY2tQb2ludGVyW2ldXTtcclxuICAgICAgICB0aGlzLnN0YWNrUG9pbnRlci5wb3AoKTtcclxuICAgICAgICBzQ3Vyci5wb3AoKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgcG9pbnQgdG8gdGhlIHNjcmVlblxyXG4gICAgKiBAcGFyYW0geCBYIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBwb2ludCh4LCB5KSB7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICBwb2ludCh2LngsIHYueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSBsaW5lIGZyb20gb25lIHBvaW50IHRvIHRoZSBvdGhlciB0byB0aGUgc2NyZWVuXHJcbiAgICAqIEBwYXJhbSB4MCBYIGluaXRpYWwgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5MCBZIGluaXRpYWwgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB4MSBYIGVuZCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkxIFkgZW5kIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBsaW5lKHgwLCB5MCwgeDEsIHkxKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDAsIHkwKTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4MSwgeTEpO1xyXG4gICAgICAgIGxpbmUodjAueCwgdjAueSwgdjEueCwgdjEueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCBhbmQgYWRkIGxpbmUgZGFzaCB0eXBlXHJcbiAgICAqIEBwYXJhbSBkYXNoU2l6ZSBTaXplIG9mIHRoZSBkYXNoZXMgKGRlZmF1bHQgNSlcclxuICAgICogQHBhcmFtIGRhc2hTcGFjaW5nIFNwYWNlIGJldHdlZW4gdGhlIGRhc2hlcyAoZGVmYXVsdCA1KVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRMaW5lRGFzaChkYXNoU2l6ZSA9IDUsIGRhc2hTcGFjaW5nID0gNSkge1xyXG4gICAgICAgIGRyYXdpbmdDb250ZXh0LnNldExpbmVEYXNoKFtkYXNoU2l6ZSwgZGFzaFNwYWNpbmddKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2xlYXIgdGhlIGxpbmUgZGFzaGluZ1xyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBjbGVhckxpbmVEYXNoKCkge1xyXG4gICAgICAgIGRyYXdpbmdDb250ZXh0LnNldExpbmVEYXNoKFtdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhbiBlbGxpcHNlXHJcbiAgICAqIEBwYXJhbSB4IFggY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHJ4IFggZWxsaXBzZSByYWRpdXNcclxuICAgICogQHBhcmFtIHJ5IFkgZWxsaXBzZSByYWRpdXNcclxuICAgICogQHBhcmFtIGFicyBBcmUgcnggYW5kIHJ5IGluIHBpeGVscyAoZGVmYXVsdCBmYWxzZSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZWxsaXBzZSh4LCB5LCByeCwgcnksIGFicyA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcblxyXG4gICAgICAgIGlmKHJ5ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcnkgPSByeDtcclxuXHJcbiAgICAgICAgaWYoIWFicykge1xyXG4gICAgICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWihyeCwgcnksIDAsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgZWxsaXBzZSgwLCAwLCB2MS54ICogMiwgdjEueSAqIDIpO1xyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBlbGxpcHNlKHYwLngsIHYwLnksIHJ4LCByeSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgY2lyY2xlXHJcbiAgICAqIEBwYXJhbSB4IFggY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHIgQ2lyY2xlIHJhZGl1c1xyXG4gICAgKiBAcGFyYW0gYWJzIElzIHIgaW4gcGl4ZWxzIChkZWZhdWx0IGZhbHNlKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBjaXJjbGUoeCwgeSwgciwgYWJzID0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGxpcHNlKHgsIHksIHIsIHIsIGFicyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSByZWN0YW5nbGVcclxuICAgICogQHBhcmFtIHggWCBib3R0b20gbGVmdCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBib3R0b20gbGVmdCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHcgUmVjdGFuZ2xlIHdpZHRoXHJcbiAgICAqIEBwYXJhbSBoIFJlY3RhbmdsZSBoZWlnaHRcclxuICAgICogQHBhcmFtIGFicyBBcmUgdyBhbmQgaCBpbiBwaXhlbHMgKGRlZmF1bHQgZmFsc2UpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHJlY3QoeCwgeSwgdywgaCwgYWJzID0gZmFsc2UpIHtcclxuICAgICAgICBpZighYWJzKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iZWdpblNoYXBlKClcclxuICAgICAgICAgICAgICAgICAgICAudmVydGV4KHggKyB3LCB5KVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCArIHcsIHkgKyBoKVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCAgICAsIHkgKyBoKVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCAgICAsIHkpXHJcbiAgICAgICAgICAgICAgICAuZW5kU2hhcGUoQ0xPU0UpO1xyXG5cclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHJlY3Qodi54LCB2LnksIHcsIGgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhd3MgYSBjaXJjbGUgYXJjIHVzaW5nIHRyaWdvbm9tZXRyaWMgb3JkZXJcclxuICAgICogQHBhcmFtIHggWCBzaW11bGF0aW9uIGNlbnRlciBjb29yZFxyXG4gICAgKiBAcGFyYW0geSBZIHNpbXVsYXRpb24gY2VudGVyIGNvb3JkXHJcbiAgICAqIEBwYXJhbSBzdGFydCBTdGFydGluZyBhbmdsZSAoaW4gcmFkaWFucylcclxuICAgICogQHBhcmFtIHN0YXJ0IEVuZGluZyBhbmdsZSAoaW4gcmFkaWFucylcclxuICAgICovXHJcbiAgICBhcmMoeCwgeSwgdywgaCwgc3RhcnQsIHN0b3ApIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGFyYyh2MC54LCB2MC55LCB2MS54LCB2MS55LCAtc3RvcCwgLXN0YXJ0KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgc3Ryb2tlIGNvbG9yXHJcbiAgICAqIEBwYXJhbSByIFJlZCB2YWx1ZSAoMCB0byAyNTUpLCBvciAncmdiKHIsIGcsIGIpJyBvciAncmdiYShyLCBnLCBiLCBhKSdcclxuICAgICogQHBhcmFtIGcgR3JlZW4gdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYiBCbHVlIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHBhcmFtIGEgQWxwaGEgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzdHJva2UociwgZywgYiwgYSkge1xyXG4gICAgICAgIGlmKGEgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmKGIgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihnID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2Uocik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlKHIsIGcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHN0cm9rZShyLCBnLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBzdHJva2UoYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHN0cm9rZSB3ZWlnaHRcclxuICAgICogQHBhcmFtIG4gU3Ryb2tlIHdlaWdodCAoaW50ZWdlcilcclxuICAgICovXHJcbiAgICBzdHJva2VXZWlnaHQobikge1xyXG4gICAgICAgIHN0cm9rZVdlaWdodChuKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IGZpbGwgY29sb3JcclxuICAgICogQHBhcmFtIHIgUmVkIHZhbHVlICgwIHRvIDI1NSksIG9yICdyZ2IociwgZywgYiknIG9yICdyZ2JhKHIsIGcsIGIsIGEpJ1xyXG4gICAgKiBAcGFyYW0gZyBHcmVlbiB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBiIEJsdWUgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYSBBbHBoYSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGZpbGwociwgZywgYiwgYSkge1xyXG4gICAgICAgIGlmKGEgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmKGIgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihnID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBmaWxsKHIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGwociwgZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZmlsbChyLCBnLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBmaWxsKGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEJlZ2luIHNoYXBlIC1cclxuICAgICogRHJhdyBzaGFwZXMgdXNpbmcgdmVydGljZXMgKGJlZ2luU2hhcGUoKSB0aGVuIG11bHRpcGxlIHZlcnRleCh4LCB5KSB0aGVuIGNsb3NlU2hhcGUoKSlcclxuICAgICogQHBhcmFtIFRZUEUgU2hhcGUgVHlwZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBiZWdpblNoYXBlKFRZUEUpIHtcclxuICAgICAgICBiZWdpblNoYXBlKFRZUEUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBCZXppZXIgQ3VydmVcclxuICAgICogQHBhcmFtIHgxXHJcbiAgICAqIEBwYXJhbSB5MVxyXG4gICAgKiBAcGFyYW0geDJcclxuICAgICogQHBhcmFtIHkyXHJcbiAgICAqIEBwYXJhbSB4M1xyXG4gICAgKiBAcGFyYW0geTNcclxuICAgICogQHBhcmFtIHg0XHJcbiAgICAqIEBwYXJhbSB5NFxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBiZXppZXIoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0KSB7XHJcblx0XHRsZXQgcDEgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxKTtcclxuXHRcdGxldCBwMiA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4MiwgeTIpO1xyXG5cdFx0bGV0IHAzID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5jb21wdXRlRm9yWFlaKHgzLCB5Myk7XHJcblx0XHRsZXQgcDQgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDQsIHk0KTtcclxuICAgICAgICBiZXppZXIocDEueCwgcDEueSwgcDIueCwgcDIueSwgcDMueCwgcDMueSwgcDQueCwgcDQueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZSBkcmF3aW5nIGNvb3JkaW5hdGVzIHRvIHgseVxyXG4gICAgKiBAcGFyYW0gWCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIFkgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHZlcnRleCh4LCB5KSB7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICB2ZXJ0ZXgodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDbG9zZSBzaGFwZSAtXHJcbiAgICAqIERyYXcgc2hhcGVzIHVzaW5nIHZlcnRpY2VzIChiZWdpblNoYXBlKCkgdGhlbiBtdWx0aXBsZSB2ZXJ0ZXgoeCwgeSkgdGhlbiBjbG9zZVNoYXBlKCkpXHJcbiAgICAqIEBwYXJhbSBUWVBFIFNoYXBlIFR5cGUgKENMT1NFRCB0byBjbG9zZSBzaGFwZSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZW5kU2hhcGUoVFlQRSkge1xyXG4gICAgICAgIGVuZFNoYXBlKFRZUEUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFB1c2ggdmVydGljZXMgKHVzZSBwdXNoKCkgdGhlbiBwb3AoKSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcHVzaCgpIHtcclxuICAgICAgICB0aGlzLmVudGVyU3RhY2tMZXZlbCgpO1xyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUG9wIHZlcnRpY2VzICh1c2UgcHVzaCgpIHRoZW4gcG9wKCkpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHBvcCgpIHtcclxuICAgICAgICB0aGlzLmV4aXRTdGFja0xldmVsKCk7XHJcbiAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZSBkcmF3aW5nIGNvb3JkaW5hdGVzIGZyb20geCx5XHJcbiAgICAqIEBwYXJhbSBYIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gWSBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnB1c2hTdGFja09wZXJhdGlvbigndCcsIHt4LCB5fSwgMCwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZSBkcmF3aW5nIGNvb3JkaW5hdGVzXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBUaGUgcm90YXRpb24gYW5nbGUgaW4gcmFkaWFuc1xyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnB1c2hTdGFja09wZXJhdGlvbigncicsIHt4IDogMCwgeSA6IDB9LCBhbmdsZSwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNjYWxlcyB0aGUgbmV4dCBzaGFwZXMgdG8gYnkgZHJhd24gYnkgYSBmYWN0b3JcclxuICAgICogQHBhcmFtIGZhYyBUaGUgZmFjdG9yIG9mIHRoZSBzY2FsZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzY2FsZShmYWMpIHtcclxuICAgICAgICB0aGlzLnB1c2hTdGFja09wZXJhdGlvbigncycsIHt4IDogMCwgeSA6IDB9LCAwLCBmYWMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogUmVtb3ZlIHN0cm9rZSBvZiB0aGUgc2hhcGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbm9TdHJva2UoKSB7XHJcbiAgICAgICAgbm9TdHJva2UoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogTm8gZmlsbCB0aGUgc2hhcGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbm9GaWxsKCkge1xyXG4gICAgICAgIG5vRmlsbCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0RyYXdlcjtcclxuIiwiY2xhc3MgcFNBbmltYXRpb25IYW5kbGVyIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IGFic3RyYWN0IGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBMZW5ndGggb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBDdXN0b20gYW5pbWF0aW9uIGRhdGFzXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICB0aGlzLnNjYWxlVGltZSAgID0gMTtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IDA7XHJcbiAgICAgICAgdGhpcy5kYXRhcyAgICAgICA9IGRhdGFzO1xyXG4gICAgICAgIHRoaXMudGltZUxlbmd0aCAgPSB0aW1lTGVuZ3RoO1xyXG4gICAgICAgIHRoaXMubGFzdEtleSAgICAgPSB0aGlzLmdldEtleSh0aGlzLnVwZGF0ZSkgLyB0aGlzLnNjYWxlVGltZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogU3RhcnQgKG9yIHJlc3RhcnQpIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTdG9wIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBmIEN1cnJlbnQgZHJhd2luZyBhbmltYXRpb24gZnVuY3Rpb25cclxuICAgICogQHJldHVybiBmKGR0KVxyXG4gICAgKi9cclxuICAgIGdldEtleShmKSB7XHJcbiAgICAgICAgbGV0IGR0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDAgLSB0aGlzLmluaXRpYWxUO1xyXG5cclxuICAgICAgICBpZihkdCA+IHRoaXMudGltZUxlbmd0aClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluYWxEcmF3KHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RLZXkgPSBmKGR0LCB0aGlzKSAvIHRoaXMuc2NhbGVUaW1lO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0S2V5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBjdXJyZW50IHVwZGF0ZSBrZXkgKi9cclxuICAgIHVwZGF0ZUtleSgpIHsgcmV0dXJuIHRoaXMuZ2V0S2V5KHRoaXMudXBkYXRlKTsgfVxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGN1cnJlbnQgZHJhdyBrZXkgKi9cclxuICAgIGRyYXdLZXkgICgpIHsgcmV0dXJuIHRoaXMuZ2V0S2V5KHRoaXMuZHJhdyAgKTsgfVxyXG5cclxuICAgIC8qKiBVcGRhdGUgbG9vcCBmb3Igb3ZlcndyaXRpbmcgKi9cclxuICAgIHVwZGF0ZSgpIHt9XHJcbiAgICAvKiogRHJhdyBsb29wIGZvciBvdmVyd3JpdGluZyAqL1xyXG4gICAgZHJhdyAgKCkge31cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNBbmltYXRpb25IYW5kbGVyO1xyXG4iLCJpbXBvcnQgcFNBbmltYXRpb25IYW5kbGVyIGZyb20gJy4vcFNBbmltYXRpb25IYW5kbGVyJztcclxuXHJcbmNsYXNzIHBTSW50ZXJwb2xhdGlvbiBleHRlbmRzIHBTQW5pbWF0aW9uSGFuZGxlciB7XHJcbiAgICAvKipcclxuICAgICogSW50ZXJwb2xhdGlvbiBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBUaGUgZGF0YXMgdG8gYmUgaW50ZXJwb2xhdGVkICdbUG9pbnQxLCBQb2ludDIsIC4uLl0nXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICBzdXBlcih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaSA9IC0xO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNoYXBlID0gdGhpcy5uZXh0U2hhcGUoZGF0YXMpO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2FsRHQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTZXQgc2hhcGUgYmFzZWQgb24gYW5pbWF0aW9uIGFuZCBwb2ludHMgKi9cclxuICAgIG5leHRTaGFwZShwb2ludHMpIHtcclxuICAgICAgICB0aGlzLmkrKztcclxuXHJcbiAgICAgICAgbGV0IGogPSB0aGlzLmkgKyAxO1xyXG4gICAgICAgIGlmKGogPiBwb2ludHMubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgaiA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBbcG9pbnRzW3RoaXMuaV0sIHBvaW50c1tqXV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyB1cGRhdGUga2V5XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0LCB0aCkgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBkcmF3IGtleVxyXG4gICAgKi9cclxuICAgIGRyYXcoZHQsIHRoKSB7XHJcbiAgICAgICAgbGV0IGMgPSB0aC50aW1lTGVuZ3RoIC8gdGguZGF0YXMubGVuZ3RoO1xyXG4gICAgICAgIGlmKCEodGguY3VycmVudFNoYXBlWzBdID09IHVuZGVmaW5lZCB8fCB0aC5jdXJyZW50U2hhcGVbMV0gPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICBpZihkdCAtIHRoLmxvY2FsRHQgPj0gYykge1xyXG4gICAgICAgICAgICAgICAgdGguY3VycmVudFNoYXBlID0gdGgubmV4dFNoYXBlKHRoLmRhdGFzKTtcclxuICAgICAgICAgICAgICAgIHRoLmxvY2FsRHQgKz0gYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGguZHJhd0N1cnJlbnRTaGFwZShcclxuICAgICAgICAgICAgdGguZGF0YXMsXHJcbiAgICAgICAgICAgIChpLCBsdCwgdGksIGMpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwZXJjZW50ID0gMTtcclxuICAgICAgICAgICAgICAgIGlmKGkgPT0gdGkpXHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IGx0IC8gYztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwZXJjZW50O1xyXG4gICAgICAgICAgICB9LCB0aCwgdGguaSArIDEsIGR0IC0gdGgubG9jYWxEdCwgYyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIGZpbmFsIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqL1xyXG4gICAgZmluYWxEcmF3KHRoKSB7XHJcbiAgICAgICAgdGhpcy5kcmF3Q3VycmVudFNoYXBlKHRoaXMuZGF0YXMsICgpID0+IDEsIHRoaXMsIHRoaXMuZGF0YXMubGVuZ3RoLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBjdXJyZW50IHNoYXBlIG9uIHNjcmVlblxyXG4gICAgKiBAcGFyYW0gZCB0aGlzLmRhdGFzXHJcbiAgICAqIEBwYXJhbSBwZXJjZW50RnVuY3Rpb24gQ3VycmVudCBhbmltYXRpb24gZ2V0IHBlcmNlbnQgZnVuY3Rpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcGFyYW0gbWF4SSBNYXggcG9pbnRzIGNvdW50XHJcbiAgICAqIEBwYXJhbSBsdCBDdXJyZW50IHRpbWUgdmFsdWVcclxuICAgICogQHBhcmFtIGMgRmluYWwgdGltZSB2YWx1ZSAvIG1heCBwb2ludHMgY291bnRcclxuICAgICovXHJcbiAgICBkcmF3Q3VycmVudFNoYXBlKGQsIHBlcmNlbnRGdW5jdGlvbiwgdGgsIG1heEksIGx0LCBjKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhJOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSBwZXJjZW50RnVuY3Rpb24oaSwgbHQsIHRoLmksIGMpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG4gPSBpICsgMTtcclxuICAgICAgICAgICAgaWYobiA+PSBkLmxlbmd0aCkgbiA9IDA7XHJcblxyXG4gICAgICAgICAgICBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KDMpXHJcbiAgICAgICAgICAgICAgICAuc3Ryb2tlKDI1NSlcclxuICAgICAgICAgICAgICAgIC5saW5lKFxyXG4gICAgICAgICAgICAgICAgICAgIGRbaV0ucG9zLngsXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueSxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy54ICsgKGRbbl0ucG9zLnggLSBkW2ldLnBvcy54KSAqIHBlcmNlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueSArIChkW25dLnBvcy55IC0gZFtpXS5wb3MueSkgKiBwZXJjZW50XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNJbnRlcnBvbGF0aW9uO1xyXG4iLCJpbXBvcnQgcFNBbmltYXRpb25IYW5kbGVyIGZyb20gJy4vcFNBbmltYXRpb25IYW5kbGVyJztcclxuXHJcbmNsYXNzIHBTRWFzZUluT3V0Q3ViaWMgZXh0ZW5kcyBwU0FuaW1hdGlvbkhhbmRsZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIEVhc2UgaW4gYW5kIG91dCBjdWJpYyBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBNaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlcyAneyBtaW4gOiAwLCBtYXggOiAxIH0nXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICBzdXBlcih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZGF0YXMubWluID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5kYXRhcy5taW4gPSAwO1xyXG4gICAgICAgIGlmKHRoaXMuZGF0YXMubWF4ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5kYXRhcy5tYXggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gdGltZSBDdXJyZW50IHRpbWUgb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcga2V5XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKHRpbWUsIHRoKSB7XHJcbiAgICAgICAgbGV0IHQgPSB0aW1lIC8gdGgudGltZUxlbmd0aDtcclxuICAgICAgICBpZih0IDwgMC41KVxyXG4gICAgICAgICAgICByZXR1cm4gKDIgKiB0ICogdCkgKiAodGguZGF0YXMubWF4IC0gdGguZGF0YXMubWluKSArIHRoLmRhdGFzLm1pbjtcclxuICAgICAgICByZXR1cm4gKC0xICsgKDQgLSAyICogdCkgKiB0KSAqICh0aC5kYXRhcy5tYXggLSB0aC5kYXRhcy5taW4pICsgdGguZGF0YXMubWluO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gdGltZSBDdXJyZW50IHRpbWUgb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgZHJhdyBrZXlcclxuICAgICovXHJcbiAgICBkcmF3KGR0LCB0KSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgZmluYWwgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBmaW5hbERyYXcodGgpIHtcclxuICAgICAgICByZXR1cm4gdGguZGF0YXMubWF4O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0Vhc2VJbk91dEN1YmljO1xyXG4iLCJpbXBvcnQgcFNJbnRlcnBvbGF0aW9uICBmcm9tICcuL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uJztcclxuaW1wb3J0IHBTRWFzZUluT3V0Q3ViaWMgZnJvbSAnLi9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMnO1xyXG5cclxuY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gYW5pbWF0aW9uTmFtZSBOYW1lIG9mIHRoZSBhbmltYXRpb24gKCdlYXNlSW5PdXRDdWJpYycsICdpbnRlcnBvbGF0aW9uJylcclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggTGVuZ3RoIG9mIHRoZSBhbmltYXRpb24gaW4gc2Vjb25kcyAoZGVmYXVsdCA6IDEpXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBPcHRpb25hbCBwYXJhbWV0ZXIgKHNlZSBzcGVjaWZpYyBhbmltYXRpb24gZm9yIGFuaW1hdGlvbiBpbmZvcm1hdGlvbnMpXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIG5ldyhhbmltYXRpb25OYW1lLCB0aW1lTGVuZ3RoID0gMSwgZGF0YXMgPSB7fSkge1xyXG4gICAgICAgIGlmKCFhbmltYXRpb25OYW1lKVxyXG4gICAgICAgICAgICBhbmltYXRpb25OYW1lID0gJ2Vhc2VJbk91dEN1YmljJztcclxuXHJcbiAgICAgICAgc3dpdGNoIChhbmltYXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Vhc2VJbk91dEN1YmljJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgcFNFYXNlSW5PdXRDdWJpYyh0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2ludGVycG9sYXRpb24nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwU0ludGVycG9sYXRpb24odGltZUxlbmd0aCwgZGF0YXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQW5pbWF0aW9uO1xyXG4iLCJpbXBvcnQgJy4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcblxyXG5jbGFzcyBwU1Bsb3R0ZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBzaW11bGF0b3IgTWFpbiBFbmdpbmUgc2ltdWxhdG9yXHJcbiAgICAqIEBwYXJhbSBkcmF3ZXIgTWFpbiBFbmdpbmUgZHJhd2VyIGluc3RhbmNlXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc2ltdWxhdG9yLCBkcmF3ZXIpIHtcclxuICAgICAgICB0aGlzLnNpbXVsYXRvciA9IHNpbXVsYXRvcjtcclxuICAgICAgICB0aGlzLmRyYXdlciAgICA9IGRyYXdlcjtcclxuICAgICAgICB0aGlzLm9iamVjdHNMICA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdlci5wbG90dGVyID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVXBkYXRlIG1haW4gbG9vcFxyXG4gICAgKiBAcGFyYW0gZHQgRGVsdGEgdGltZSBzaW5jZSBsYXN0IHVwZGF0ZSAoaW4gc2Vjb25kcylcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB0aGlzLmRyYXdlci5jbGVhclN0YWNrKCk7IC8vIENsZWFycyBkcmF3ZXIgciwgdCwgcyBxdWV1ZVxyXG5cclxuICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgbGlnaHRzKCk7XHJcbiAgICAgICAgICAgIG9yYml0Q29udHJvbCg1LCA1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzTC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzTFtpXS51cGRhdGUoZHQsIHRoaXMub2JqZWN0c0wpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIERyYXcgbWFpbiBsb29wICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBwbENvbmYgPSB0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXI7XHJcbiAgICAgICAgbGV0IGJnICAgICA9IHBsQ29uZi5iYWNrZ3JvdW5kQ29sb3IuY29sb3I7XHJcblxyXG4gICAgICAgIGlmKHBsQ29uZi5iYWNrZ3JvdW5kQ29sb3IuZHJhdylcclxuICAgICAgICAgICAgYmFja2dyb3VuZChiZy5yLCBiZy5nLCBiZy5iKTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyBldmVyeSBvYmplY3QgdG8gdGhlIHNjcmVlblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzTC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzTFtpXS5kcmF3KHRoaXMuZHJhd2VyKTtcclxuXHJcblxyXG4gICAgICAgIC8vIERyYXcgdGhlIGdyaWRcclxuICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuZGlzcGxheUdyaWQpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zaW11bGF0b3IuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGUoMTAwLCAxMCwgMCwgMCwgMCwgMjAsIDAsIC00MCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UocGxDb25mLmdyaWRDb2xvci5yLCBwbENvbmYuZ3JpZENvbG9yLmcsIHBsQ29uZi5ncmlkQ29sb3IuYiwgcGxDb25mLmdyaWRDb2xvci5hKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMC41KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgeVMgPSBNYXRoLnJvdW5kKGhlaWdodCAvIHBsQ29uZi5zY2FsZS55IC8gMik7XHJcbiAgICAgICAgICAgICAgICBpZighcGxDb25mLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgICAgICB5UyA9IHBsQ29uZi5zY2FsZS55O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAtcGxDb25mLnNjYWxlLnggLSAxOyBpIDwgcGxDb25mLnNjYWxlLnggKyAxOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IC15UyAtIDE7IGogPCB5UyArIDE7IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIucmVjdChpICsgcGxDb25mLm9mZnNldC54LCBqICsgcGxDb25mLm9mZnNldC55LCAxLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UocGxDb25mLmdyaWRDb2xvci5yLCBwbENvbmYuZ3JpZENvbG9yLmcsIHBsQ29uZi5ncmlkQ29sb3IuYiwgcGxDb25mLmdyaWRDb2xvci5hICsgMC4zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMilcclxuICAgICAgICAgICAgICAgICAgICAubGluZSgtcGxDb25mLnNjYWxlLnggKyBwbENvbmYub2Zmc2V0LnggLSAxLCAwLCBwbENvbmYuc2NhbGUueCArIHBsQ29uZi5vZmZzZXQueCArIDEsIDApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZighcGxDb25mLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5saW5lKDAsIC1wbENvbmYuc2NhbGUueSAtIDEsIDAsIHBsQ29uZi5zY2FsZS55ICsgMSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIubGluZSgwLCAteVMgLSAxLCAwLCB5UyArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEpXHJcbiAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMC41KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDb21wdXRlIHRoZSBYIGFuZCBZIHBpeGVsIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBkcmF3aW5nIHBhcmFtZXRlcnNcclxuICAgICogQHBhcmFtIHhSZWwgWCByZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geVJlbCBZIHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB6UmVsIFogcmVsYXRpdmUgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHVzZU9mZnNldCBDYWxjdWxhdGUgd2l0aCBzaW11bGF0aW9uIG9mZnNldHMgKGRlZmF1bHQgOiB0cnVlKVxyXG4gICAgKiBAcmV0dXJuIHtYLCBZLCBafSBvYmplY3RcclxuICAgICovXHJcbiAgICBjb21wdXRlRm9yWFlaKHhSZWwsIHlSZWwsIHpSZWwsIHVzZU9mZnNldCA9IHRydWUpIHtcclxuICAgICAgICBsZXQgYyA9IHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuXHJcbiAgICAgICAgLy8gPT09IFB1c2goKSBhbmQgcG9wKCkgZWZmZWN0cyAob25seSBjdXJyZW50bHkgd29ya3MgaW4gMkQpID09PVxyXG4gICAgICAgIGlmKCFjLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuc2ltdWxhdG9yLnBsb3R0ZXIuZHJhd2VyLnN0YWNrO1xyXG4gICAgICAgICAgICBsZXQgY3Vyck1hdHJpeCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZWN1cnNlU3RhY2socywgbXVsdE1hdHJpeCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEocyBpbnN0YW5jZW9mIEFycmF5KSkgeyAvLyBGb3VuZCBvcGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyck1hdHJpeCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyTWF0cml4ID0gcy5tO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzLm0gKiBjdXJyTWF0cml4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJNYXRyaXggPSBtdWx0TWF0cml4KGN1cnJNYXRyaXgsIHMubSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHRyZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2VTdGFjayhzW2ldLCBtdWx0TWF0cml4KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVjdXJzZVN0YWNrKHN0YWNrLCB0aGlzLm11bHRNYXRyaXgpO1xyXG4gICAgICAgICAgICBsZXQgeFJlbFRtcCA9IHhSZWw7XHJcbiAgICAgICAgICAgIHhSZWwgPSB4UmVsICogY3Vyck1hdHJpeFswXVswXSArIHlSZWwgKiBjdXJyTWF0cml4WzBdWzFdICsgY3Vyck1hdHJpeFswXVsyXTtcclxuICAgICAgICAgICAgeVJlbCA9IHhSZWxUbXAgKiBjdXJyTWF0cml4WzFdWzBdICsgeVJlbCAqIGN1cnJNYXRyaXhbMV1bMV0gKyBjdXJyTWF0cml4WzFdWzJdO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vID09PSBDb21wdXRlcyBjb29yZGluYXRlcyBpbiBwaXhlbHMgPT09XHJcbiAgICAgICAgaWYoIXVzZU9mZnNldCAmJiAhYy5pc18zRCAmJiBjLnNxdWFyZUJ5WCkge1xyXG4gICAgICAgICAgICBsZXQgdjAgPSB0aGlzLmNvbXB1dGVGb3JYWVooMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIGxldCB2MSA9IHRoaXMuY29tcHV0ZUZvclhZWih4UmVsLCB5UmVsLCB6UmVsKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICAgICAgdjEueCAtIHYwLngsXHJcbiAgICAgICAgICAgICAgICB2MS55IC0gdjAueSxcclxuICAgICAgICAgICAgICAgIHYxLnogLSB2MC56XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFjLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgICAgICgoeFJlbCAtIGMub2Zmc2V0LngpIC8gYy5zY2FsZS54ICsgMSkgKiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgKCh4UmVsICsgYy5vZmZzZXQueikgLyBjLnNjYWxlLnogKyAxKSAqIHdpZHRoIC8gMlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYoIWMuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgdi55ID0gKCgteVJlbCArIGMub2Zmc2V0LnkpIC8gYy5zY2FsZS55ICsgMSkgKiBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB2LnkgPSAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLngpICAgICAqIHdpZHRoICAvIDIgKyBoZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyAzRFxyXG4gICAgICAgICAgICAvLyAzNjAgeCAzNjAgOiBncmlkIHNpemVcclxuICAgICAgICAgICAgbGV0IGZhYyA9IDE4MCAqIDAuMjg7XHJcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgICAgICgoIHhSZWwgKyBjLm9mZnNldC54KSAvIGMuc2NhbGUueCkgKiBmYWMsXHJcbiAgICAgICAgICAgICAgICAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLnkpICogZmFjLFxyXG4gICAgICAgICAgICAgICAgKCggelJlbCArIGMub2Zmc2V0LnopIC8gYy5zY2FsZS56KSAqIGZhY1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogQ29tcHV0ZSB0aGUgWCBhbmQgWSBwbG90IHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBwaXhlbCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geFJlbCBYIHBpeGVsIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5UmVsIFkgcGl4ZWwgcG9zaXRpb25cclxuICAgICogQHJldHVybiB7WCwgWX0gb2JqZWN0XHJcbiAgICAqL1xyXG4gICAgY29tcHV0ZUZvclhZRnJvbVBpeGVsKHgsIHkpIHtcclxuICAgICAgICBsZXQgYyA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IoKCh4ICogMikgLyB3aWR0aCAtIDEpICogYy5zY2FsZS54ICsgYy5vZmZzZXQueCk7XHJcblxyXG4gICAgICAgIGlmKGMuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICB2LnkgPSAtKCgoeSAqIDIpIC8gaGVpZ2h0IC0gMSkgICAgICAgICAgICogYy5zY2FsZS55IC0gYy5vZmZzZXQueSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB2LnkgPSAtKCgoKHkgLSAyICogaGVpZ2h0KSAqIDIpIC8gd2lkdGgpICogYy5zY2FsZS55IC0gYy5vZmZzZXQueSk7XHJcblxyXG4gICAgICAgIHJldHVybiB2O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybnMgYyA9IGEuYiAoc3VwcG9zZSB0aGF0IGEgYW5kIGIgYXJlIHRoZSBzYW1lIHNpemUpXHJcbiAgICBtdWx0TWF0cml4KGEsIGIpIHtcclxuICAgICAgICBsZXQgYyA9IFtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBiLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjW2ldW2pdID0gYVtpXVswXSpiWzBdW2pdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYVtpXVsxXSpiWzFdW2pdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYVtpXVsyXSpiWzJdW2pdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1Bsb3R0ZXI7XHJcbiIsImltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vLi4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5pbXBvcnQgcFNEcmF3ZXIgICBmcm9tICcuLy4uL2RyYXdlci9EcmF3ZXInO1xyXG5pbXBvcnQgcFMzRERyYXdlciBmcm9tICcuLy4uL2RyYXdlci8zRERyYXdlcic7XHJcbmltcG9ydCBwU1JlY29yZGVyIGZyb20gJy4vLi4vdXRpbGl0aWVzL1JlY29yZGVyJztcclxuXHJcbmNsYXNzIHBTaW11bGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgICAgICAgICA9IHt9O1xyXG4gICAgICAgIHRoaXMuYmVnaW5UaW1lICAgICAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubGFzdERyYXdUaW1lICAgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbmZpZy5lbmdpbmUgID0gdGhpcy5nZXREZWZhdWx0RW5naW5lQ29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5jb25maWcuY3VzdG9tICA9IHt9O1xyXG5cclxuICAgICAgICB3aW5kb3cuZ2V0Q3VzdG9tQ29uZmlnID0gdGhpcy5nZXRDdXN0b21Db25maWc7XHJcbiAgICAgICAgd2luZG93LmdldEVuZ2luZUNvbmZpZyA9IHRoaXMuZ2V0RW5naW5lQ29uZmlnO1xyXG5cclxuICAgICAgICB0aGlzLmR0TW95ICAgPSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLnJvbGxiYWNrQ29udHJvbC5taW5pbWFsVXBkYXRlRlBTO1xyXG4gICAgICAgIHRoaXMuZHRUb3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5kdENvdW50ID0gMDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqIEluc3RhbmNpYXRlIHRoZSBwU2ltdWxhdG9yICovXHJcbiAgICBpbnN0YW5jaWF0ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB3aW5kb3cucHJlUnVuU2ltdWxhdG9yKHRoaXMpOyAvLyBwcmVtYWluIGZ1bmN0aW9uXHJcbiAgICAgICAgfSBjYXRjaChlKSB7fSAvLyBub3QgZm91bmRcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVQNUluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYoIXRoaXMuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZXMoJ2FudGlhbGlhcycsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnBsb3R0ZXIgPSBuZXcgcFNQbG90dGVyKHRoaXMsIG5ldyBwU0RyYXdlcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnBsb3R0ZXIgPSBuZXcgcFNQbG90dGVyKHRoaXMsIG5ldyBwUzNERHJhd2VyKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnJlY29yZGVyID0gbmV3IHBTUmVjb3JkZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlGcm9tUGl4ZWwobW91c2VYLCBtb3VzZVkpO1xyXG5cclxuICAgICAgICB3aW5kb3cucnVuU2ltdWxhdG9yKHRoaXMpOyAvLyBtYWluIGZ1bmN0aW9uXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBwNSBpbnN0YW5jZSBhbmQgY3JlYXRlcyBsb29wcyBmb3IgdGhlIHNpbXVsYXRpb24gKi9cclxuICAgIGNyZWF0ZVA1SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLmdldENhbnZhc1Byb3BvcnRpb25zKHRoaXMuY29uZmlnLmVuZ2luZS53aW5kb3cucHJvcG9ydGlvbnMpO1xyXG5cclxuICAgICAgICBpZighdGhpcy5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHAudywgcC5oKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHAudywgcC5oLCBXRUJHTCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudCh0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmRpdklkKTtcclxuXHJcbiAgICAgICAgbGV0IHJ1ID0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lcjtcclxuICAgICAgICBpZihydS5VUERBVEVfRlBTID49IHJ1LkRSQVdfRlBTKSBmcmFtZVJhdGUocnUuVVBEQVRFX0ZQUyk7XHJcbiAgICAgICAgZWxzZSBjb25zb2xlLmVycm9yKCdUaGUgVXBkYXRlcyBGUFMgbXVzdCBiZSBzdXBlcmlvciBhcyB0aGUgRHJhd3MgRlBTLicpXHJcblxyXG5cclxuICAgICAgICAvLyBydW5zIGV2ZXJ5IHRpbWUgaXQncyBwb3NzaWJsZVxyXG4gICAgICAgIHdpbmRvdy5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzICAgICAgICAgICAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZTtcclxuICAgICAgICBcdGxldCBjdXJyZW50VGltZSAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIFx0bGV0IGR0ICAgICAgICAgICA9IChjdXJyZW50VGltZSAtIHMubGFzdFVwZGF0ZVRpbWUpIC8gMTAwMDtcclxuICAgICAgICAgICAgbGV0IGNyaXRpcUR0ICAgICA9IHMuZHRNb3kgKyBzLmR0TW95ICogcy5jb25maWcuZW5naW5lLnJ1bm5lci5yb2xsYmFja0NvbnRyb2wubWF4U3RhbmRhcmREZXZpYXRpb247XHJcblxyXG4gICAgICAgICAgICBzLm1vdXNlUG9zID0gcy5wbG90dGVyLmNvbXB1dGVGb3JYWUZyb21QaXhlbChtb3VzZVgsIG1vdXNlWSk7XHJcblxyXG4gICAgICAgICAgICBpZighcy5yZWNvcmRlci5ydW5uaW5nIHx8IChzLnJlY29yZGVyLnJ1bm5pbmcgJiYgIXMucmVjb3JkZXIuZnJhbWVCbG9ja2VyKSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZHQgPiBjcml0aXFEdClcclxuICAgICAgICAgICAgICAgICAgICBkdCA9IHMuZHRNb3k7XHJcbiAgICAgICAgICAgIFx0cy5sYXN0VXBkYXRlVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICBcdHMucGxvdHRlci51cGRhdGUoZHQgKiBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnNpbXVsYXRpb25TcGVlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHMucmVjb3JkZXIucnVubmluZyAmJiAhcy5yZWNvcmRlci5wYXVzZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgcy5yZWNvcmRlci5zbmFwc2hvdChkdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoY3VycmVudFRpbWUgLSBzLmxhc3REcmF3VGltZSA+PSAxIC8gcy5jb25maWcuZW5naW5lLnJ1bm5lci5EUkFXX0ZQUykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGR0IDw9IGNyaXRpcUR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRUb3RhbCArPSBkdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdENvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHMuZHRDb3VudCAlIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIucm9sbGJhY2tDb250cm9sLmF2ZXJhZ2VUaW1lU2FtcGxlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRNb3kgICA9IHMuZHRUb3RhbCAvIHMuZHRDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmR0Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzLnBsb3R0ZXIuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHMubGFzdERyYXdUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIElzIHJlY29yZGluZyBzY3JlZW4gaW4gYSBibG9ja2luZy10aW1lIHdheVxyXG4gICAgICAgICAgICAgICAgaWYocy5yZWNvcmRlci5wYXVzZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGR0ID0gMSAvIHMucmVjb3JkZXIudXBkYXRlRlBTO1xyXG4gICAgICAgICAgICAgICAgcy5yZWNvcmRlci5jdXJyZW50UmVsVCArPSBkdDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2hvdWxkU25hcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHMucmVjb3JkZXIuY3VycmVudFJlbFQgLSBzLnJlY29yZGVyLmxhc3REcmF3VGltZSA+PSAxIC8gcy5yZWNvcmRlci5kcmF3aW5nRlBTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHQgPSAxIC8gcy5yZWNvcmRlci5kcmF3aW5nRlBTO1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNuYXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBzLmxhc3RVcGRhdGVUaW1lID0gcy5yZWNvcmRlci5jdXJyZW50UmVsVDtcclxuICAgICAgICAgICAgICAgIHMucGxvdHRlci51cGRhdGUoZHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTbmFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5wbG90dGVyIC5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5yZWNvcmRlci5zbmFwc2hvdChkdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5yZWNvcmRlci5sYXN0RHJhd1RpbWUgPSBzLnJlY29yZGVyLmN1cnJlbnRSZWxUO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcnVucyBldmVyeSB0aW1lIHRoZSB3aW5kb3cgaXMgcmVzaXplZFxyXG4gICAgICAgIHdpbmRvdy53aW5kb3dSZXNpemVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKF9wU2ltdWxhdGlvbkluc3RhbmNlLnJlY29yZGVyLnJ1bm5pbmcgJiYgX3BTaW11bGF0aW9uSW5zdGFuY2UucmVjb3JkZXIuZnJhbWVCbG9ja2VyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IHAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRDYW52YXNQcm9wb3J0aW9ucyhfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLndpbmRvdy5wcm9wb3J0aW9ucyk7XHJcbiAgICAgICAgICAgIHJlc2l6ZUNhbnZhcyhwLncsIHAuaCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcnVuIGVhY2ggdGltZSBtb3VzZSBpcyBwcmVzc2VkXHJcbiAgICAgICAgd2luZG93Lm1vdXNlRHJhZ2dlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5ydW5uZXIubW92YWJsZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCBtb3VzZVBvcyA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZRnJvbVBpeGVsKG1vdXNlWCwgbW91c2VZKTtcclxuICAgICAgICAgICAgaWYoIV9wU2ltdWxhdGlvbkluc3RhbmNlLm1vdXNlUG9zLmVxdWFscyhtb3VzZVBvcykpIHtcclxuICAgICAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlci5vZmZzZXQueCAtPSBtb3VzZVBvcy54IC0gX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MueDtcclxuICAgICAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlci5vZmZzZXQueSAtPSBtb3VzZVBvcy55IC0gX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiogQHJldHVybiB7dywgaH0gcHJvcG9ydGlvbnMgb2YgdGhlIGNhbnZhcyBiYXNlZCBvbiB0aGUgcGFyYW1ldGVycyAqL1xyXG4gICAgZ2V0Q2FudmFzUHJvcG9ydGlvbnMoY1ApIHtcclxuICAgICAgICBsZXQgdywgaDtcclxuXHJcbiAgICAgICAgaWYoY1AuaXNSZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICB3ID0gd2luZG93V2lkdGggICogY1Aud2lkdGg7XHJcbiAgICAgICAgICAgIGggPSB3aW5kb3dIZWlnaHQgKiBjUC5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3ID0gY1Aud2lkdGggICsgXCJweFwiO1xyXG4gICAgICAgICAgICBoID0gY1AuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHt3LCBofTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGN1c3RvbU9iamVjdCB0aGUgT2JqZWN0IHRoYXQgaXMgZ29pbmcgdG8gYmUgc2ltdWxhdGVkIChjYW4gYmUgaW5zdGFuY2lhdGVkIG9yIG5vdClcclxuICAgICogQHBhcmFtIG51bWJlciBOdW1iZXIgb2Ygb2JqZWN0cyB0byBiZSBpbnN0YW5jaWF0ZWRcclxuICAgICogQHBhcmFtIHBhcmFtcyBUaGUgcGFyYW1ldGVycyBpbiB0aGUgZnVuY3Rpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgYWRkT2JqZWN0cyhjdXN0b21PYmplY3QsIG51bWJlciA9IDEsIC4uLnBhcmFtcykge1xyXG4gICAgICAgIGlmKGN1c3RvbU9iamVjdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb3B5UGFyYW1zVGVtcCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJhbXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW2pdIGluc3RhbmNlb2YgQXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcGFyYW1zW2pdWzBdICE9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbXNbal1bMV0gIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHBhcmFtc1tqXVsxXSBpbnN0YW5jZW9mIEZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgICAgIChwYXJhbXNbal1bMF0gPT0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5hZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMucnVuRnVuY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChwYXJhbXNbal1bMV0oLi4ucGFyYW1zW2pdLnNsaWNlKDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYocGFyYW1zW2pdWzBdID09IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXIuYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzLnJ1bkNsYXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChuZXcgcGFyYW1zW2pdWzFdKC4uLnBhcmFtc1tqXS5zbGljZSgyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlQYXJhbXNUZW1wLnB1c2gocGFyYW1zW2pdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucGxvdHRlci5vYmplY3RzTC5wdXNoKG5ldyBjdXN0b21PYmplY3QoLi4uY29weVBhcmFtc1RlbXApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGxvdHRlci5vYmplY3RzTC5wdXNoKGN1c3RvbU9iamVjdCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2YgdGhlIGVuZ2luZSAqL1xyXG4gICAgZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBydW5uZXIgOiB7XHJcbiAgICAgICAgICAgICAgICBkaXZJZCA6ICdzaW11bGF0aW9uQ29udGVudCcsXHJcbiAgICAgICAgICAgICAgICBVUERBVEVfRlBTIDogMTIwLFxyXG4gICAgICAgICAgICAgICAgRFJBV19GUFMgICA6IDYwLFxyXG4gICAgICAgICAgICAgICAgc2ltdWxhdGlvblNwZWVkIDogMSxcclxuICAgICAgICAgICAgICAgIGFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyA6IHsgIC8vIGtleXdvcmRzIGZvciB3aGVuIHdlIGFkZCBvYmplY3RzIGF0IHRoZSBzdGFydCBvZiB0aGUgZW5naW5lXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuRnVuY3Rpb25zIDogJ19SVU5fRicsIC8vIHJ1biBhIGZ1bmN0aW9uIHdpdGggICAgICAgWydfUlVOX0YnLCBmdW5jdGlvbk5hbWUsIHBhcmFtMSwgcGFyYW0yLCAuLi5dLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkNsYXNzICAgICA6ICdfUlVOX0MnICAvLyBpbnN0YW5jaWF0ZXMgYSBjbGFzcyB3aXRoIFsnX1JVTl9DJywgY2xhc3NOYW1lICAgLCBwYXJhbTEsIHBhcmFtMiwgLi4uXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJvbGxiYWNrQ29udHJvbCA6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhTdGFuZGFyZERldmlhdGlvbiA6IDAuOCwgIC8vIG1heGltdW0gdGljayBkZXZpYXRpb24gcGVyY2VudGFnZSBmb3IgdGhlIHNvZnR3YXJlIHRvIGNvbnNpZGVyIGFzIGEgcm9sbGJhY2sgKGluIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWVTYW1wbGUgICAgOiAyMCwgICAvLyBzYW1wbGUgc2l6ZSBmb3IgdGljayBhdmVyYWdlIChpbiBzZWNvbmRzKSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5pbWFsVXBkYXRlRlBTICAgICA6IDAuMTUgIC8vIG1pbmltYWwgdXBkYXRlIGZyYW1lc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzX21vdmFibGUgOiBmYWxzZSAvLyBjYW4gdGhlIGN1cnNvciBtb3ZlIG9uIHRoZSBzY3JlZW5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd2luZG93IDoge1xyXG4gICAgICAgICAgICAgICAgcHJvcG9ydGlvbnMgOiB7ICAvLyB3aW5kb3cgaGVpZ2h0IGFuZCB3aWR0aCBvbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBzaXplc1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVsYXRpdmUgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICA6IDAuOTksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IDogMC45OVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIFx0cGxvdHRlciA6IHtcclxuICAgICAgICBcdFx0c2NhbGUgOiB7ICAvLyBkaXNwbGF5cyB4IHJlbGF0aXZlIHVuaXRzIG9uIGVhY2ggc2lkZVxyXG4gICAgICAgIFx0XHRcdHggOiAxMCxcclxuICAgICAgICBcdFx0XHR5IDogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgeiA6IDEwXHJcbiAgICAgICAgXHRcdH0sXHJcbiAgICAgICAgXHRcdG9mZnNldCA6IHsgIC8vIHggYW5kIHkgcmVsYXRpdmUgb2Zmc2V0XHJcbiAgICAgICAgXHRcdFx0eCA6IDAsXHJcbiAgICAgICAgXHRcdFx0eSA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeiA6IDBcclxuICAgICAgICBcdFx0fSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA6IHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3IDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA6IHsgciA6IDAgLCBnIDogMCAsIGIgOiAwIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzcXVhcmVCeVggICAgICAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzXzNEICAgICAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbG9yICAgICAgIDogeyByIDogMjU1LCBnIDogMjU1LCBiIDogMjU1LCBhIDogMC4zIH0sXHJcbiAgICAgICAgXHRcdGRpc3BsYXlHcmlkICAgICA6IGZhbHNlICAvLyB0cnVlIDogZGlzcGxheSBncmFwaCBvbiB0aGUgc2NyZWVuXHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZ0Z1bmMgVGhlIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0UHJlRW5naW5lQ29uZmlnKGNvbmZpZ0Z1bmMpIHtcclxuICAgICAgICBjb25maWdGdW5jKHRoaXMuY29uZmlnLmVuZ2luZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjb25maWdGdW5jIFRoZSBmdW5jdGlvbiB0aGF0IG1vZGlmaWVzIGVuZ2luZSBjb25maWd1cmF0aW9uXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldEVuZ2luZUNvbmZpZyhjb25maWdGdW5jKSB7XHJcbiAgICAgICAgY29uZmlnRnVuYyh0aGlzLmNvbmZpZy5lbmdpbmUpO1xyXG4gICAgICAgIHdpbmRvdy53aW5kb3dSZXNpemVkKCk7IC8vIGlmIHByb3BvcnRpb25zIGNoYW5nZWRcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZyBUaGUgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBjdXN0b20gY29uZmlndXJhdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRDdXN0b21Db25maWcoY29uZmlnRnVuYykge1xyXG4gICAgICAgIGNvbmZpZ0Z1bmModGhpcy5jb25maWcuY3VzdG9tKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHJldHVybiB0aGUgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICovXHJcbiAgICBnZXRFbmdpbmVDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJuIHRoZSBjdXN0b20gY29uZmlndXJhdGlvblxyXG4gICAgKi9cclxuICAgIGdldEN1c3RvbUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5jdXN0b207XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFBTRW5naW5lVmFyKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQFRPRE9cclxuICAgICAgICAqL1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU2ltdWxhdG9yO1xyXG4iLCJpbXBvcnQgcFNEcmF3ZXIgZnJvbSAnLi9EcmF3ZXInO1xyXG5cclxuY2xhc3MgcFMzRERyYXdlciB7XHJcbiAgICAvKiogQ29uc3RydWN0IHRoZSBtYWluIHBTM0RFbmdpbmUgZHJhd2VyICovXHJcbiAgICBjb25zdHJ1Y3RvcihwbG90dGVyKSB7XHJcbiAgICAgICAgdGhpcy5wbG90dGVyICA9IG51bGw7IC8vIHNldCB3aGVuIGxvYWRlZCBpbiB0aGUgUGxvdHRlciBjbGFzc1xyXG4gICAgICAgIHRoaXMuZHJhd2VyMkQgPSBuZXcgcFNEcmF3ZXIocGxvdHRlcik7XHJcblxyXG4gICAgICAgIHRoaXMuc3Ryb2tlICAgICAgID0gdGhpcy5kcmF3ZXIyRC5zdHJva2U7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXZWlnaHQgPSB0aGlzLmRyYXdlcjJELnN0cm9rZVdlaWdodDtcclxuICAgICAgICB0aGlzLmZpbGwgICAgICAgICA9IHRoaXMuZHJhd2VyMkQuZmlsbDtcclxuICAgICAgICB0aGlzLmJlZ2luU2hhcGUgICA9IHRoaXMuZHJhd2VyMkQuYmVnaW5TaGFwZTtcclxuICAgICAgICB0aGlzLmVuZFNoYXBlICAgICA9IHRoaXMuZHJhd2VyMkQuZW5kU2hhcGU7XHJcbiAgICAgICAgdGhpcy52ZXJ0ZXggICAgICAgPSB0aGlzLmRyYXdlcjJELnZlcnRleDtcclxuICAgICAgICB0aGlzLnBvcCAgICAgICAgICA9IHRoaXMuZHJhd2VyMkQucG9wO1xyXG4gICAgICAgIHRoaXMucHVzaCAgICAgICAgID0gdGhpcy5kcmF3ZXIyRC5wdXNoO1xyXG4gICAgICAgIHRoaXMubm9TdHJva2UgICAgID0gdGhpcy5kcmF3ZXIyRC5ub1N0cm9rZTtcclxuICAgICAgICB0aGlzLm5vRmlsbCAgICAgICA9IHRoaXMuZHJhd2VyMkQubm9GaWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbmUoeDAsIHkwLCB6MCwgeDEsIHkxLCB6MSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgwLCB5MCwgejApO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgxLCB5MSwgejEpO1xyXG5cclxuICAgICAgICBiZWdpblNoYXBlKCk7XHJcbiAgICAgICAgICAgIHZlcnRleCh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgdmVydGV4KHYxLngsIHYxLnksIHYxLnopO1xyXG4gICAgICAgIGVuZFNoYXBlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNwaGVyZSh4LCB5LCB6LCByKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSwgeik7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgMCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICBzcGhlcmUodjEueCk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmUoeCwgeSwgeiwgciwgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHIsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgY29uZSh2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYm94KHgsIHksIHosIHcsIGgpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIGJveCh2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY3lsaW5kZXIoeCwgeSwgeiwgciwgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHIsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgY3lsaW5kZXIodjEueCwgdjEueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYW5lKHgsIHksIHosIHcsIGgpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIHBsYW5lKHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICBzY2FsZShzKSB7XHJcbiAgICAgICAgc2NhbGUocyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kZWwobSwgbm0pIHtcclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHNjYWxlKC0xKTtcclxuICAgICAgICAgICAgaWYgKG5tKVxyXG4gICAgICAgICAgICAgICAgbm9ybWFsTWF0ZXJpYWwoKTtcclxuICAgICAgICAgICAgbW9kZWwobSk7XHJcbiAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKHgsIHksIHopIHtcclxuICAgICAgICB0cmFuc2Zvcm0oeCwgeSwgeik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTM0REcmF3ZXI7XHJcbiIsImNsYXNzIHBTUmVjb3JkZXIge1xyXG4gICAgLyoqIEF1dG9tYXRpY2FsbHkgY2FsbGVkIEBzZWUgdGhlIGluc3RhbmNlIGF0IF9wU2ltdWxhdGlvbkluc3RhbmNlLnJlY29yZGVyICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5hbWUgICAgICAgICAgICAgPSAnQ2FudmFzLVJlY29yZGVyJztcclxuICAgICAgICB0aGlzLmlkICAgICAgICAgICAgICAgPSAwO1xyXG4gICAgICAgIHRoaXMucGl4ZWxEYXRhcyAgICAgICA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwKDYwLCAxMjAsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBdXRvbWF0aWNhbGx5IGNhbGxlZFxyXG4gICAgKiBAcGFyYW0gZHJhd2luZ0ZQUyBGUFMgb2YgdGhlIGZpbmFsIHZpZGVvXHJcbiAgICAqIEBwYXJhbSB3aWR0aCBXaWR0aCBvZiB0aGUgdmlkZW9cclxuICAgICogQHBhcmFtIGhlaWdodCBIZWlnaHQgb2YgdGhlIHZpZGVvXHJcbiAgICAqIEBwYXJhbSB1cGRhdGVGUFMgIEZQUyBmb3IgZXZlcnkgY2FsY3VsYXRpb25zIGRvbmUgb24gdGhlIHVwZGF0ZSgpIGxvb3BcclxuICAgICogQHBhcmFtIGZyYW1lQmxvY2tlciB0cnVlIGJ5IGRlZmF1bHQgOiB3aWxsIG1ha2Ugc3VyZSB2aWRlbyBpcyByZWFsbHkgdHVybmluZyBhdCBkcmF3aW5nRlBTXHJcbiAgICAqL1xyXG4gICAgc2V0dXAoZHJhd2luZ0ZQUywgd2lkdGgsIGhlaWdodCwgdXBkYXRlRlBTLCBmcmFtZUJsb2NrZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoICAgICAgICA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ICAgICAgID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucGl4ZWxEZW5zaXR5ID0gcGl4ZWxEZW5zaXR5O1xyXG4gICAgICAgIHRoaXMuZnJhbWVCbG9ja2VyID0gZnJhbWVCbG9ja2VyO1xyXG4gICAgICAgIHRoaXMuZHJhd2luZ0ZQUyAgID0gZHJhd2luZ0ZQUztcclxuICAgICAgICB0aGlzLnVwZGF0ZUZQUyAgICA9IHVwZGF0ZUZQUztcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgICAgICA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlICAgID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UmVsVCAgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdERyYXdUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3RhcnQgYSBuZXcgcmVjb3JkaW5nIHNlc3Npb25cclxuICAgICogQHBhcmFtIGRyYXdpbmdGUFMgRlBTIG9mIHRoZSBmaW5hbCB2aWRlbyAoZGVmYXVsdCA2MClcclxuICAgICogQHBhcmFtIHdpZHRoIFdpZHRoIG9mIHRoZSB2aWRlbyAoZGVmYXVsdCAxOTIwKVxyXG4gICAgKiBAcGFyYW0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdmlkZW8gKGRlZmF1bHQgMTA4MClcclxuICAgICogQHBhcmFtIHVwZGF0ZUZQUyAgRlBTIGZvciBldmVyeSBjYWxjdWxhdGlvbnMgZG9uZSBvbiB0aGUgdXBkYXRlKCkgbG9vcCAoZGVmYXVsdCAxMjApXHJcbiAgICAqIEBwYXJhbSBmcmFtZUJsb2NrZXIgd2lsbCBtYWtlIHN1cmUgdmlkZW8gaXMgcmVhbGx5IHR1cm5pbmcgYXQgZHJhd2luZ0ZQUyAoZGVmYXVsdCB0cnVlKVxyXG4gICAgKiBAcGFyYW0gY2xlYXJQaXhlbEFycmF5IHdpbGwgY2xlYXIgdGhlIGxhc3QgZGF0YXMgb2YgcHJldmlvdXMgcmVjb3JkaW5nIHNlc3Npb24gKGRlZmF1bHQgdHJ1ZSlcclxuICAgICovXHJcbiAgICBzdGFydChkcmF3aW5nRlBTID0gNjAsIHdpZHRoID0gMTkyMCwgaGVpZ2h0ID0gMTA4MCwgdXBkYXRlRlBTID0gMTIwLCBmcmFtZUJsb2NrZXIgPSB0cnVlLCBjbGVhclBpeGVsQXJyYXkgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5zZXR1cChkcmF3aW5nRlBTLCB3aWR0aCwgaGVpZ2h0LCB1cGRhdGVGUFMsIGZyYW1lQmxvY2tlcik7XHJcblxyXG4gICAgICAgIGlmIChjbGVhclBpeGVsQXJyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5waXhlbERhdGFzICAgICAgID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmlkKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCwgY2F1c2UgOiAnc3RhcnQnIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHJlc2l6ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQXV0b21hdGljYWxseSBjYWxsZWQgOiB0YWtlcyBhIHNuYXAgb2YgdGhlIGN1cnJlbnQgZGlzcGxheWVkIGltYWdlXHJcbiAgICAqIEBwYXJhbSBkdCBEdCBvZiB0aGUgcmVsYXRpdmUgdmlkZW8gdGltZVxyXG4gICAgKi9cclxuICAgIHNuYXBzaG90KGR0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcgfHwgdGhpcy5wYXVzZU1vZGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbG9hZFBpeGVscygpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZnJhbWVCbG9ja2VyKVxyXG4gICAgICAgICAgICB0aGlzLnBpeGVsRGF0YXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aW1lICAgIDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgIGR0ICAgICAgOiBkdCxcclxuICAgICAgICAgICAgICAgIGRhdGFVUkwgOiBjYW52YXMudG9EYXRhVVJMKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnBpeGVsRGF0YXMucHVzaChjYW52YXMudG9EYXRhVVJMKCkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogU3RvcCB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvblxyXG4gICAgKiBAcGFyYW0gZG93bmxvYWREYXRhcyAgIFN0YXJ0cyBhbiBhdXRvIGRvd25sb2FkIG9mIHRoZSBzZXNzaW9uIGRhdGFzIChkZWZhdWx0IHRydWUpXHJcbiAgICAqIEBwYXJhbSBjbGVhclBpeGVsQXJyYXkgV2lsbCBjbGVhciB0aGUgbGFzdCBkYXRhcyBvZiBwcmV2aW91cyByZWNvcmRpbmcgc2Vzc2lvbiBmb3IgbWVtb3J5IG9wdGltaXphdGlvbiAoZGVmYXVsdCB0cnVlKVxyXG4gICAgKi9cclxuICAgIHN0b3AoZG93bmxvYWREYXRhcyA9IHRydWUsIGNsZWFyUGl4ZWxBcnJheSA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzLnB1c2goeyB0IDogRGF0ZS5ub3coKSAvIDEwMDAgLSB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbMF0udCwgY2F1c2UgOiAnc3RvcCcgfSk7XHJcblxyXG4gICAgICAgIGlmIChkb3dubG9hZERhdGFzKVxyXG4gICAgICAgICAgICBzYXZlSlNPTih0aGlzLmdldERhdGFzVG9KU09OKCksIHRoaXMubmFtZSArICctJyArIHRoaXMuaWQgKyAnLmpzb24nKTtcclxuICAgICAgICBpZiAoY2xlYXJQaXhlbEFycmF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGl4ZWxEYXRhcyAgICAgICA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpbmRvd1Jlc2l6ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogUGF1c2UgdGhlIGN1cnJlbnQgcmVjb3JkaW5nIHNlc3Npb24gKi9cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCAtIHRoaXMucmVnaXN0ZXJpbmdUaW1lc1swXS50LCBjYXVzZSA6ICdwYXVzZScgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVzdW1lcyB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvbiAqL1xyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzLnB1c2goeyB0IDogRGF0ZS5ub3coKSAvIDEwMDAgLSB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbMF0udCwgY2F1c2UgOiAncmVzdW1lJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgZGF0YXMgSlNPTiBmb3JtYXR0ZWQgdG8gYmUgZXhwb3J0ZWQgdG8gYSBKU09OIGZpbGUgKi9cclxuICAgIGdldERhdGFzVG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICA6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgICAgICAgOiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHBpeGVsRGVuc2l0eSA6IHRoaXMucGl4ZWxEZW5zaXR5LFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgc2V0IHRvICd2YXJpYWJsZScsIHBpeGVsRGF0YXMgaW5jbHVkZXMgY3VycmVudCBUaW1lIGFuZCBEZWx0YVRpbWUgZHQgaW4gZXZlcnkgaXRlbVxyXG4gICAgICAgICAgICAgICAgZHJhd0ZyYW1lQ291bnQgICA6IHRoaXMuZnJhbWVCbG9ja2VyID8gdGhpcy5kcmF3aW5nRlBTIDogJ3ZhcmlhYmxlJyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZyYW1lQ291bnQgOiB0aGlzLmZyYW1lQmxvY2tlciA/IHRoaXMudXBkYXRlRlBTICA6ICd2YXJpYWJsZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YXMgOiB7XHJcbiAgICAgICAgICAgICAgICB0aW1lcyA6IHtcclxuICAgICAgICAgICAgICAgICAgICByZWFsVGltZUxlbmd0aCAgOiB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbdGhpcy5yZWdpc3RlcmluZ1RpbWVzLmxlbmd0aCAtIDFdLnQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9UaW1lTGVuZ3RoIDogdGhpcy5mcmFtZUJsb2NrZXIgPyAxL3RoaXMuZHJhd2luZ0ZQUyAqIHRoaXMucGl4ZWxEYXRhcy5sZW5ndGggOiAndmFyaWFibGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVPcGVyYXRpb25zICA6IHRoaXMucmVnaXN0ZXJpbmdUaW1lc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBpeGVscyA6IHtcclxuICAgICAgICAgICAgICAgICAgICBwaXhlbERhdGFzU2l6ZSA6IHRoaXMucGl4ZWxEYXRhcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxEYXRhcyAgICAgOiB0aGlzLnBpeGVsRGF0YXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTUmVjb3JkZXI7XHJcbiIsImltcG9ydCAnLi8uLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuaW1wb3J0ICcuLy4uL0FuaW1hdGlvbic7XHJcbmltcG9ydCAnLi9UZXh0JztcclxuXHJcblxyXG5jbGFzcyBwU1BvaW50IHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFBvaW50XHJcbiAgICAqIEBwYXJhbSB4IFggcG9pbnQgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHkgWSBwb2ludCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0gY29sb3IgZHJhd2luZyBjb2xvciBvZiB0aGUgcG9pbnRcclxuICAgICogQHBhcmFtIHBvaW50TmFtZSBuYW1lIG9mIHRoZSBwb2ludCAoaW4gTGFUZVgpXHJcbiAgICAqIEBwYXJhbSBwb2ludFNpemUgU2l6ZSBvZiB0aGUgcG9pbnQgKGRlZmF1bHQgNilcclxuICAgICogQHBhcmFtIHZlY3Rvck5hbWUgTmFtZSBvZiB0aGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBkcmF3T3JpZ2luVmVjdG9yIHRydWUgOiBkcmF3IHRoZSB2ZWN0b3IgZnJvbSB0aGUgb3JpZ2luIHRvIHRoaXMgcG9pbnRcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBjb2xvciA9ICd3aGl0ZScsIHBvaW50TmFtZSwgcG9pbnRTaXplID0gNiwgdmVjdG9yTmFtZSwgZHJhd09yaWdpblZlY3RvciA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IoeCwgeSwgY29sb3IsIHZlY3Rvck5hbWUpO1xyXG5cclxuICAgICAgICBpZihwb2ludE5hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZSA9IG5ldyBwU1RleHQocG9pbnROYW1lLCB0aGlzLnBvcywgMTgsIGNvbG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3T3JpZ2luVmVjdG9yID0gZHJhd09yaWdpblZlY3RvcjtcclxuICAgICAgICB0aGlzLnBvaW50U2l6ZSAgICAgICAgPSBwb2ludFNpemU7XHJcbiAgICAgICAgdGhpcy5wb2ludFNpemVEcmF3aW5nID0gcG9pbnRTaXplO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRQYWRkaW5nID0gMC40O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVcGRhdGVzIHRoZSBwb2ludFxyXG4gICAgKiBAcGFyYW0gZHQgRGVsdGEgdGltZSBzaW5jZSBsYXN0IHVwZGF0ZVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZShkdCkgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIHBvaW50IHRvIHRoZSBzY3JlZW5cclxuICAgICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuXHJcbiAgICAgICAgLy8gUE9JTlQgTE9DQVRJT05cclxuICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgLmZpbGwocGFyc2VJbnQodGhpcy5wb3MuY29sb3JbMF0gKiAwLjQpLCBwYXJzZUludCh0aGlzLnBvcy5jb2xvclsxXSAqIDAuNCksIHBhcnNlSW50KHRoaXMucG9zLmNvbG9yWzJdICogMC40KSlcclxuICAgICAgICAgICAgLm5vU3Ryb2tlKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgICAgIC5zdHJva2UodGhpcy5wb3MuY29sb3IpXHJcbiAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMS4xKVxyXG4gICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgO1xyXG5cclxuICAgICAgICAvLyBPUklHSU4gVkVDVE9SXHJcbiAgICAgICAgaWYodGhpcy5wb3MubmFtZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5kcmF3T3JpZ2luVmVjdG9yKVxyXG4gICAgICAgICAgICB0aGlzLnBvcy5kcmF3KCk7XHJcblxyXG4gICAgICAgIC8vIFBPSU5UIE5BTUVcclxuICAgICAgICBpZih0aGlzLnBvaW50TmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIHRoaXMudGV4dFBhZGRpbmcpO1xyXG4gICAgICAgIGlmKHRoaXMucG9zLm5hbWUgIT0gdW5kZWZpbmVkICYmIHRoaXMuZHJhd09yaWdpblZlY3RvciAmJiB0aGlzLnBvcy55IDwgMClcclxuICAgICAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIC10aGlzLnRleHRQYWRkaW5nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUuZHJhdyhkcmF3ZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1BvaW50O1xyXG4iLCJpbXBvcnQgJy4vLi4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcbmltcG9ydCAnLi8uLi9BbmltYXRpb24nO1xyXG5pbXBvcnQgJy4vVGV4dCc7XHJcblxyXG5jbGFzcyBwU1RyaWFuZ2xlIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBwMCBWZWN0b3IgdG8gdGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZVxyXG4gICAgKiBAcGFyYW0gcDEgVmVjdG9yIHRvIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIHAyIFZlY3RvciB0byB0aGUgdGhpcmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIGZpbGxDb2xvciBUaGUgdHJpYW5nbGUgZmlsbCBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlQ29sb3IgVGhlIHRyaWFuZ2xlIHN0cm9rZSBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFRoZSB0cmlhbmdsZSBzdHJva2VXZWlnaHQgKGRlZmF1bHQgMSlcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwMCwgcDEgPSBuZXcgVmVjdG9yKCksIHAyID0gbmV3IFZlY3RvcigpLCBmaWxsQ29sb3IgPSAnd2hpdGUnLCBzdHJva2VDb2xvciA9ICdub25lJywgc3Ryb2tlV2VpZ2h0ID0gMSkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMocDAsIHAxLCBwMik7XHJcblxyXG4gICAgICAgIC8vIENvbG9yc1xyXG4gICAgICAgIHRoaXMuZmlsbENvbG9yICAgID0gZmlsbENvbG9yO1xyXG4gICAgICAgIHRoaXMuc3Ryb2tlQ29sb3IgID0gc3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXZWlnaHQgPSBzdHJva2VXZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gcDAgVmVjdG9yIHRvIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgdHJpYW5nbGVcclxuICAgICogQHBhcmFtIHAxIFZlY3RvciB0byB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSB0cmlhbmdsZSAoZGVmYXVsdCBsYXN0IHBvaW50KVxyXG4gICAgKiBAcGFyYW0gcDIgVmVjdG9yIHRvIHRoZSB0aGlyZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgbGFzdCBwb2ludClcclxuICAgICovXHJcbiAgICBzZXRDb29yZGluYXRlcyhwMCwgcDEsIHAyKSB7XHJcbiAgICAgICAgdGhpcy5wMCA9IHAwIHx8IG5ldyBWZWN0b3IocDAueCwgcDAueSk7XHJcbiAgICAgICAgdGhpcy5wMSA9IHAxID09IHVuZGVmaW5lZCA/IHRoaXMucDEgOiBuZXcgVmVjdG9yKHAxLngsIHAxLnkpO1xyXG4gICAgICAgIHRoaXMucDIgPSBwMiA9PSB1bmRlZmluZWQgPyB0aGlzLnAyIDogbmV3IFZlY3RvcihwMi54LCBwMi55KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIGJhcnljZW50ZXIsIG9yIGNlbnRlciBvZiBtYXNzLiBUaGlzIGlzIHRoZVxyXG4gICAgICAgIC8vIHBvaW50IGFyb3VuZCB3aGljaCB0aGUgdHJpYW5nbGUgd2lsbCByb3RhdGUuXHJcbiAgICAgICAgdGhpcy5wRyA9IFZlY3Rvci5kaXYoVmVjdG9yLmFkZChWZWN0b3IuYWRkKHRoaXMucDAsIHRoaXMucDEpLCB0aGlzLnAyKSwgMyk7XHJcblxyXG4gICAgICAgIC8vIFRoZSB2ZWN0b3JzIHBvaW50aW5nIGZyb20gdGhlIGJhcnljZW50ZXIgdG8gUDAsIFAxXHJcbiAgICAgICAgLy8gYW5kIFAyLiBUaGV5IGFyZSB1c2VmdWwgd2hlbiByb3RhdGluZyB0aGUgdHJpYW5nbGUuXHJcbiAgICAgICAgdGhpcy52MCA9IFZlY3Rvci5zdWIodGhpcy5wMCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MSA9IFZlY3Rvci5zdWIodGhpcy5wMSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MiA9IFZlY3Rvci5zdWIodGhpcy5wMiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGVzIHRoZSB0cmlhbmdsZSBieSB0aGUgc3BlY2lmaWVkIGFuZ2xlLCBhcm91bmRcclxuICAgICogaXRzIGNlbnRlciBvZiBtYXNzLlxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW5nbGUgb2Ygcm90YXRpb25cclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnYwLnJvdGF0ZShhbmdsZSk7XHJcbiAgICAgICAgdGhpcy52MS5yb3RhdGUoYW5nbGUpO1xyXG4gICAgICAgIHRoaXMudjIucm90YXRlKGFuZ2xlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wMCA9IFZlY3Rvci5hZGQodGhpcy52MCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMSA9IFZlY3Rvci5hZGQodGhpcy52MSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMiA9IFZlY3Rvci5hZGQodGhpcy52MiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUcmFuc2xhdGVzIHRoZSB0cmlhbmdsZSBmcm9tIGl0cyBiYXJ5Y2VudGVyIGJ5IHRoZVxyXG4gICAgKiBzcGVjaWZpZWQgZGlzdGFuY2UgaW4gWCBhbmQgWS5cclxuICAgICogQHBhcmFtIHggVGhlIGRpc3RhbmNlIG9uIHRoZSBYIGF4aXMuXHJcbiAgICAqIEBwYXJhbSB5IFRoZSBkaXN0YW5jZSBvbiB0aGUgWSBheGlzLlxyXG4gICAgKi9cclxuICAgIHRyYW5zbGF0ZSh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhcclxuICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQodGhpcy5wMCwgbmV3IFZlY3Rvcih4LCB5KSksXHJcbiAgICAgICAgICAgICAgICBWZWN0b3IuYWRkKHRoaXMucDEsIG5ldyBWZWN0b3IoeCwgeSkpLFxyXG4gICAgICAgICAgICAgICAgVmVjdG9yLmFkZCh0aGlzLnAyLCBuZXcgVmVjdG9yKHgsIHkpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZXMgdGhlIHRyaWFuZ2xlIGZyb20gaXRzIGJhcnljZW50ZXIgYnlcclxuICAgICogdGhlIHNwZWNpZmllZCB2ZWN0b3IuXHJcbiAgICAqIEBwYXJhbSB2IFRoZSB2ZWN0b3IgdG8gdHJhbnNsYXRlIHRoZSB0cmlhbmdsZS5cclxuICAgICovXHJcbiAgICB0cmFuc2xhdGUodikge1xyXG4gICAgICAgIHRoaXMudHJhbnNsYXRlKHYueCwgdi55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFVwZGF0ZXMgdGhlIHRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0KSB7fVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhd3MgdGhlIHRyaWFuZ2xlIG9uIHRoZSBzY3JlZW4uXHJcbiAgICAqL1xyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBsZXQgZCA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICBpZih0aGlzLmZpbGxDb2xvciA9PSAnbm9uZScpXHJcbiAgICAgICAgICAgIGQubm9GaWxsKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkLmZpbGwodGhpcy5maWxsQ29sb3IpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnN0cm9rZUNvbG9yID09ICdub25lJylcclxuICAgICAgICAgICAgZC5ub1N0cm9rZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZC5zdHJva2UodGhpcy5zdHJva2VDb2xvcikuc3Ryb2tlV2VpZ2h0KHRoaXMuc3Ryb2tlV2VpZ2h0KTtcclxuXHJcbiAgICAgICAgZC5wdXNoKClcclxuICAgICAgICAgICAgLmJlZ2luU2hhcGUoKVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgICAgIC52ZXJ0ZXgodGhpcy5wMS54LCB0aGlzLnAxLnkpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDIueCwgdGhpcy5wMi55KVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgLmVuZFNoYXBlKClcclxuICAgICAgICAucG9wKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTVHJpYW5nbGU7XHJcbiIsIi8vID09PT09PT09PT0gUFNFTkdJTkUgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBDb3JlID09PT1cclxuaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9jb3JlL1NpbXVsYXRvcic7XHJcblxyXG4vLyA9PT09IERyYXdlciA9PT09XHJcbi8vIE9iamVjdHNcclxuaW1wb3J0IHBTUG9pbnQgICAgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9Qb2ludCc7XHJcbmltcG9ydCBwU1RleHQgICAgIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcbmltcG9ydCBwU1RyaWFuZ2xlIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVHJpYW5nbGUnO1xyXG5cclxuLy8gUm9vdFxyXG5pbXBvcnQgQW5pbWF0aW9uICBmcm9tICcuL2RyYXdlci9BbmltYXRpb24nO1xyXG5pbXBvcnQgcFNEcmF3ZXIgICBmcm9tICcuL2RyYXdlci9EcmF3ZXInO1xyXG5pbXBvcnQgcFMzRERyYXdlciBmcm9tICcuL2RyYXdlci8zRERyYXdlcic7XHJcbmltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5pbXBvcnQgVmVjdG9yICAgICBmcm9tICcuL3V0aWxpdGllcy9WZWN0b3InO1xyXG5pbXBvcnQgcFNSZWNvcmRlciBmcm9tICcuL3V0aWxpdGllcy9SZWNvcmRlcic7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBHTE9CQUwgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBEcmF3ZXIgPT09PVxyXG4vLyBPYmplY3RzXHJcbmdsb2JhbC5wU1BvaW50ICAgICA9IHBTUG9pbnQ7XHJcbmdsb2JhbC5wU1RleHQgICAgICA9IHBTVGV4dDtcclxuZ2xvYmFsLnBTVHJpYW5nbGUgID0gcFNUcmlhbmdsZTtcclxuXHJcbi8vIFJvb3RcclxuZ2xvYmFsLnBTQW5pbWF0aW9uID0gQW5pbWF0aW9uO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5nbG9iYWwuVmVjdG9yICAgICAgPSBWZWN0b3I7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBQU0VOR0lORSBMQVVOQ0ggPT09PT09PT09PVxyXG5pbXBvcnQgJy4vY29yZS9pbml0JztcclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9TaW11bGF0b3InO1xyXG5cclxuY2xhc3MgcFNFbmdpbmUge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0aWYod2luZG93LnA1ID09IHVuZGVmaW5lZClcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHQnWW91IG11c3QgaW1wb3J0IHA1LmpzIGluIG9yZGVyIHRvIHJ1biB0aGUgUGh5c2ljcyBTaW11bGF0aW9uIEVuZ2luZS4nLFxyXG5cdFx0XHRcdCdNb3JlIGluZm9ybWF0aW9ucyBvbiB0aGUgcDUgd2Vic2l0ZSBodHRwczovL3A1anMub3JnLy4nXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0Ly8gdXNlcyB0aGUgcDUgZnVuY3Rpb25zXHJcblx0XHR3aW5kb3cuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlID0gbmV3IHBTaW11bGF0b3IoKTtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmluc3RhbmNpYXRlKCk7XHJcblx0XHRcdHdpbmRvdy5wU0VuZ2luZSA9IHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRQU0VuZ2luZVZhcigpO1xyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iLCJpbXBvcnQgcFNFbmdpbmUgZnJvbSAnLi9tYWluJztcclxuXHJcbmNvbnN0IF9wU2dsb2JhbEVuZ2luZUluaXQgPSAoKSA9PiB7XHJcblx0bmV3IHBTRW5naW5lKCk7XHJcbn07XHJcblxyXG5jb25zdCB3YWl0Rm9yRG9jdW1lbnRSZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykgLy8gY29tcGxldGVcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlLCBmYWxzZSk7XHJcbn0pO1xyXG5cclxud2FpdEZvckRvY3VtZW50UmVhZHkudGhlbihfcFNnbG9iYWxFbmdpbmVJbml0KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9