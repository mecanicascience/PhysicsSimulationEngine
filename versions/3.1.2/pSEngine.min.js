var pSEngine=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=10)}([function(t,e,i){"use strict";i(1);class s{constructor(t,e,i,s="rgb(255, 255, 255)",r,n=1.3){this.x=t||0,this.y=e||0,this.z=i||0,this.color=s,this.setName(r,s,n)}set(t,e,i){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=e||0,this.z=i||0,this)}setName(t,e,i=1.3){return null==t||(t instanceof pSText?this.name=t:this.name=new pSText(t,this,i,e)),this}equals(t,e,i){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==e&&this.z==i}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,e,i){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=e||0,this.z+=i||0,this)}sub(t,e,i){return t instanceof s?this.sub(t.x,t.y,t.z):this.add(-t,-e,-i)}mult(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("Vector::mult()","c is undefined or isn't a finite number"),this)}div(t){return"number"==typeof t&&isFinite(t)?0==t?(console.error("Cannot divide by 0"),this):this.mult(1/t):(console.warn("Vector::div()","c is undefined or isn't a finite number"),this)}static add(t,e){return t.copy().add(e)}static sub(t,e){return t.copy().sub(e)}static mult(t,e){return t.copy().mult(e)}static div(t,e){return t.copy().div(e)}dot(t,e,i){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,e){let i=this.mag();return i<t&&this.div(i).mult(t),i>e&&this.div(i).mult(e),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const e=this.getAngle()+t,i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,e){return s.sub(t,e).mag()}static dot(t,e,i,s){return t.copy().dot(e,i,s)}static cross(t,e){return t.copy().cross(e)}static normalize(t){return t.copy().normalize()}static rotate(t,e){return t.copy().rotate(e)}draw(t,e,i){null!=t?s.draw(t,this,this.color,e,i):s.draw(void 0,this,this.color,e,i)}static draw(t=new s,e,i="rgb(255, 255, 255)",r=5,n=1){let o=_pSimulationInstance.plotter;if(_pSimulationInstance.config.engine.plotter.is_3D)r/=3,push(),o.drawer.stroke(i).strokeWeight(n).fill(i),null!=t&&o.drawer.translate(t.x,t.y,t.z),o.drawer.line(0,0,0,e.x,e.y,e.z),pop();else{push(),o.drawer.stroke(i).strokeWeight(n).fill(i).line(t.x,t.y,t.x+e.x,t.y+e.y);let s=o.computeForXYZ(t.x,t.y,t.z,!1);translate(s.x,s.y),push();let a=o.computeForXYZ(0,0,0),h=o.computeForXYZ(e.x,e.y,e.z);if(translate(h.x,h.y),rotate(h.sub(a).getAngle()),translate(-r-2,0),triangle(0,r/2,0,-r/2,r,0),pop(),null!=e.name){let t=e.getAngle();t<0&&(t+=2*PI);let s=.01*e.name.svgImg.width;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(s*=-1);let r=.01*e.name.svgImg.height;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(r*=-1),e.name.setColor(i).draw(e.name.pos.copy().div(2).add(s,r))}pop()}return this}}e.a=s},function(t,e,i){"use strict";e.a=class{constructor(t,e=new Vector,i=1,s="#FFFFFF",r=!1){null==window.MathJax&&console.error("You must import MathJax.js >=3.0.0 in order to use Text and Tex strings."),this.textSize=i,this.color=s,this.pos=e,this.showHitbox=r,this.setText(t)}draw(t){let e=_pSimulationInstance.plotter.drawer,i=e.plotter.computeForXYZ(this.pos.x,this.pos.y);if(null!=t&&(i=e.plotter.computeForXYZ(t.x,t.y)),push(),translate(-this.svgImg.width/2,-this.svgImg.height/2),image(this.svgImg,i.x,i.y,this.svgImg.width,this.svgImg.height),this.showHitbox){let t=this.svgImg.height,s=this.svgImg.width;e.stroke(this.color).strokeWeight(1).noFill(),line(i.x,i.y,i.x+s,i.y),line(i.x,i.y+t,i.x+s,i.y+t),line(i.x,i.y+t,i.x,i.y),line(i.x+s,i.y+t,i.x+s,i.y)}pop()}setText(t){this.text=t;let e="<svg"+MathJax.tex2svg(this.text,{display:!0,em:12,ex:6,containerWidth:480,lineWidth:1e5,scale:1}).innerHTML.split("<svg")[1].split("</svg>")[0]+"</svg>";return e=e.replace(/<g/g,'<g color="'+this.color+'"').replace(/width="(.*?)"/,'width="'+parseFloat(/width="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"').replace(/height="(.*?)"/,'height="'+parseFloat(/height="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"'),this.svgImg=loadImage(URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))),this}setPosition(t,e){return this.pos.x=t,this.pos.y=e,this}setColor(t){return this.color=t,this}}},function(t,e,i){"use strict";e.a=class{constructor(t){this.plotter=null,this.stack=[],this.stackPointer=[]}clearStack(){this.stack=[],this.stackPointer=[],this.currentStackLevel=this.stack}pushStackOperation(t,e,i=0,s=1){let r=[[0,0,0],[0,0,0],[0,0,0]];switch(t){case"t":r=[[1,0,e.x],[0,1,e.y],[0,0,1]];break;case"r":r=[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]];break;case"s":r=[[s,0,0],[0,s,0],[0,0,1]]}this.getCurrentStackLevel().push({m:r})}getCurrentStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length;e++)t=t[this.stackPointer[e]];return t}enterStackLevel(){let t=this.getCurrentStackLevel();this.stackPointer.push(t.length),t.push([])}exitStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length-1;e++)t=t[this.stackPointer[e]];this.stackPointer.pop(),t.pop()}point(t,e){let i=this.plotter.computeForXYZ(t,e);return point(i.x,i.y),this}line(t,e,i,s){let r=this.plotter.computeForXYZ(t,e),n=this.plotter.computeForXYZ(i,s);return line(r.x,r.y,n.x,n.y),this}setLineDash(t=5,e=5){return drawingContext.setLineDash([t,e]),this}clearLineDash(){return drawingContext.setLineDash([]),this}ellipse(t,e,i,s,r=!1){let n=this.plotter.computeForXYZ(t,e);if(null==s&&(s=i),r)ellipse(n.x,n.y,i,s);else{let r=this.plotter.computeForXYZ(i,s,0,!1);this.ellipse(t,e,2*r.x,2*r.y,!0)}return this}circle(t,e,i,s=!1){return this.ellipse(t,e,i,i,s)}rect(t,e,i,s,r=!1){if(!r)return this.beginShape().vertex(t+i,e).vertex(t+i,e+s).vertex(t,e+s).vertex(t,e).endShape(CLOSE);let n=this.plotter.computeForXYZ(t,e);return rect(n.x,n.y,i,s),this}arc(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e),a=this.plotter.computeForXYZ(i,s,0,!1);return arc(o.x,o.y,a.x,a.y,-n,-r),this}stroke(t,e,i,s){return null==s?null==i?null==e?stroke(t):stroke(t,e):stroke(t,e,i):stroke(`rgba(${t}, ${e}, ${i}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,e,i,s){return null==s?null==i?null==e?fill(t):fill(t,e):fill(t,e,i):fill(`rgba(${t}, ${e}, ${i}, ${s})`),this}beginShape(t){return beginShape(t),this}bezier(t,e,i,s,r,n,o,a){let h=_pSimulationInstance.plotter.computeForXYZ(t,e),l=_pSimulationInstance.plotter.computeForXYZ(i,s),u=_pSimulationInstance.plotter.computeForXYZ(r,n),c=_pSimulationInstance.plotter.computeForXYZ(o,a);return bezier(h.x,h.y,l.x,l.y,u.x,u.y,c.x,c.y),this}vertex(t,e){let i=this.plotter.computeForXYZ(t,e);return vertex(i.x,i.y),this}endShape(t){return endShape(t),this}push(){return this.enterStackLevel(),push(),this}pop(){return this.exitStackLevel(),pop(),this}translate(t,e){return this.pushStackOperation("t",{x:t,y:e},0,1),this}rotate(t){return this.pushStackOperation("r",{x:0,y:0},t,1),this}scale(t){return this.pushStackOperation("s",{x:0,y:0},0,t),this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,e,i){"use strict";var s=class{constructor(t,e){this.scaleTime=1,this.isAnimating=!1,this.initialT=0,this.datas=e,this.timeLength=t,this.lastKey=this.getKey(this.update)/this.scaleTime}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}getKey(t){let e=(new Date).getTime()/1e3-this.initialT;return e>this.timeLength?this.finalDraw(this):(this.lastKey=t(e,this)/this.scaleTime,this.lastKey)}updateKey(){return this.getKey(this.update)}drawKey(){return this.getKey(this.draw)}update(){}draw(){}};var r=class extends s{constructor(t,e){super(t,e),this.i=-1,this.currentShape=this.nextShape(e),this.localDt=0}nextShape(t){this.i++;let e=this.i+1;return e>t.length-1&&(e=0),[t[this.i],t[e]]}update(t,e){}draw(t,e){let i=e.timeLength/e.datas.length;null!=e.currentShape[0]&&null!=e.currentShape[1]&&t-e.localDt>=i&&(e.currentShape=e.nextShape(e.datas),e.localDt+=i),e.drawCurrentShape(e.datas,(t,e,i,s)=>{let r=1;return t==i&&(r=e/s),r},e,e.i+1,t-e.localDt,i)}finalDraw(t){this.drawCurrentShape(this.datas,()=>1,this,this.datas.length,0)}drawCurrentShape(t,e,i,s,r,n){for(let o=0;o<s;o++){let s=e(o,r,i.i,n),a=o+1;a>=t.length&&(a=0),_pSimulationInstance.plotter.drawer.noFill().strokeWeight(3).stroke(255).line(t[o].pos.x,t[o].pos.y,t[o].pos.x+(t[a].pos.x-t[o].pos.x)*s,t[o].pos.y+(t[a].pos.y-t[o].pos.y)*s)}}};var n=class extends s{constructor(t,e){super(t,e),null==this.datas.min&&(this.datas.min=0),null==this.datas.max&&(this.datas.max=1)}update(t,e){let i=t/e.timeLength;return i<.5?2*i*i*(e.datas.max-e.datas.min)+e.datas.min:((4-2*i)*i-1)*(e.datas.max-e.datas.min)+e.datas.min}draw(t,e){}finalDraw(t){return t.datas.max}};e.a=class{static new(t,e=1,i={}){switch(t||(t="easeInOutCubic"),t){case"easeInOutCubic":return new n(e,i);case"interpolation":return new r(e,i)}}}},function(t,e,i){"use strict";i(0);e.a=class{constructor(t,e){this.simulator=t,this.drawer=e,this.objectsL=[],this.drawer.plotter=this}update(t){this.drawer.clearStack(),this.simulator.config.engine.plotter.is_3D&&(lights(),orbitControl(5,5));for(let e=0;e<this.objectsL.length;e++)this.objectsL[e].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,e=t.backgroundColor.color;t.backgroundColor.draw&&background(e.r,e.g,e.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid)if(this.simulator.config.engine.plotter.is_3D)debugMode(100,10,0,0,0,20,0,-40,0);else{this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5);let e=Math.round(height/t.scale.y/2);t.squareByX||(e=t.scale.y);for(let i=-t.scale.x-1;i<t.scale.x+1;i++)for(let s=-e-1;s<e+1;s++)this.drawer.rect(i+t.offset.x,s+t.offset.y,1,1);this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a+.3).strokeWeight(2).line(-t.scale.x+t.offset.x-1,0,t.scale.x+t.offset.x+1,0),t.squareByX?this.drawer.line(0,-e-1,0,e+1):this.drawer.line(0,-t.scale.y-1,0,t.scale.y+1)}this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5)}computeForXYZ(t,e,i,s=!0){let r=this.simulator.config.engine.plotter;if(!r.is_3D){let i=this.simulator.plotter.drawer.stack,s=[[1,0,0],[0,1,0],[0,0,1]];!function t(e,i){if(e instanceof Array)for(let s=0;s<e.length;s++)t(e[s],i);else s=null==s?e.m:i(s,e.m)}(i,this.multMatrix);let r=t;t=t*s[0][0]+e*s[0][1]+s[0][2],e=r*s[1][0]+e*s[1][1]+s[1][2]}if(s||r.is_3D||!r.squareByX){if(r.is_3D){let s=180*.28;return new Vector((t+r.offset.x)/r.scale.x*s,(-e+r.offset.y)/r.scale.y*s,(i+r.offset.z)/r.scale.z*s)}{let i=new Vector(((t-r.offset.x)/r.scale.x+1)*width/2,0,((t+r.offset.z)/r.scale.z+1)*width/2);return r.squareByX?i.y=(-e+r.offset.y)/r.scale.x*width/2+height/2:i.y=((-e+r.offset.y)/r.scale.y+1)*height/2,i}}{let s=this.computeForXYZ(0,0,0),r=this.computeForXYZ(t,e,i);return new Vector(r.x-s.x,r.y-s.y,r.z-s.z)}}computeForXYFromPixel(t,e){let i=_pSimulationInstance.config.engine.plotter,s=new Vector((2*t/width-1)*i.scale.x+i.offset.x);return i.squareByX?s.y=-((2*e/height-1)*i.scale.y-i.offset.y):s.y=-(2*(e-2*height)/width*i.scale.y-i.offset.y),s}multMatrix(t,e){let i=[[0,0,0],[0,0,0],[0,0,0]];for(let s=0;s<t.length;s++)for(let r=0;r<e.length;r++)i[s][r]=t[s][0]*e[0][r]+t[s][1]*e[1][r]+t[s][2]*e[2][r];return i}}},function(t,e,i){"use strict";var s=i(4),r=i(2),n=i(6),o=i(7);e.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){try{window.preRunSimulator(this)}catch(t){}this.createP5Instance(),this.config.engine.plotter.is_3D?this.plotter=new s.a(this,new n.a):(setAttributes("antialias",!0),this.plotter=new s.a(this,new r.a)),this.recorder=new o.a,this.mousePos=this.plotter.computeForXYFromPixel(mouseX,mouseY),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.config.engine.plotter.is_3D?this.canvas=createCanvas(t.w,t.h,WEBGL):this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let e=this.config.engine.runner;e.UPDATE_FPS>=e.DRAW_FPS?frameRate(e.UPDATE_FPS):console.error("The Updates FPS must be superior as the Draws FPS."),window.draw=function(){let t=_pSimulationInstance,e=Date.now(),i=(e-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;if(t.mousePos=t.plotter.computeForXYFromPixel(mouseX,mouseY),!t.recorder.running||t.recorder.running&&!t.recorder.frameBlocker)i>s&&(i=t.dtMoy),t.lastUpdateTime=e,t.plotter.update(i*t.config.engine.runner.simulationSpeed),t.recorder.running&&!t.recorder.pauseMode&&t.recorder.snapshot(i),e-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(i<=s&&(t.dtTotal+=i,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=e);else{if(t.recorder.pauseMode)return;i=1/t.recorder.updateFPS,t.recorder.currentRelT+=i;let e=!1;t.recorder.currentRelT-t.recorder.lastDrawTime>=1/t.recorder.drawingFPS&&(i=1/t.recorder.drawingFPS,e=!0),t.lastUpdateTime=t.recorder.currentRelT,t.plotter.update(i),e&&(t.plotter.draw(),t.recorder.snapshot(i),t.recorder.lastDrawTime=t.recorder.currentRelT)}},window.windowResized=function(){if(_pSimulationInstance.recorder.running&&_pSimulationInstance.recorder.frameBlocker)return;let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)},window.mouseDragged=function(){if(!_pSimulationInstance.config.engine.runner.movable)return;let t=_pSimulationInstance.plotter.computeForXYFromPixel(mouseX,mouseY);_pSimulationInstance.mousePos.equals(t)||(_pSimulationInstance.config.engine.plotter.offset.x-=t.x-_pSimulationInstance.mousePos.x,_pSimulationInstance.config.engine.plotter.offset.y-=t.y-_pSimulationInstance.mousePos.y)}}getCanvasProportions(t){let e,i;return t.isRelative?(e=windowWidth*t.width,i=windowHeight*t.height):(e=t.width+"px",i=t.height+"px"),{w:e,h:i}}addObjects(t,e=1,...i){if(t instanceof Function)for(let s=0;s<e;s++){let e=[];for(let t=0;t<i.length;t++)i[t]instanceof Array&&null!=i[t][0]&&null!=i[t][1]&&i[t][1]instanceof Function?i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?e.push(i[t][1](...i[t].slice(2))):i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&e.push(new i[t][1](...i[t].slice(2))):e.push(i[t]);this.plotter.objectsL.push(new t(...e))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:"simulationContent",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:"_RUN_F",runClass:"_RUN_C"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15},is_movable:!1},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,z:10},offset:{x:0,y:0,z:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},squareByX:!1,is_3D:!1,gridColor:{r:255,g:255,b:255,a:.3},displayGrid:!1}}}setPreEngineConfig(t){return t(this.config.engine),this}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}getPSEngineVar(){}}},function(t,e,i){"use strict";var s=i(2);e.a=class{constructor(t){this.plotter=null,this.drawer2D=new s.a(t),this.stroke=this.drawer2D.stroke,this.strokeWeight=this.drawer2D.strokeWeight,this.fill=this.drawer2D.fill,this.beginShape=this.drawer2D.beginShape,this.endShape=this.drawer2D.endShape,this.vertex=this.drawer2D.vertex,this.pop=this.drawer2D.pop,this.push=this.drawer2D.push,this.noStroke=this.drawer2D.noStroke,this.noFill=this.drawer2D.noFill}line(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e,i),a=this.plotter.computeForXYZ(s,r,n);return beginShape(),vertex(o.x,o.y,o.z),vertex(a.x,a.y,a.z),endShape(),this}sphere(t,e,i,s){let r=this.plotter.computeForXYZ(t,e,i),n=this.plotter.computeForXYZ(s,0,0);return push(),translate(r.x,r.y,r.z),sphere(n.x),pop(),this}cone(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cone(o.x,o.y),pop(),this}box(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),box(o.x,o.y),pop(),this}cylinder(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cylinder(o.x,o.y),pop(),this}plane(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),plane(o.x,o.y),pop(),this}scale(t){return scale(t),this}model(t,e){return push(),scale(-1),e&&normalMaterial(),model(t),pop(),this}transform(t,e,i){return transform(t,e,i),this}}},function(t,e,i){"use strict";e.a=class{constructor(){this.name="Canvas-Recorder",this.id=0,this.pixelDatas=[],this.registeringTimes=[],this.setup(60,120,!0)}setup(t,e,i,s,r){this.width=e,this.height=i,this.pixelDensity=pixelDensity,this.frameBlocker=r,this.drawingFPS=t,this.updateFPS=s,this.running=!1,this.pauseMode=!1,this.currentRelT=0,this.lastDrawTime=0}start(t=60,e=1920,i=1080,s=120,r=!0,n=!0){this.setup(t,e,i,s,r),n&&(this.pixelDatas=[],this.registeringTimes=[],this.id++),this.registeringTimes.push({t:Date.now()/1e3,cause:"start"}),this.running=!0,resizeCanvas(e,i)}snapshot(t){this.running&&!this.pauseMode&&(loadPixels(),this.frameBlocker?this.pixelDatas.push(canvas.toDataURL()):this.pixelDatas.push({time:Date.now(),dt:t,dataURL:canvas.toDataURL()}))}stop(t=!0,e=!0){this.running=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"stop"}),t&&saveJSON(this.getDatasToJSON(),this.name+"-"+this.id+".json"),e&&(this.pixelDatas=[],this.registeringTimes=[]),windowResized()}pause(){this.pauseMode=!0,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"pause"})}resume(){this.pauseMode=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"resume"})}getDatasToJSON(){return{config:{width:this.width,height:this.height,pixelDensity:this.pixelDensity,drawFrameCount:this.frameBlocker?this.drawingFPS:"variable",updateFrameCount:this.frameBlocker?this.updateFPS:"variable"},datas:{times:{realTimeLength:this.registeringTimes[this.registeringTimes.length-1].t,videoTimeLength:this.frameBlocker?1/this.drawingFPS*this.pixelDatas.length:"variable",timeOperations:this.registeringTimes},pixels:{pixelDatasSize:this.pixelDatas.length,pixelDatas:this.pixelDatas}}}}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e,i="white",s,r=6,n,o=!0){this.pos=new Vector(t,e,i,n),null!=s&&(this.pointName=new pSText(s,this.pos,18,i)),this.drawOriginVector=o,this.pointSize=r,this.pointSizeDrawing=r,this.textPadding=.4}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e=new Vector,i=new Vector,s="white",r="none",n=1){this.setCoordinates(t,e,i),this.fillColor=s,this.strokeColor=r,this.strokeWeight=n}setCoordinates(t,e,i){this.p0=t||new Vector(t.x,t.y),this.p1=null==e?this.p1:new Vector(e.x,e.y),this.p2=null==i?this.p2:new Vector(i.x,i.y),this.pG=Vector.div(Vector.add(Vector.add(this.p0,this.p1),this.p2),3),this.v0=Vector.sub(this.p0,this.pG),this.v1=Vector.sub(this.p1,this.pG),this.v2=Vector.sub(this.p2,this.pG)}rotate(t){this.v0.rotate(t),this.v1.rotate(t),this.v2.rotate(t),this.p0=Vector.add(this.v0,this.pG),this.p1=Vector.add(this.v1,this.pG),this.p2=Vector.add(this.v2,this.pG)}translate(t,e){return this.setCoordinates(Vector.add(this.p0,new Vector(t,e)),Vector.add(this.p1,new Vector(t,e)),Vector.add(this.p2,new Vector(t,e))),this}translate(t){return this.translate(t.x,t.y),this}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;"none"==this.fillColor?t.noFill():t.fill(this.fillColor),"none"==this.strokeColor?t.noStroke():t.stroke(this.strokeColor).strokeWeight(this.strokeWeight),t.push().beginShape().vertex(this.p0.x,this.p0.y).vertex(this.p1.x,this.p1.y).vertex(this.p2.x,this.p2.y).vertex(this.p0.x,this.p0.y).endShape().pop()}}},function(t,e,i){t.exports=i(11)},function(t,e,i){"use strict";i.r(e),function(t){i(5);var e=i(8),s=i(1),r=i(9),n=i(3),o=(i(2),i(6),i(4),i(0));i(7),i(13);t.pSPoint=e.a,t.pSText=s.a,t.pSTriangle=r.a,t.pSAnimation=n.a,t.Vector=o.a}.call(this,i(12))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var s=i(5);var r=class{constructor(){null==window.p5&&console.error("You must import p5.js in order to run the Physics Simulation Engine.","More informations on the p5 website https://p5js.org/."),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate(),window.pSEngine=window._pSimulationInstance.getPSEngineVar()}}};new Promise((t,e)=>{"loading"===document.readyState?t():window.addEventListener("load",t,!1)}).then(()=>{new r})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wU0VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy91dGlsaXRpZXMvVmVjdG9yLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RleHQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0RyYXdlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvYW5pbWF0aW9ucy9wU0FuaW1hdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvUGxvdHRlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL1NpbXVsYXRvci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvM0REcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvdXRpbGl0aWVzL1JlY29yZGVyLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1BvaW50LmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RyaWFuZ2xlLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9tYWluLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2NvcmUvaW5pdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZlY3RvciIsIngiLCJ5IiwieiIsImNvbG9yIiwibmFtZVNpemUiLCJ0aGlzIiwic2V0TmFtZSIsInVuZGVmaW5lZCIsInBTVGV4dCIsImVxdWFscyIsInNldCIsImFkZCIsInN1YiIsImlzRmluaXRlIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsIm11bHQiLCJ2MSIsInYyIiwiY29weSIsImRpdiIsImRvdCIsInYiLCJ2TGVuIiwibWFnIiwibWluIiwibWF4IiwiTWF0aCIsInNxcnQiLCJub3JtYWxpemUiLCJhbmdsZSIsIm5ld0FuZ2xlIiwiZ2V0QW5nbGUiLCJtYWduaXR1ZGUiLCJjb3MiLCJzaW4iLCJhdGFuMiIsImNyb3NzIiwicm90YXRlIiwiaW5pdGlhbFBvcyIsImhlYWRTaXplIiwic3Ryb2tlV2VpZ2h0IiwiZHJhdyIsInBvaW50aW5nUG9zIiwic3Ryb2tlVyIsInBsb3R0ZXIiLCJfcFNpbXVsYXRpb25JbnN0YW5jZSIsImNvbmZpZyIsImVuZ2luZSIsImlzXzNEIiwicHVzaCIsImRyYXdlciIsInN0cm9rZSIsImZpbGwiLCJ0cmFuc2xhdGUiLCJsaW5lIiwicG9wIiwidjAiLCJjb21wdXRlRm9yWFlaIiwienpQb3NpdGlvbiIsImVuZFBvcyIsInRyaWFuZ2xlIiwiUEkiLCJ4T2Zmc2V0Iiwic3ZnSW1nIiwid2lkdGgiLCJ5T2Zmc2V0IiwiaGVpZ2h0Iiwic2V0Q29sb3IiLCJwb3MiLCJ0ZXh0IiwidGV4dFNpemUiLCJzaG93SGl0Ym94Iiwid2luZG93IiwiTWF0aEpheCIsInNldFRleHQiLCJwb3NPcHQiLCJpbWFnZSIsImgiLCJ3Iiwibm9GaWxsIiwic3ZnIiwidGV4MnN2ZyIsImRpc3BsYXkiLCJlbSIsImV4IiwiY29udGFpbmVyV2lkdGgiLCJsaW5lV2lkdGgiLCJzY2FsZSIsImlubmVySFRNTCIsInNwbGl0IiwicmVwbGFjZSIsInBhcnNlRmxvYXQiLCJleGVjIiwibG9hZEltYWdlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsInR5cGUiLCJzdGFjayIsInN0YWNrUG9pbnRlciIsImN1cnJlbnRTdGFja0xldmVsIiwiZ2V0Q3VycmVudFN0YWNrTGV2ZWwiLCJzQ3VyciIsImxlbmd0aCIsInBvaW50IiwieDAiLCJ5MCIsIngxIiwieTEiLCJkYXNoU2l6ZSIsImRhc2hTcGFjaW5nIiwiZHJhd2luZ0NvbnRleHQiLCJzZXRMaW5lRGFzaCIsInJ4IiwicnkiLCJhYnMiLCJlbGxpcHNlIiwiYmVnaW5TaGFwZSIsInZlcnRleCIsImVuZFNoYXBlIiwiQ0xPU0UiLCJyZWN0Iiwic3RhcnQiLCJzdG9wIiwiYXJjIiwiZyIsImIiLCJhIiwiVFlQRSIsIngyIiwieTIiLCJ4MyIsInkzIiwieDQiLCJ5NCIsInAxIiwicDIiLCJwMyIsInA0IiwiYmV6aWVyIiwiZW50ZXJTdGFja0xldmVsIiwiZXhpdFN0YWNrTGV2ZWwiLCJwdXNoU3RhY2tPcGVyYXRpb24iLCJmYWMiLCJub1N0cm9rZSIsInRpbWVMZW5ndGgiLCJkYXRhcyIsInNjYWxlVGltZSIsImlzQW5pbWF0aW5nIiwiaW5pdGlhbFQiLCJsYXN0S2V5IiwiZ2V0S2V5IiwidXBkYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJmIiwiZHQiLCJmaW5hbERyYXciLCJzdXBlciIsImN1cnJlbnRTaGFwZSIsIm5leHRTaGFwZSIsImxvY2FsRHQiLCJwb2ludHMiLCJqIiwidGgiLCJkcmF3Q3VycmVudFNoYXBlIiwibHQiLCJ0aSIsInBlcmNlbnQiLCJwZXJjZW50RnVuY3Rpb24iLCJtYXhJIiwidGltZSIsImFuaW1hdGlvbk5hbWUiLCJzaW11bGF0b3IiLCJvYmplY3RzTCIsImNsZWFyU3RhY2siLCJsaWdodHMiLCJvcmJpdENvbnRyb2wiLCJwbENvbmYiLCJiZyIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJkaXNwbGF5R3JpZCIsImRlYnVnTW9kZSIsImdyaWRDb2xvciIsInlTIiwicm91bmQiLCJzcXVhcmVCeVgiLCJvZmZzZXQiLCJ4UmVsIiwieVJlbCIsInpSZWwiLCJ1c2VPZmZzZXQiLCJjdXJyTWF0cml4IiwicmVjdXJzZVN0YWNrIiwibXVsdE1hdHJpeCIsIkFycmF5IiwieFJlbFRtcCIsImJlZ2luVGltZSIsIm5vdyIsImxhc3RVcGRhdGVUaW1lIiwibGFzdERyYXdUaW1lIiwiZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZyIsImN1c3RvbSIsImdldEN1c3RvbUNvbmZpZyIsImdldEVuZ2luZUNvbmZpZyIsImR0TW95IiwicnVubmVyIiwicm9sbGJhY2tDb250cm9sIiwibWluaW1hbFVwZGF0ZUZQUyIsImR0VG90YWwiLCJkdENvdW50IiwicHJlUnVuU2ltdWxhdG9yIiwiZSIsImNyZWF0ZVA1SW5zdGFuY2UiLCJzZXRBdHRyaWJ1dGVzIiwicmVjb3JkZXIiLCJtb3VzZVBvcyIsImNvbXB1dGVGb3JYWUZyb21QaXhlbCIsIm1vdXNlWCIsIm1vdXNlWSIsInJ1blNpbXVsYXRvciIsImdldENhbnZhc1Byb3BvcnRpb25zIiwicHJvcG9ydGlvbnMiLCJjYW52YXMiLCJjcmVhdGVDYW52YXMiLCJXRUJHTCIsInBhcmVudCIsImRpdklkIiwicnUiLCJVUERBVEVfRlBTIiwiRFJBV19GUFMiLCJmcmFtZVJhdGUiLCJjdXJyZW50VGltZSIsImNyaXRpcUR0IiwibWF4U3RhbmRhcmREZXZpYXRpb24iLCJydW5uaW5nIiwiZnJhbWVCbG9ja2VyIiwic2ltdWxhdGlvblNwZWVkIiwicGF1c2VNb2RlIiwic25hcHNob3QiLCJhdmVyYWdlVGltZVNhbXBsZSIsInVwZGF0ZUZQUyIsImN1cnJlbnRSZWxUIiwic2hvdWxkU25hcCIsImRyYXdpbmdGUFMiLCJ3aW5kb3dSZXNpemVkIiwicmVzaXplQ2FudmFzIiwibW91c2VEcmFnZ2VkIiwibW92YWJsZSIsImNQIiwiaXNSZWxhdGl2ZSIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0IiwiY3VzdG9tT2JqZWN0IiwibnVtYmVyIiwicGFyYW1zIiwiRnVuY3Rpb24iLCJjb3B5UGFyYW1zVGVtcCIsImFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyIsInJ1bkZ1bmN0aW9ucyIsInNsaWNlIiwicnVuQ2xhc3MiLCJpc19tb3ZhYmxlIiwiY29uZmlnRnVuYyIsImRyYXdlcjJEIiwiejAiLCJ6MSIsInNwaGVyZSIsImNvbmUiLCJib3giLCJjeWxpbmRlciIsInBsYW5lIiwibm0iLCJub3JtYWxNYXRlcmlhbCIsIm1vZGVsIiwidHJhbnNmb3JtIiwiaWQiLCJwaXhlbERhdGFzIiwicmVnaXN0ZXJpbmdUaW1lcyIsInNldHVwIiwicGl4ZWxEZW5zaXR5IiwiY2xlYXJQaXhlbEFycmF5IiwiY2F1c2UiLCJsb2FkUGl4ZWxzIiwidG9EYXRhVVJMIiwiZGF0YVVSTCIsImRvd25sb2FkRGF0YXMiLCJzYXZlSlNPTiIsImdldERhdGFzVG9KU09OIiwiZHJhd0ZyYW1lQ291bnQiLCJ1cGRhdGVGcmFtZUNvdW50IiwidGltZXMiLCJyZWFsVGltZUxlbmd0aCIsInZpZGVvVGltZUxlbmd0aCIsInRpbWVPcGVyYXRpb25zIiwicGl4ZWxzIiwicGl4ZWxEYXRhc1NpemUiLCJwb2ludE5hbWUiLCJwb2ludFNpemUiLCJ2ZWN0b3JOYW1lIiwiZHJhd09yaWdpblZlY3RvciIsInBvaW50U2l6ZURyYXdpbmciLCJ0ZXh0UGFkZGluZyIsInBhcnNlSW50IiwicDAiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInNldENvb3JkaW5hdGVzIiwicEciLCJnbG9iYWwiLCJwU1BvaW50IiwicFNUcmlhbmdsZSIsInBTQW5pbWF0aW9uIiwicDUiLCJpbnN0YW5jaWF0ZSIsInBTRW5naW5lIiwiZ2V0UFNFbmdpbmVWYXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIl0sIm1hcHBpbmdzIjoieUJBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFB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VixFQUFFNkssV0FFRjdLLEVBQUVnRixPQUFPaEQsS0FBS2dULGFBQWEzUSxhQUFhckMsS0FBS3FDLGNBRWpEckUsRUFBRThFLE9BQ0dvRSxhQUNJQyxPQUFPbkgsS0FBSzhTLEdBQUduVCxFQUFHSyxLQUFLOFMsR0FBR2xULEdBQzFCdUgsT0FBT25ILEtBQUtvSSxHQUFHekksRUFBR0ssS0FBS29JLEdBQUd4SSxHQUMxQnVILE9BQU9uSCxLQUFLcUksR0FBRzFJLEVBQUdLLEtBQUtxSSxHQUFHekksR0FDMUJ1SCxPQUFPbkgsS0FBSzhTLEdBQUduVCxFQUFHSyxLQUFLOFMsR0FBR2xULEdBQzlCd0gsV0FDSmhFLFMsOERDdEhULDJGQXdCQStQLEVBQU9DLFFBQWMsSUFDckJELEVBQU9oVCxPQUFjLElBQ3JCZ1QsRUFBT0UsV0FBYyxJQUdyQkYsRUFBT0csWUFBYyxJQUdyQkgsRUFBT3pULE9BQWMsSyxnQ0NoQ3JCLElBQUlnSSxFQUdKQSxFQUFJLFdBQ0gsT0FBTzFILEtBREosR0FJSixJQUVDMEgsRUFBSUEsR0FBSyxJQUFJb0ksU0FBUyxjQUFiLEdBQ1IsTUFBTzVDLEdBRWMsaUJBQVg3SSxTQUFxQnFELEVBQUlyRCxRQU9yQzVHLEVBQU9ELFFBQVVrSyxHLHdDQ0FGLE1BakJmLE1BQ0MsY0FDaUJ4SCxNQUFibUUsT0FBT2tQLElBQ1Q5UyxRQUFRRSxNQUNQLHVFQUNBLDBEQUlGMEQsT0FBT2dOLE1BQVEsV0FDZGhOLE9BQU8zQixxQkFBdUIsSUFBSSxJQUNsQzJCLE9BQU8zQixxQkFBcUI4USxjQUM1Qm5QLE9BQU9vUCxTQUFXcFAsT0FBTzNCLHFCQUFxQmdSLG9CQ1JwQixJQUFJQyxRQUFRLENBQUNDLEVBQVNDLEtBQ3BCLFlBQXhCQyxTQUFTQyxXQUNSSCxJQUVBdlAsT0FBTzJQLGlCQUFpQixPQUFRSixHQUFTLEtBRzVCSyxLQVhPLEtBQzNCLElBQUkiLCJmaWxlIjoicFNFbmdpbmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG4iLCJpbXBvcnQgJy4vLi4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcblxyXG4vKipcclxuKiBBIGNsYXNzIGZvciBldmVyeSAzRCBWZWN0b3JzLlxyXG4qIDxici8+UGxlYXNlIG5vdGUgdGhhdCBjdXJyZW50IHZlY3RvciBtYXkgb25seSBiZSB1c2VkIGluIDxiPjJEPC9iPi5cclxuKi9cclxuY2xhc3MgVmVjdG9yIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvciAoZWFjaCBjb29yZGluYXRlIGdldHMgYSAwIGlmIHZhbHVlIG5vdCBwcm92aWRlZClcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gY29sb3IgQ29sb3Igb2YgdGhlIFZlY3RvciAncmdiYShSLCBHLCBCLCBBKSdcclxuICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgVmVjdG9yIHBvdGVudGlhbGx5IGRpc3BsYXllZCAoQHNlZSBkcmF3IG1ldGhvZClcclxuICAgICogQHBhcmFtIG5hbWVTaXplIFRleHQgc2l6ZSBvZiB0aGUgbmFtZSBvZiB0aGUgVmVjdG9yIChkZWZhdWx0IDEuMylcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgeiwgY29sb3IgPSAncmdiKDI1NSwgMjU1LCAyNTUpJywgbmFtZSwgbmFtZVNpemUgPSAxLjMpIHtcclxuICAgICAgICB0aGlzLnggICAgPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ICAgID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiAgICA9IHogfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cclxuICAgICAgICB0aGlzLnNldE5hbWUobmFtZSwgY29sb3IsIG5hbWVTaXplKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgTUVUSE9EUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgeCwgeSwgeiBjb29yZGluYXRlcyAoZWFjaCBjb29yZGluYXRlIGdldHMgYSAwIGlmIHZhbHVlIG5vdCBwcm92aWRlZClcclxuICAgICogQHBhcmFtIHggTmV3IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IHRvIGJlIGVxdWFsIHRvXHJcbiAgICAqIEBwYXJhbSB5IE5ldyBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogTmV3IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXQoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy54ID0geC54IHx8IDA7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHgueSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnogPSB4LnogfHwgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiA9IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHZlY3RvciBuYW1lXHJcbiAgICAqIEBwYXJhbSBuYW1lIE5ldyBuYW1lIG9mIHRoZSBWZWN0b3JcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBWZWN0b3IgbmFtZVxyXG4gICAgKiBAcGFyYW0gbmFtZVNpemUgVGV4dCBzaXplIG9mIHRoZSBuYW1lIG9mIHRoZSBWZWN0b3IgKGRlZmF1bHQgMS4zKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXROYW1lKG5hbWUsIGNvbG9yLCBuYW1lU2l6ZSA9IDEuMykge1xyXG4gICAgICAgIGlmKG5hbWUgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgaWYobmFtZSBpbnN0YW5jZW9mIHBTVGV4dClcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5ldyBwU1RleHQobmFtZSwgdGhpcywgbmFtZVNpemUsIGNvbG9yKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoZWNrIGlmIHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgYXJlIGVxdWFsXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IGZvciBlZ2FsaXR5IGNoZWNraW5nXHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geiBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0cnVlIGlmIGVxdWFsXHJcbiAgICAqL1xyXG4gICAgZXF1YWxzKHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcXVhbHMoeC54LCB4LnksIHgueik7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy54ID09IHgpICYmICh0aGlzLnkgPT0geSkgJiYgKHRoaXMueiA9PSB6KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgVmVjdG9yICovXHJcbiAgICBjb3B5KCkgeyByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoaXMgVmVjdG9yIHdpdGggY29vcmRpbmF0ZXMgc2V0IHRvICgwLCAwLCAwKSAqL1xyXG4gICAgY2xlYXIoKSB7IHJldHVybiB0aGlzLnNldCgwLCAwLCAwKTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIEEgU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QgKi9cclxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gYFZlY3RvciBPYmplY3QgOiBbJHt0aGlzLnh9LCAke3RoaXMueX0sICR7dGhpcy56fV1gOyB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgT1BFUkFUSU9OUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBBZGQgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGFkZCh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICB0aGlzLnggKz0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSArPSB5IHx8IDA7XHJcbiAgICAgICAgdGhpcy56ICs9IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3VzdHJhY3QgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHN1Yih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3ViKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5hZGQoLXgsIC15LCAteik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE11bHRpcGx5IHRoaXMgVmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSBjIFRoZSBtdWx0aXBsaWNhdGlvbiBzY2FsYXJcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbXVsdChjKSB7XHJcbiAgICAgICAgaWYoISh0eXBlb2YgYyA9PT0gJ251bWJlcicpIHx8ICFpc0Zpbml0ZShjKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAnVmVjdG9yOjptdWx0KCknLFxyXG4gICAgICAgICAgICAgICAgJ2MgaXMgdW5kZWZpbmVkIG9yIGlzblxcJ3QgYSBmaW5pdGUgbnVtYmVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueCAqPSBjO1xyXG4gICAgICAgIHRoaXMueSAqPSBjO1xyXG4gICAgICAgIHRoaXMueiAqPSBjO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEaXZpZGVzIHRoaXMgVmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSBjIFRoZSBkaXZpc2lvbiBzY2FsYXJcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZGl2KGMpIHtcclxuICAgICAgICBpZighKHR5cGVvZiBjID09PSAnbnVtYmVyJykgfHwgIWlzRmluaXRlKGMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgICdWZWN0b3I6OmRpdigpJyxcclxuICAgICAgICAgICAgICAgICdjIGlzIHVuZGVmaW5lZCBvciBpc25cXCd0IGEgZmluaXRlIG51bWJlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGMgPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgZGl2aWRlIGJ5IDAnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5tdWx0KDEgLyBjKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBtZXRob2RzXHJcbiAgICAvKipcclxuICAgICogQWRkIHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIEEgbmV3IFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBhZGQodjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5hZGQodjIpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFN1YnRyYWN0IHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIEEgbmV3IFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzdWIodjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5zdWIodjIpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE11bHRpcGx5IGEgdmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBjIEEgc2NhbGFyIGNcclxuICAgICogQHJldHVybiBBIG5ldyBtdWx0aXBsaWVkIFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBtdWx0KHYxLCBjKSB7IHJldHVybiAodjEuY29weSgpKS5tdWx0KGMpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERpdmlkZXMgdHdvIHZlY3RvcnMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHYxIFRoZSB2ZWN0b3JcclxuICAgICogQHBhcmFtIGMgQSBzY2FsYXIgY1xyXG4gICAgKiBAcmV0dXJuIEEgbmV3IGRpdmlkZWQgVmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRpdiAodjEsIGMpIHsgcmV0dXJuICh2MS5jb3B5KCkpLmRpdihjKTsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQURWQU5DRUQgTUFUSCBWRUNUT1IgT1BFUkFUSU9OUyA9PT09PT09PT0gKi9cclxuICAgIC8vIERvdCBhbmQgY3Jvc3MgcHJvZHVjdHNcclxuICAgIC8qKlxyXG4gICAgKiBEb3QgcHJvZHVjdCBiZXR3ZWVuIGEgVmVjdG9yIE9SIGEgcGFpciBvZiBjb29yZGluYXRlc1xyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGRvdCh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG90KHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy54ICogKHggfHwgMCkgKyB0aGlzLnkgKiAoeSB8fCAwKSArIHRoaXMueiAqICh6IHx8IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcm9zcyBwcm9kdWN0IHdpdGggYSBWZWN0b3JcclxuICAgICogQHBhcmFtIHYgVGhlIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBjcm9zcyh2KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgIHRoaXMueSAqIHYueiAtIHRoaXMueiAqIHYueSxcclxuICAgICAgICAgICAgdGhpcy56ICogdi54IC0gdGhpcy54ICogdi56LFxyXG4gICAgICAgICAgICB0aGlzLnggKiB2LnkgLSB0aGlzLnkgKiB2LnhcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gTWFnbml0dWRlXHJcbiAgICAvKiogQHJldHVybiB0aGUgbm9ybWFsaXplZCBWZWN0b3IgKi9cclxuICAgIG5vcm1hbGl6ZSgpIHtcclxuICAgICAgICBjb25zdCB2TGVuID0gdGhpcy5tYWcoKTtcclxuICAgICAgICBpZiAodkxlbiAhPT0gMClcclxuICAgICAgICAgICAgdGhpcy5kaXYodkxlbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBMaW1pdCB0aGUgbWFnbml0dWRlIG9mIHRoZSB2ZWN0b3IgYmV0d2VlbiBhIG1pbiBhbmQgYSBtYXggdmFsdWVcclxuICAgICogQHBhcmFtIG1pbiBNaW5pbXVtIHZhbHVlIG9mIHRoZSBWZWN0b3IgbWFnbml0dWRlXHJcbiAgICAqIEBwYXJhbSBtYXggTWF4aW11bSB2YWx1ZSBvZiB0aGUgVmVjdG9yIG1hZ25pdHVkZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBsaW1pdChtaW4sIG1heCkge1xyXG4gICAgXHRsZXQgbSA9IHRoaXMubWFnKCk7XHJcbiAgICBcdGlmKG0gPCBtaW4pXHJcbiAgICBcdFx0dGhpcy5kaXYobSkubXVsdChtaW4pO1xyXG4gICAgXHRpZihtID4gbWF4KVxyXG4gICAgXHRcdHRoaXMuZGl2KG0pLm11bHQobWF4KTtcclxuICAgIFx0cmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG1hZ25pdHVkZSBvZiB0aGlzIHZlY3RvciAqL1xyXG4gICAgbWFnKCkgeyByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueik7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHRoZSBtYWduaXR1ZGUgb2YgdGhpcyB2ZWN0b3JcclxuICAgICogQHBhcmFtIG1hZyBUaGUgbmV3IG1hZ25pdHVkZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRNYWcobWFnKSB7IHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHQobWFnKTsgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gQW5nbGVzXHJcbiAgICAvKipcclxuICAgICogUm90YXRlIHRoaXMgdmVjdG9yIGJ5IGFuIGFuZ2xlIG9uIHRoZSBYWSBwbGFuZVxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW4gYW5nbGUgSU4gUkFESUFOU1xyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICBjb25zdCBuZXdBbmdsZSAgPSB0aGlzLmdldEFuZ2xlKCkgKyBhbmdsZTtcclxuICAgICAgICBjb25zdCBtYWduaXR1ZGUgPSB0aGlzLm1hZygpO1xyXG5cclxuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyhuZXdBbmdsZSkgKiBtYWduaXR1ZGU7XHJcbiAgICAgICAgdGhpcy55ID0gTWF0aC5zaW4obmV3QW5nbGUpICogbWFnbml0dWRlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgYW5nbGUgYmV0d2VlbiB0aGlzIHZlY3RvciBhbmQgdGhlIG9yaWdpbiAqL1xyXG4gICAgZ2V0QW5nbGUoKSB7IHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSwgdGhpcy54KTsgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gU3RhdGljIG1ldGhvZHNcclxuICAgIC8qKlxyXG4gICAgKiBEaXN0YW5jZSBiZXd0ZWVuIHR3byB2ZWN0b3JzXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gcG9zaXRpb25zIHdoZXJlIHRoZSBhcnJvdyBhcmUgcG9pbnRpbmcgdG9cclxuICAgICovXHJcbiAgICBzdGF0aWMgZGlzdCh2MSwgdjIpIHsgcmV0dXJuIFZlY3Rvci5zdWIodjEsIHYyKS5tYWcoKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEb3QgcHJvZHVjdCBiZXR3ZWVuIGEgVmVjdG9yIE9SIGEgcGFpciBvZiBjb29yZGluYXRlc1xyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhlIGRvdHRlZCBuZXcgdmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRvdCh2MSwgeCwgeSwgeikgeyByZXR1cm4gKHYxLmNvcHkoKSkuZG90KHgsIHksIHopOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENyb3NzIHByb2R1Y3Qgd2l0aCBhIFZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGUgY3Jvc3NlZCBuZXcgdmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNyb3NzKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuY3Jvc3ModjIpOyB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG5vcm1hbGl6ZWQgVmVjdG9yICovXHJcbiAgICBzdGF0aWMgbm9ybWFsaXplKHYxKSB7IHJldHVybiAodjEuY29weSgpKS5ub3JtYWxpemUoKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGUgYSB2ZWN0b3IgYnkgYW4gYW5nbGVcclxuICAgICogQHBhcmFtIHYxIFRoZSB2ZWN0b3IgdG8gYmUgcm90YXRlZFxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW4gYW5nbGUgSU4gUkFESUFOU1xyXG4gICAgKiBAcmV0dXJuIHRoZSByb3RhdGVkIHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyByb3RhdGUgKHYxLCBhbmdsZSkgeyByZXR1cm4gKHYxLmNvcHkoKSkucm90YXRlKGFuZ2xlKTsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBEUkFXSU5HIFZFQ1RPUlMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIHZlY3RvciB0byB0aGUgY2FudmFzIHVzaW5nIHRoZSBgRHJhd2VyYCBjbGFzc1xyXG4gICAgKiBAcGFyYW0gaW5pdGlhbFBvcyBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uIG9mIHRoZSBWZWN0b3IgQXJyb3dcclxuICAgICogQHBhcmFtIGhlYWRTaXplIFNpemUgb2YgdGhlIGhlYWQgaW4gcGl4ZWxzIChkZWZhdWx0ID0gNSBweClcclxuICAgICogQHBhcmFtIHN0cm9rZVdlaWdodCBTdHJva2Ugd2VpZ2h0IG9mIHRoZSBWZWN0b3IgaW4gcGl4ZWxzIChkZWZhdWx0ID0gMSBweClcclxuICAgICovXHJcbiAgICBkcmF3KGluaXRpYWxQb3MsIGhlYWRTaXplLCBzdHJva2VXZWlnaHQpIHtcclxuICAgICAgICBpZihpbml0aWFsUG9zICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgVmVjdG9yLmRyYXcoaW5pdGlhbFBvcywgdGhpcywgdGhpcy5jb2xvciwgaGVhZFNpemUsIHN0cm9rZVdlaWdodCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBWZWN0b3IuZHJhdyh1bmRlZmluZWQgLCB0aGlzLCB0aGlzLmNvbG9yLCBoZWFkU2l6ZSwgc3Ryb2tlV2VpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogKFBsZWFzZSBhdm9pZCBkaXJlY3RseSB1c2luZyB0aGlzIG1ldGhvZClcclxuICAgICogRHJhdyBhIHZlY3RvciB0byB0aGUgY2FudmFzIHVzaW5nIHRoZSBgRHJhd2VyYCBjbGFzc1xyXG4gICAgKiBAcGFyYW0gaW5pdGlhbFBvcyBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uIG9mIHRoZSBWZWN0b3IgQXJyb3dcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGVuZGluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBjb2xvciBDb2xvciBvZiB0aGUgYXJyb3cgKGRlZmF1bHQgYHJnYigyNTUsIDI1NSwgMjU1KWApXHJcbiAgICAqIEBwYXJhbSBoZWFkU2l6ZSBTaXplIG9mIHRoZSBoZWFkIGluIHBpeGVscyAoZGVmYXVsdCA9IDUgcHgpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VXZWlnaHQgU3Ryb2tlIHdlaWdodCBvZiB0aGUgVmVjdG9yIGluIHBpeGVscyAoZGVmYXVsdCA9IDEgcHgpXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRyYXcoaW5pdGlhbFBvcyA9IG5ldyBWZWN0b3IoKSwgcG9pbnRpbmdQb3MsIGNvbG9yID0gJ3JnYigyNTUsIDI1NSwgMjU1KScsIGhlYWRTaXplID0gNSwgc3Ryb2tlVyA9IDEpIHtcclxuICAgICAgICBsZXQgcGxvdHRlciA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXI7XHJcblxyXG4gICAgICAgIGlmKCFfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1JcclxuICAgICAgICAgICAgICAgIHBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHJva2UoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoc3Ryb2tlVylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbGwoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcy54ICsgcG9pbnRpbmdQb3MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueSArIHBvaW50aW5nUG9zLnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHYwID0gcGxvdHRlci5jb21wdXRlRm9yWFlaKGluaXRpYWxQb3MueCwgaW5pdGlhbFBvcy55LCBpbml0aWFsUG9zLnosIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55KTtcclxuXHJcbiAgICAgICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHp6UG9zaXRpb24gPSBwbG90dGVyLmNvbXB1dGVGb3JYWVooMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZFBvcyAgICAgPSBwbG90dGVyLmNvbXB1dGVGb3JYWVoocG9pbnRpbmdQb3MueCwgcG9pbnRpbmdQb3MueSwgcG9pbnRpbmdQb3Mueik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZShlbmRQb3MueCwgZW5kUG9zLnkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByb3RhdGUoZW5kUG9zLnN1Yih6elBvc2l0aW9uKS5nZXRBbmdsZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUoLWhlYWRTaXplIC0gMiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGUoMCwgaGVhZFNpemUgLyAyLCAwLCAtaGVhZFNpemUgLyAyLCBoZWFkU2l6ZSwgMCk7XHJcbiAgICAgICAgICAgICAgICBwb3AoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1IgTkFNRVxyXG4gICAgICAgICAgICAgICAgaWYocG9pbnRpbmdQb3MubmFtZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBPZmZzZXQgb2YgdGhlIHRleHQgYmFzZWQgb24gdGhlIGFuZ2xlIG9uIHRoZSB1bml0IGNpcmNsZVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IHBvaW50aW5nUG9zLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYW5nbGUgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZSArPSAyKlBJO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeE9mZnNldCA9IDAuMDEgKiBwb2ludGluZ1Bvcy5uYW1lLnN2Z0ltZy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiggICAgKFBJLzQgICA8IGFuZ2xlICYmIGFuZ2xlIDw9IFBJLzIgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKDMqUEkvNCA8IGFuZ2xlICYmIGFuZ2xlIDw9IDUqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKDMqUEkvMiA8IGFuZ2xlICYmIGFuZ2xlIDw9IDcqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICApIHhPZmZzZXQgKj0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB5T2Zmc2V0ID0gMC4wMSAqIHBvaW50aW5nUG9zLm5hbWUuc3ZnSW1nLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBpZiggICAgKFBJLzQgICA8IGFuZ2xlICYmIGFuZ2xlIDw9ICAgUEkvMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKFBJLzIgICA8IGFuZ2xlICYmIGFuZ2xlIDw9IDMqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKFBJICAgICA8IGFuZ2xlICYmIGFuZ2xlIDw9IDUqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKDcqUEkvNCA8IGFuZ2xlICYmIGFuZ2xlIDw9ICAgMipQSSlcclxuICAgICAgICAgICAgICAgICAgICApIHlPZmZzZXQgKj0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50aW5nUG9zLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldENvbG9yKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZHJhdyhwb2ludGluZ1Bvcy5uYW1lLnBvcy5jb3B5KCkuZGl2KDIpLmFkZCh4T2Zmc2V0LCB5T2Zmc2V0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaGVhZFNpemUgLz0gMztcclxuXHJcbiAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgIHBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KHN0cm9rZVcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbGwoY29sb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SXHJcbiAgICAgICAgICAgICAgICBpZihpbml0aWFsUG9zICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlci50cmFuc2xhdGUoaW5pdGlhbFBvcy54LCBpbml0aWFsUG9zLnksIGluaXRpYWxQb3Mueik7XHJcbiAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlci5saW5lKDAsIDAsIDAsIHBvaW50aW5nUG9zLngsIHBvaW50aW5nUG9zLnksIHBvaW50aW5nUG9zLnopO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SIE5BTUVcclxuICAgICAgICAgICAgICAgIC8vIGlmKHBvaW50aW5nUG9zLm5hbWUgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGV4dChwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55LCBwb2ludGluZ1Bvcy56KTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgeGF4aXMgPSBWZWN0b3IuY3Jvc3MobmV3IFZlY3RvcigwLCAxLCAwKSwgcG9pbnRpbmdQb3MpO1xyXG4gICAgICAgICAgICAgICAgLy8geGF4aXMubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHlheGlzID0gVmVjdG9yLmNyb3NzKHBvaW50aW5nUG9zLCB4YXhpcyk7XHJcbiAgICAgICAgICAgICAgICAvLyB5YXhpcy5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAvLyBDYWxjdWxhdGUgcm90YXRpb24gbWF0cml4XHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgTSA9IFtbXSwgW10sIFtdXTtcclxuICAgICAgICAgICAgICAgIC8vIE1bMF1bMF0gPSB4YXhpcy54O1xyXG4gICAgICAgICAgICAgICAgLy8gTVswXVsxXSA9IHlheGlzLng7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzBdWzJdID0gcG9pbnRpbmdQb3MueDtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBNWzFdWzBdID0geGF4aXMueTtcclxuICAgICAgICAgICAgICAgIC8vIE1bMV1bMV0gPSB5YXhpcy55O1xyXG4gICAgICAgICAgICAgICAgLy8gTVsxXVsyXSA9IHBvaW50aW5nUG9zLnk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gTVsyXVswXSA9IHhheGlzLno7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzJdWzFdID0geWF4aXMuejtcclxuICAgICAgICAgICAgICAgIC8vIE1bMl1bMl0gPSBwb2ludGluZ1Bvcy56O1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIC8vIENhbGN1bGF0ZSBFdWxlciBhbmdsZXNcclxuICAgICAgICAgICAgICAgIC8vIGxldCB0aGV0YTEsIHRoZXRhMiwgdGhldGEsIHBzeTEsIHBzeTIsIHBzeSwgcGhpMSwgcGhpMiwgcGhpO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKE1bM11bMV0gIT0gLTEgJiYgTVszXVsxXSAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhldGExID0gLU1hdGguYXJjc2luKE1bM11bMV0pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoZXRhMiA9IE1hdGguUEkgLSB0aGV0YTE7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcHN5MSA9IE1hdGguYXRhbjIoTVszXVsyXSAvIE1hdGguY29zKHRoZXRhMSkpXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gY29uZShoZWFkU2l6ZSAqIDMsIGhlYWRTaXplICogNyk7XHJcbiAgICAgICAgICAgIHBvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWZWN0b3I7XHJcbiIsImNsYXNzIHBTVGV4dCB7XHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRleHQgTGFUZVggY29kZSAoaW5zZXJ0ICdcXHRleHR7VEVYVH0nIGZvciBwbGFpbiB0ZXh0KVxyXG4gICAgKiBAcGFyYW0gcG9zIHRleHQgcG9zaXRpb24gKGRlZmF1bHQgKDAsIDApKVxyXG4gICAgKiBAcGFyYW0gdGV4dFNpemUgdGV4dCBzaXplIG11bHRpcGxpZXIgKGRlZmF1bHQgMSlcclxuICAgICogQHBhcmFtIGNvbG9yIHRleHQgY29sb3IgKGRlZmF1bHQgd2hpdGUpXHJcbiAgICAqIEBwYXJhbSBzaG93SGl0Ym94IHRydWUgOiBzaG93IHRleHQgaGl0Ym94IChkZWZhdWx0IDogZmFsc2UpXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGV4dCwgcG9zID0gbmV3IFZlY3RvcigpLCB0ZXh0U2l6ZSA9IDEsIGNvbG9yID0gXCIjRkZGRkZGXCIsIHNob3dIaXRib3ggPSBmYWxzZSkge1xyXG4gICAgICAgIGlmKHdpbmRvdy5NYXRoSmF4ID09IHVuZGVmaW5lZClcclxuXHRcdFx0Y29uc29sZS5lcnJvcignWW91IG11c3QgaW1wb3J0IE1hdGhKYXguanMgPj0zLjAuMCBpbiBvcmRlciB0byB1c2UgVGV4dCBhbmQgVGV4IHN0cmluZ3MuJyk7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dFNpemUgICA9IHRleHRTaXplO1xyXG4gICAgICAgIHRoaXMuY29sb3IgICAgICA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMucG9zICAgICAgICA9IHBvcztcclxuICAgICAgICB0aGlzLnNob3dIaXRib3ggPSBzaG93SGl0Ym94O1xyXG5cclxuICAgICAgICB0aGlzLnNldFRleHQodGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIHRleHQgdG8gdGhlIHNjcmVlblxyXG4gICAgKiBAcGFyYW0gcG9zT3B0IEZvcmNlIHRleHQgcG9zaXRpb25cclxuICAgICovXHJcbiAgICBkcmF3KHBvc09wdCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuXHJcbiAgICAgICAgbGV0IHBvcyA9IGRyYXdlci5wbG90dGVyLmNvbXB1dGVGb3JYWVoodGhpcy5wb3MueCwgdGhpcy5wb3MueSk7XHJcbiAgICAgICAgaWYocG9zT3B0ICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcG9zID0gZHJhd2VyLnBsb3R0ZXIuY29tcHV0ZUZvclhZWihwb3NPcHQueCwgcG9zT3B0LnkpO1xyXG5cclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUoLXRoaXMuc3ZnSW1nLndpZHRoIC8gMiwgLXRoaXMuc3ZnSW1nLmhlaWdodCAvIDIpO1xyXG5cclxuICAgICAgICAgICAgaW1hZ2UodGhpcy5zdmdJbWcsIHBvcy54LCBwb3MueSwgdGhpcy5zdmdJbWcud2lkdGgsIHRoaXMuc3ZnSW1nLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnNob3dIaXRib3gpIHtcclxuICAgICAgICAgICAgICAgIGxldCBoID0gdGhpcy5zdmdJbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHcgPSB0aGlzLnN2Z0ltZy53aWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKHRoaXMuY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSAgICAsIHBvcy54ICsgdywgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSArIGgsIHBvcy54ICsgdywgcG9zLnkgKyBoKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSArIGgsIHBvcy54ICAgICwgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggKyB3LCBwb3MueSArIGgsIHBvcy54ICsgdywgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGFuZ2UgdGV4dCB2YWx1ZVxyXG4gICAgKi9cclxuICAgIHNldFRleHQodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcblxyXG4gICAgICAgIGxldCBzdmcgPSAnPHN2ZycgKyBNYXRoSmF4LnRleDJzdmcodGhpcy50ZXh0LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXkgOiB0cnVlLCBlbSA6IDEyLCBleCA6IDYsIGNvbnRhaW5lcldpZHRoIDogODAgKiA2LCBsaW5lV2lkdGggOiAxMDAwMDAsIHNjYWxlIDogMSB9XHJcbiAgICAgICAgKS5pbm5lckhUTUwuc3BsaXQoJzxzdmcnKVsxXS5zcGxpdCgnPC9zdmc+JylbMF0gKyAnPC9zdmc+JztcclxuXHJcbiAgICAgICAgc3ZnID0gc3ZnXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC88Zy9nICAgICAgICAgICAsICc8ZyBjb2xvcj1cIicgKyB0aGlzLmNvbG9yICsgJ1wiJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL3dpZHRoPVwiKC4qPylcIi8gLCAnd2lkdGg9XCInICArIHBhcnNlRmxvYXQoL3dpZHRoPVwiKC4qPylcIi8gLmV4ZWMoc3ZnKVsxXS5zcGxpdCgnZXgnKVswXSkgKiB0aGlzLnRleHRTaXplICsgJ2V4XCInKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvaGVpZ2h0PVwiKC4qPylcIi8sICdoZWlnaHQ9XCInICsgcGFyc2VGbG9hdCgvaGVpZ2h0PVwiKC4qPylcIi8uZXhlYyhzdmcpWzFdLnNwbGl0KCdleCcpWzBdKSAqIHRoaXMudGV4dFNpemUgKyAnZXhcIicpO1xyXG5cclxuICAgICAgICB0aGlzLnN2Z0ltZyA9IGxvYWRJbWFnZShVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtzdmddLCB7IHR5cGU6ICdpbWFnZS9zdmcreG1sJyB9KSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hhbmdlcyB0ZXh0IHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB4IG5ldyBYIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5IG5ldyBZIHBvc2l0aW9uXHJcbiAgICAqL1xyXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xyXG4gICAgICAgIHRoaXMucG9zLnggPSB4O1xyXG4gICAgICAgIHRoaXMucG9zLnkgPSB5O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGFuZ2VzIHRleHQgY29sb3JcclxuICAgICogQHBhcmFtIGNvbG9yIE5ldyBjb2xvclxyXG4gICAgKi9cclxuICAgIHNldENvbG9yKGNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1RleHQ7XHJcbiIsImNsYXNzIHBTRHJhd2VyIHtcclxuICAgIC8qKiBDb25zdHJ1Y3QgdGhlIG1haW4gcFNFbmdpbmUgZHJhd2VyICovXHJcbiAgICBjb25zdHJ1Y3RvcihwbG90dGVyKSB7XHJcbiAgICAgICAgdGhpcy5wbG90dGVyID0gbnVsbDsgLy8gc2V0IHdoZW4gbG9hZGVkIGluIHRoZSBQbG90dGVyIGNsYXNzXHJcblxyXG4gICAgICAgIC8qKiBTdGFjayBmb3IgaGFuZGVsaW5nIHJvdGF0aW9ucywgdHJhbnNsYXRpb25zLCBzY2FsZXMsIHB1bGwgYW5kIHBvcCBjb21tYW5kc1xyXG4gICAgICAgICogPT09IFNUUlVDVFVSRSA9PT1cclxuICAgICAgICAqIFsgTGV2ZWwgMFxyXG4gICAgICAgICogICAgIFsgbmV3IGxldmVsIHggb2YgZGVwdGhcclxuICAgICAgICAqICAgICAgICAgIHsgXFxuZXcgbGV2ZWwgeCsxIG9iamVjdCBmb3IgZWFjaCBvcGVyYXRpb24gaW5zaWRlIGEgcHVzaCgpLCBwb3AoKSBzZWN0aW9uXHJcbiAgICAgICAgKiAgICAgICAgICAgICAgdHlwZSA6ICd0JywgICAvLyB0IDogdHJhbnNsYXRpb24gLyByIDogcm90YXRpb24gLyBzIDogc2NhbGVcclxuICAgICAgICAqICAgICAgICAgICAgICB0IDogeyBcXHggOiAwLCB5IDogMH0sXHJcbiAgICAgICAgKiAgICAgICAgICAgICAgciA6IDAsXHJcbiAgICAgICAgKiAgICAgICAgICAgICAgcyA6IDFcclxuICAgICAgICAqICAgICAgICAgIH1cclxuICAgICAgICAqICAgICBdXHJcbiAgICAgICAgKiB9XHJcbiAgICAgICAgKiBcXE9ubHkgaGFuZGxlcyBhbmQgc2F2ZXMgdHJhbnNsYXRpb25zIGFuZCByb3RhdGlvbnNcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcclxuICAgICAgICB0aGlzLnN0YWNrUG9pbnRlciA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBDbGVhcnMgc3RhY2sgb24gZWFjaCB1cGRhdGUoKSAqL1xyXG4gICAgY2xlYXJTdGFjaygpIHtcclxuICAgICAgICB0aGlzLnN0YWNrID0gW107XHJcbiAgICAgICAgdGhpcy5zdGFja1BvaW50ZXIgPSBbXTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGFja0xldmVsID0gdGhpcy5zdGFjaztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyBhIG5ldyBzdGFjayBvcGVyYXRpb24gdG8gdGhlIGN1cnJlbnQgc3RhY2tcclxuICAgICogQHBhcmFtIHR5cGUgdCA6IHRyYW5zbGF0aW9uIC8gciA6IHJvdGF0aW9uIC8gcyA6IHNjYWxlXHJcbiAgICAqIEBwYXJhbSB0IFRyYW5zbGF0aW9uIGFtb3VudCAocmVxdWlyZWQpXHJcbiAgICAqIEBwYXJhbSByIFJvdGF0aW9uIGFtb3VudCAoZGVmYXVsdCAwKVxyXG4gICAgKiBAcGFyYW0gcyBTY2FsZSBhbW91bnQgKGRlZmF1bHQgMSlcclxuICAgICovXHJcbiAgICBwdXNoU3RhY2tPcGVyYXRpb24odHlwZSwgdCwgciA9IDAsIHMgPSAxKSB7XHJcbiAgICAgICAgbGV0IG0gPSBbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV07XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3QnOlxyXG4gICAgICAgICAgICAgICAgbSA9IFtbMSwgMCwgdC54XSwgWzAsIDEsIHQueV0sIFswLCAwLCAxXV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncic6XHJcbiAgICAgICAgICAgICAgICBtID0gW1tNYXRoLmNvcyhyKSwgLU1hdGguc2luKHIpLCAwXSwgW01hdGguc2luKHIpLCBNYXRoLmNvcyhyKSwgMF0sIFswLCAwLCAxXV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncyc6XHJcbiAgICAgICAgICAgICAgICBtID0gW1tzLCAwLCAwXSwgWzAsIHMsIDBdLCBbMCwgMCwgMV1dO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0Q3VycmVudFN0YWNrTGV2ZWwoKS5wdXNoKHsgbSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogUmV0dXJucyB0aGUgY3VycmVudCBzdGFjayBsZXZlbCAqL1xyXG4gICAgZ2V0Q3VycmVudFN0YWNrTGV2ZWwoKSB7XHJcbiAgICAgICAgbGV0IHNDdXJyID0gdGhpcy5zdGFjaztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhY2tQb2ludGVyLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICBzQ3VyciA9IHNDdXJyW3RoaXMuc3RhY2tQb2ludGVyW2ldXTtcclxuICAgICAgICByZXR1cm4gc0N1cnI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIENyZWF0ZXMgYW5kIGVudGVyIGluIGEgbmV3IHN0YWNrIGxldmVsICovXHJcbiAgICBlbnRlclN0YWNrTGV2ZWwoKSB7XHJcbiAgICAgICAgbGV0IHNDdXJyID0gdGhpcy5nZXRDdXJyZW50U3RhY2tMZXZlbCgpO1xyXG4gICAgICAgIHRoaXMuc3RhY2tQb2ludGVyLnB1c2goc0N1cnIubGVuZ3RoKTtcclxuICAgICAgICBzQ3Vyci5wdXNoKFtdKTtcclxuICAgIH1cclxuICAgIC8qKiBMZWF2ZXMgdGhlIGN1cnJlbnQgc3RhY2sgbGV2ZWwgKi9cclxuICAgIGV4aXRTdGFja0xldmVsKCkge1xyXG4gICAgICAgIGxldCBzQ3VyciA9IHRoaXMuc3RhY2s7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YWNrUG9pbnRlci5sZW5ndGggLSAxOyBpKyspXHJcbiAgICAgICAgICAgIHNDdXJyID0gc0N1cnJbdGhpcy5zdGFja1BvaW50ZXJbaV1dO1xyXG4gICAgICAgIHRoaXMuc3RhY2tQb2ludGVyLnBvcCgpO1xyXG4gICAgICAgIHNDdXJyLnBvcCgpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSBwb2ludCB0byB0aGUgc2NyZWVuXHJcbiAgICAqIEBwYXJhbSB4IFggc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHBvaW50KHgsIHkpIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHBvaW50KHYueCwgdi55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIGxpbmUgZnJvbSBvbmUgcG9pbnQgdG8gdGhlIG90aGVyIHRvIHRoZSBzY3JlZW5cclxuICAgICogQHBhcmFtIHgwIFggaW5pdGlhbCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkwIFkgaW5pdGlhbCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHgxIFggZW5kIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geTEgWSBlbmQgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGxpbmUoeDAsIHkwLCB4MSwgeTEpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4MCwgeTApO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgxLCB5MSk7XHJcbiAgICAgICAgbGluZSh2MC54LCB2MC55LCB2MS54LCB2MS55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IGFuZCBhZGQgbGluZSBkYXNoIHR5cGVcclxuICAgICogQHBhcmFtIGRhc2hTaXplIFNpemUgb2YgdGhlIGRhc2hlcyAoZGVmYXVsdCA1KVxyXG4gICAgKiBAcGFyYW0gZGFzaFNwYWNpbmcgU3BhY2UgYmV0d2VlbiB0aGUgZGFzaGVzIChkZWZhdWx0IDUpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldExpbmVEYXNoKGRhc2hTaXplID0gNSwgZGFzaFNwYWNpbmcgPSA1KSB7XHJcbiAgICAgICAgZHJhd2luZ0NvbnRleHQuc2V0TGluZURhc2goW2Rhc2hTaXplLCBkYXNoU3BhY2luZ10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDbGVhciB0aGUgbGluZSBkYXNoaW5nXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGNsZWFyTGluZURhc2goKSB7XHJcbiAgICAgICAgZHJhd2luZ0NvbnRleHQuc2V0TGluZURhc2goW10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGFuIGVsbGlwc2VcclxuICAgICogQHBhcmFtIHggWCBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gcnggWCBlbGxpcHNlIHJhZGl1c1xyXG4gICAgKiBAcGFyYW0gcnkgWSBlbGxpcHNlIHJhZGl1c1xyXG4gICAgKiBAcGFyYW0gYWJzIEFyZSByeCBhbmQgcnkgaW4gcGl4ZWxzIChkZWZhdWx0IGZhbHNlKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBlbGxpcHNlKHgsIHksIHJ4LCByeSwgYWJzID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuXHJcbiAgICAgICAgaWYocnkgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByeSA9IHJ4O1xyXG5cclxuICAgICAgICBpZighYWJzKSB7XHJcbiAgICAgICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHJ4LCByeSwgMCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmVsbGlwc2UoeCwgeSwgdjEueCAqIDIsIHYxLnkgKiAyLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBlbGxpcHNlKHYwLngsIHYwLnksIHJ4LCByeSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgY2lyY2xlXHJcbiAgICAqIEBwYXJhbSB4IFggY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHIgQ2lyY2xlIHJhZGl1c1xyXG4gICAgKiBAcGFyYW0gYWJzIElzIHIgaW4gcGl4ZWxzIChkZWZhdWx0IGZhbHNlKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBjaXJjbGUoeCwgeSwgciwgYWJzID0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGxpcHNlKHgsIHksIHIsIHIsIGFicyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSByZWN0YW5nbGVcclxuICAgICogQHBhcmFtIHggWCBib3R0b20gbGVmdCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBib3R0b20gbGVmdCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHcgUmVjdGFuZ2xlIHdpZHRoXHJcbiAgICAqIEBwYXJhbSBoIFJlY3RhbmdsZSBoZWlnaHRcclxuICAgICogQHBhcmFtIGFicyBBcmUgdyBhbmQgaCBpbiBwaXhlbHMgKGRlZmF1bHQgZmFsc2UpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHJlY3QoeCwgeSwgdywgaCwgYWJzID0gZmFsc2UpIHtcclxuICAgICAgICBpZighYWJzKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iZWdpblNoYXBlKClcclxuICAgICAgICAgICAgICAgICAgICAudmVydGV4KHggKyB3LCB5KVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCArIHcsIHkgKyBoKVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCAgICAsIHkgKyBoKVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCAgICAsIHkpXHJcbiAgICAgICAgICAgICAgICAuZW5kU2hhcGUoQ0xPU0UpO1xyXG5cclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHJlY3Qodi54LCB2LnksIHcsIGgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhd3MgYSBjaXJjbGUgYXJjIHVzaW5nIHRyaWdvbm9tZXRyaWMgb3JkZXJcclxuICAgICogQHBhcmFtIHggWCBzaW11bGF0aW9uIGNlbnRlciBjb29yZFxyXG4gICAgKiBAcGFyYW0geSBZIHNpbXVsYXRpb24gY2VudGVyIGNvb3JkXHJcbiAgICAqIEBwYXJhbSBzdGFydCBTdGFydGluZyBhbmdsZSAoaW4gcmFkaWFucylcclxuICAgICogQHBhcmFtIHN0YXJ0IEVuZGluZyBhbmdsZSAoaW4gcmFkaWFucylcclxuICAgICovXHJcbiAgICBhcmMoeCwgeSwgdywgaCwgc3RhcnQsIHN0b3ApIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGFyYyh2MC54LCB2MC55LCB2MS54LCB2MS55LCAtc3RvcCwgLXN0YXJ0KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgc3Ryb2tlIGNvbG9yXHJcbiAgICAqIEBwYXJhbSByIFJlZCB2YWx1ZSAoMCB0byAyNTUpLCBvciAncmdiKHIsIGcsIGIpJyBvciAncmdiYShyLCBnLCBiLCBhKSdcclxuICAgICogQHBhcmFtIGcgR3JlZW4gdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYiBCbHVlIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHBhcmFtIGEgQWxwaGEgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzdHJva2UociwgZywgYiwgYSkge1xyXG4gICAgICAgIGlmKGEgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmKGIgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihnID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2Uocik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlKHIsIGcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHN0cm9rZShyLCBnLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBzdHJva2UoYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHN0cm9rZSB3ZWlnaHRcclxuICAgICogQHBhcmFtIG4gU3Ryb2tlIHdlaWdodCAoaW50ZWdlcilcclxuICAgICovXHJcbiAgICBzdHJva2VXZWlnaHQobikge1xyXG4gICAgICAgIHN0cm9rZVdlaWdodChuKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IGZpbGwgY29sb3JcclxuICAgICogQHBhcmFtIHIgUmVkIHZhbHVlICgwIHRvIDI1NSksIG9yICdyZ2IociwgZywgYiknIG9yICdyZ2JhKHIsIGcsIGIsIGEpJ1xyXG4gICAgKiBAcGFyYW0gZyBHcmVlbiB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBiIEJsdWUgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYSBBbHBoYSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGZpbGwociwgZywgYiwgYSkge1xyXG4gICAgICAgIGlmKGEgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmKGIgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihnID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBmaWxsKHIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGwociwgZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZmlsbChyLCBnLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBmaWxsKGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEJlZ2luIHNoYXBlIC1cclxuICAgICogRHJhdyBzaGFwZXMgdXNpbmcgdmVydGljZXMgKGJlZ2luU2hhcGUoKSB0aGVuIG11bHRpcGxlIHZlcnRleCh4LCB5KSB0aGVuIGNsb3NlU2hhcGUoKSlcclxuICAgICogQHBhcmFtIFRZUEUgU2hhcGUgVHlwZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBiZWdpblNoYXBlKFRZUEUpIHtcclxuICAgICAgICBiZWdpblNoYXBlKFRZUEUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBCZXppZXIgQ3VydmVcclxuICAgICogQHBhcmFtIHgxXHJcbiAgICAqIEBwYXJhbSB5MVxyXG4gICAgKiBAcGFyYW0geDJcclxuICAgICogQHBhcmFtIHkyXHJcbiAgICAqIEBwYXJhbSB4M1xyXG4gICAgKiBAcGFyYW0geTNcclxuICAgICogQHBhcmFtIHg0XHJcbiAgICAqIEBwYXJhbSB5NFxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBiZXppZXIoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0KSB7XHJcblx0XHRsZXQgcDEgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxKTtcclxuXHRcdGxldCBwMiA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4MiwgeTIpO1xyXG5cdFx0bGV0IHAzID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5jb21wdXRlRm9yWFlaKHgzLCB5Myk7XHJcblx0XHRsZXQgcDQgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDQsIHk0KTtcclxuICAgICAgICBiZXppZXIocDEueCwgcDEueSwgcDIueCwgcDIueSwgcDMueCwgcDMueSwgcDQueCwgcDQueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZSBkcmF3aW5nIGNvb3JkaW5hdGVzIHRvIHgseVxyXG4gICAgKiBAcGFyYW0gWCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIFkgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHZlcnRleCh4LCB5KSB7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICB2ZXJ0ZXgodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDbG9zZSBzaGFwZSAtXHJcbiAgICAqIERyYXcgc2hhcGVzIHVzaW5nIHZlcnRpY2VzIChiZWdpblNoYXBlKCkgdGhlbiBtdWx0aXBsZSB2ZXJ0ZXgoeCwgeSkgdGhlbiBjbG9zZVNoYXBlKCkpXHJcbiAgICAqIEBwYXJhbSBUWVBFIFNoYXBlIFR5cGUgKENMT1NFRCB0byBjbG9zZSBzaGFwZSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZW5kU2hhcGUoVFlQRSkge1xyXG4gICAgICAgIGVuZFNoYXBlKFRZUEUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFB1c2ggdmVydGljZXMgKHVzZSBwdXNoKCkgdGhlbiBwb3AoKSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcHVzaCgpIHtcclxuICAgICAgICB0aGlzLmVudGVyU3RhY2tMZXZlbCgpO1xyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUG9wIHZlcnRpY2VzICh1c2UgcHVzaCgpIHRoZW4gcG9wKCkpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHBvcCgpIHtcclxuICAgICAgICB0aGlzLmV4aXRTdGFja0xldmVsKCk7XHJcbiAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZSBkcmF3aW5nIGNvb3JkaW5hdGVzIGZyb20geCx5XHJcbiAgICAqIEBwYXJhbSBYIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gWSBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnB1c2hTdGFja09wZXJhdGlvbigndCcsIHt4LCB5fSwgMCwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZSBkcmF3aW5nIGNvb3JkaW5hdGVzXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBUaGUgcm90YXRpb24gYW5nbGUgaW4gcmFkaWFuc1xyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnB1c2hTdGFja09wZXJhdGlvbigncicsIHt4IDogMCwgeSA6IDB9LCBhbmdsZSwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNjYWxlcyB0aGUgbmV4dCBzaGFwZXMgdG8gYnkgZHJhd24gYnkgYSBmYWN0b3JcclxuICAgICogQHBhcmFtIGZhYyBUaGUgZmFjdG9yIG9mIHRoZSBzY2FsZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzY2FsZShmYWMpIHtcclxuICAgICAgICB0aGlzLnB1c2hTdGFja09wZXJhdGlvbigncycsIHt4IDogMCwgeSA6IDB9LCAwLCBmYWMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogUmVtb3ZlIHN0cm9rZSBvZiB0aGUgc2hhcGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbm9TdHJva2UoKSB7XHJcbiAgICAgICAgbm9TdHJva2UoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogTm8gZmlsbCB0aGUgc2hhcGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbm9GaWxsKCkge1xyXG4gICAgICAgIG5vRmlsbCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0RyYXdlcjtcclxuIiwiY2xhc3MgcFNBbmltYXRpb25IYW5kbGVyIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IGFic3RyYWN0IGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBMZW5ndGggb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBDdXN0b20gYW5pbWF0aW9uIGRhdGFzXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICB0aGlzLnNjYWxlVGltZSAgID0gMTtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IDA7XHJcbiAgICAgICAgdGhpcy5kYXRhcyAgICAgICA9IGRhdGFzO1xyXG4gICAgICAgIHRoaXMudGltZUxlbmd0aCAgPSB0aW1lTGVuZ3RoO1xyXG4gICAgICAgIHRoaXMubGFzdEtleSAgICAgPSB0aGlzLmdldEtleSh0aGlzLnVwZGF0ZSkgLyB0aGlzLnNjYWxlVGltZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogU3RhcnQgKG9yIHJlc3RhcnQpIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTdG9wIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBmIEN1cnJlbnQgZHJhd2luZyBhbmltYXRpb24gZnVuY3Rpb25cclxuICAgICogQHJldHVybiBmKGR0KVxyXG4gICAgKi9cclxuICAgIGdldEtleShmKSB7XHJcbiAgICAgICAgbGV0IGR0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDAgLSB0aGlzLmluaXRpYWxUO1xyXG5cclxuICAgICAgICBpZihkdCA+IHRoaXMudGltZUxlbmd0aClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluYWxEcmF3KHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RLZXkgPSBmKGR0LCB0aGlzKSAvIHRoaXMuc2NhbGVUaW1lO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0S2V5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBjdXJyZW50IHVwZGF0ZSBrZXkgKi9cclxuICAgIHVwZGF0ZUtleSgpIHsgcmV0dXJuIHRoaXMuZ2V0S2V5KHRoaXMudXBkYXRlKTsgfVxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGN1cnJlbnQgZHJhdyBrZXkgKi9cclxuICAgIGRyYXdLZXkgICgpIHsgcmV0dXJuIHRoaXMuZ2V0S2V5KHRoaXMuZHJhdyAgKTsgfVxyXG5cclxuICAgIC8qKiBVcGRhdGUgbG9vcCBmb3Igb3ZlcndyaXRpbmcgKi9cclxuICAgIHVwZGF0ZSgpIHt9XHJcbiAgICAvKiogRHJhdyBsb29wIGZvciBvdmVyd3JpdGluZyAqL1xyXG4gICAgZHJhdyAgKCkge31cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNBbmltYXRpb25IYW5kbGVyO1xyXG4iLCJpbXBvcnQgcFNBbmltYXRpb25IYW5kbGVyIGZyb20gJy4vcFNBbmltYXRpb25IYW5kbGVyJztcclxuXHJcbmNsYXNzIHBTSW50ZXJwb2xhdGlvbiBleHRlbmRzIHBTQW5pbWF0aW9uSGFuZGxlciB7XHJcbiAgICAvKipcclxuICAgICogSW50ZXJwb2xhdGlvbiBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBUaGUgZGF0YXMgdG8gYmUgaW50ZXJwb2xhdGVkICdbUG9pbnQxLCBQb2ludDIsIC4uLl0nXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICBzdXBlcih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaSA9IC0xO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNoYXBlID0gdGhpcy5uZXh0U2hhcGUoZGF0YXMpO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2FsRHQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTZXQgc2hhcGUgYmFzZWQgb24gYW5pbWF0aW9uIGFuZCBwb2ludHMgKi9cclxuICAgIG5leHRTaGFwZShwb2ludHMpIHtcclxuICAgICAgICB0aGlzLmkrKztcclxuXHJcbiAgICAgICAgbGV0IGogPSB0aGlzLmkgKyAxO1xyXG4gICAgICAgIGlmKGogPiBwb2ludHMubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgaiA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBbcG9pbnRzW3RoaXMuaV0sIHBvaW50c1tqXV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyB1cGRhdGUga2V5XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0LCB0aCkgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBkcmF3IGtleVxyXG4gICAgKi9cclxuICAgIGRyYXcoZHQsIHRoKSB7XHJcbiAgICAgICAgbGV0IGMgPSB0aC50aW1lTGVuZ3RoIC8gdGguZGF0YXMubGVuZ3RoO1xyXG4gICAgICAgIGlmKCEodGguY3VycmVudFNoYXBlWzBdID09IHVuZGVmaW5lZCB8fCB0aC5jdXJyZW50U2hhcGVbMV0gPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICBpZihkdCAtIHRoLmxvY2FsRHQgPj0gYykge1xyXG4gICAgICAgICAgICAgICAgdGguY3VycmVudFNoYXBlID0gdGgubmV4dFNoYXBlKHRoLmRhdGFzKTtcclxuICAgICAgICAgICAgICAgIHRoLmxvY2FsRHQgKz0gYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGguZHJhd0N1cnJlbnRTaGFwZShcclxuICAgICAgICAgICAgdGguZGF0YXMsXHJcbiAgICAgICAgICAgIChpLCBsdCwgdGksIGMpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwZXJjZW50ID0gMTtcclxuICAgICAgICAgICAgICAgIGlmKGkgPT0gdGkpXHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IGx0IC8gYztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwZXJjZW50O1xyXG4gICAgICAgICAgICB9LCB0aCwgdGguaSArIDEsIGR0IC0gdGgubG9jYWxEdCwgYyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIGZpbmFsIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqL1xyXG4gICAgZmluYWxEcmF3KHRoKSB7XHJcbiAgICAgICAgdGhpcy5kcmF3Q3VycmVudFNoYXBlKHRoaXMuZGF0YXMsICgpID0+IDEsIHRoaXMsIHRoaXMuZGF0YXMubGVuZ3RoLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBjdXJyZW50IHNoYXBlIG9uIHNjcmVlblxyXG4gICAgKiBAcGFyYW0gZCB0aGlzLmRhdGFzXHJcbiAgICAqIEBwYXJhbSBwZXJjZW50RnVuY3Rpb24gQ3VycmVudCBhbmltYXRpb24gZ2V0IHBlcmNlbnQgZnVuY3Rpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcGFyYW0gbWF4SSBNYXggcG9pbnRzIGNvdW50XHJcbiAgICAqIEBwYXJhbSBsdCBDdXJyZW50IHRpbWUgdmFsdWVcclxuICAgICogQHBhcmFtIGMgRmluYWwgdGltZSB2YWx1ZSAvIG1heCBwb2ludHMgY291bnRcclxuICAgICovXHJcbiAgICBkcmF3Q3VycmVudFNoYXBlKGQsIHBlcmNlbnRGdW5jdGlvbiwgdGgsIG1heEksIGx0LCBjKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhJOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSBwZXJjZW50RnVuY3Rpb24oaSwgbHQsIHRoLmksIGMpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG4gPSBpICsgMTtcclxuICAgICAgICAgICAgaWYobiA+PSBkLmxlbmd0aCkgbiA9IDA7XHJcblxyXG4gICAgICAgICAgICBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KDMpXHJcbiAgICAgICAgICAgICAgICAuc3Ryb2tlKDI1NSlcclxuICAgICAgICAgICAgICAgIC5saW5lKFxyXG4gICAgICAgICAgICAgICAgICAgIGRbaV0ucG9zLngsXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueSxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy54ICsgKGRbbl0ucG9zLnggLSBkW2ldLnBvcy54KSAqIHBlcmNlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueSArIChkW25dLnBvcy55IC0gZFtpXS5wb3MueSkgKiBwZXJjZW50XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNJbnRlcnBvbGF0aW9uO1xyXG4iLCJpbXBvcnQgcFNBbmltYXRpb25IYW5kbGVyIGZyb20gJy4vcFNBbmltYXRpb25IYW5kbGVyJztcclxuXHJcbmNsYXNzIHBTRWFzZUluT3V0Q3ViaWMgZXh0ZW5kcyBwU0FuaW1hdGlvbkhhbmRsZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIEVhc2UgaW4gYW5kIG91dCBjdWJpYyBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBNaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlcyAneyBtaW4gOiAwLCBtYXggOiAxIH0nXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICBzdXBlcih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZGF0YXMubWluID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5kYXRhcy5taW4gPSAwO1xyXG4gICAgICAgIGlmKHRoaXMuZGF0YXMubWF4ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5kYXRhcy5tYXggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gdGltZSBDdXJyZW50IHRpbWUgb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcga2V5XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKHRpbWUsIHRoKSB7XHJcbiAgICAgICAgbGV0IHQgPSB0aW1lIC8gdGgudGltZUxlbmd0aDtcclxuICAgICAgICBpZih0IDwgMC41KVxyXG4gICAgICAgICAgICByZXR1cm4gKDIgKiB0ICogdCkgKiAodGguZGF0YXMubWF4IC0gdGguZGF0YXMubWluKSArIHRoLmRhdGFzLm1pbjtcclxuICAgICAgICByZXR1cm4gKC0xICsgKDQgLSAyICogdCkgKiB0KSAqICh0aC5kYXRhcy5tYXggLSB0aC5kYXRhcy5taW4pICsgdGguZGF0YXMubWluO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gdGltZSBDdXJyZW50IHRpbWUgb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgZHJhdyBrZXlcclxuICAgICovXHJcbiAgICBkcmF3KGR0LCB0KSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgZmluYWwgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBmaW5hbERyYXcodGgpIHtcclxuICAgICAgICByZXR1cm4gdGguZGF0YXMubWF4O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0Vhc2VJbk91dEN1YmljO1xyXG4iLCJpbXBvcnQgcFNJbnRlcnBvbGF0aW9uICBmcm9tICcuL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uJztcclxuaW1wb3J0IHBTRWFzZUluT3V0Q3ViaWMgZnJvbSAnLi9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMnO1xyXG5cclxuY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gYW5pbWF0aW9uTmFtZSBOYW1lIG9mIHRoZSBhbmltYXRpb24gKCdlYXNlSW5PdXRDdWJpYycsICdpbnRlcnBvbGF0aW9uJylcclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggTGVuZ3RoIG9mIHRoZSBhbmltYXRpb24gaW4gc2Vjb25kcyAoZGVmYXVsdCA6IDEpXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBPcHRpb25hbCBwYXJhbWV0ZXIgKHNlZSBzcGVjaWZpYyBhbmltYXRpb24gZm9yIGFuaW1hdGlvbiBpbmZvcm1hdGlvbnMpXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIG5ldyhhbmltYXRpb25OYW1lLCB0aW1lTGVuZ3RoID0gMSwgZGF0YXMgPSB7fSkge1xyXG4gICAgICAgIGlmKCFhbmltYXRpb25OYW1lKVxyXG4gICAgICAgICAgICBhbmltYXRpb25OYW1lID0gJ2Vhc2VJbk91dEN1YmljJztcclxuXHJcbiAgICAgICAgc3dpdGNoIChhbmltYXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Vhc2VJbk91dEN1YmljJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgcFNFYXNlSW5PdXRDdWJpYyh0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2ludGVycG9sYXRpb24nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwU0ludGVycG9sYXRpb24odGltZUxlbmd0aCwgZGF0YXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQW5pbWF0aW9uO1xyXG4iLCJpbXBvcnQgJy4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcblxyXG5jbGFzcyBwU1Bsb3R0ZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBzaW11bGF0b3IgTWFpbiBFbmdpbmUgc2ltdWxhdG9yXHJcbiAgICAqIEBwYXJhbSBkcmF3ZXIgTWFpbiBFbmdpbmUgZHJhd2VyIGluc3RhbmNlXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc2ltdWxhdG9yLCBkcmF3ZXIpIHtcclxuICAgICAgICB0aGlzLnNpbXVsYXRvciA9IHNpbXVsYXRvcjtcclxuICAgICAgICB0aGlzLmRyYXdlciAgICA9IGRyYXdlcjtcclxuICAgICAgICB0aGlzLm9iamVjdHNMICA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdlci5wbG90dGVyID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVXBkYXRlIG1haW4gbG9vcFxyXG4gICAgKiBAcGFyYW0gZHQgRGVsdGEgdGltZSBzaW5jZSBsYXN0IHVwZGF0ZSAoaW4gc2Vjb25kcylcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB0aGlzLmRyYXdlci5jbGVhclN0YWNrKCk7IC8vIENsZWFycyBkcmF3ZXIgciwgdCwgcyBxdWV1ZVxyXG5cclxuICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgbGlnaHRzKCk7XHJcbiAgICAgICAgICAgIG9yYml0Q29udHJvbCg1LCA1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzTC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzTFtpXS51cGRhdGUoZHQsIHRoaXMub2JqZWN0c0wpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIERyYXcgbWFpbiBsb29wICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBwbENvbmYgPSB0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXI7XHJcbiAgICAgICAgbGV0IGJnICAgICA9IHBsQ29uZi5iYWNrZ3JvdW5kQ29sb3IuY29sb3I7XHJcblxyXG4gICAgICAgIGlmKHBsQ29uZi5iYWNrZ3JvdW5kQ29sb3IuZHJhdylcclxuICAgICAgICAgICAgYmFja2dyb3VuZChiZy5yLCBiZy5nLCBiZy5iKTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyBldmVyeSBvYmplY3QgdG8gdGhlIHNjcmVlblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzTC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzTFtpXS5kcmF3KHRoaXMuZHJhd2VyKTtcclxuXHJcblxyXG4gICAgICAgIC8vIERyYXcgdGhlIGdyaWRcclxuICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuZGlzcGxheUdyaWQpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zaW11bGF0b3IuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGUoMTAwLCAxMCwgMCwgMCwgMCwgMjAsIDAsIC00MCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UocGxDb25mLmdyaWRDb2xvci5yLCBwbENvbmYuZ3JpZENvbG9yLmcsIHBsQ29uZi5ncmlkQ29sb3IuYiwgcGxDb25mLmdyaWRDb2xvci5hKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMC41KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgeVMgPSBNYXRoLnJvdW5kKGhlaWdodCAvIHBsQ29uZi5zY2FsZS55IC8gMik7XHJcbiAgICAgICAgICAgICAgICBpZighcGxDb25mLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgICAgICB5UyA9IHBsQ29uZi5zY2FsZS55O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAtcGxDb25mLnNjYWxlLnggLSAxOyBpIDwgcGxDb25mLnNjYWxlLnggKyAxOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IC15UyAtIDE7IGogPCB5UyArIDE7IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIucmVjdChpICsgcGxDb25mLm9mZnNldC54LCBqICsgcGxDb25mLm9mZnNldC55LCAxLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UocGxDb25mLmdyaWRDb2xvci5yLCBwbENvbmYuZ3JpZENvbG9yLmcsIHBsQ29uZi5ncmlkQ29sb3IuYiwgcGxDb25mLmdyaWRDb2xvci5hICsgMC4zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMilcclxuICAgICAgICAgICAgICAgICAgICAubGluZSgtcGxDb25mLnNjYWxlLnggKyBwbENvbmYub2Zmc2V0LnggLSAxLCAwLCBwbENvbmYuc2NhbGUueCArIHBsQ29uZi5vZmZzZXQueCArIDEsIDApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZighcGxDb25mLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5saW5lKDAsIC1wbENvbmYuc2NhbGUueSAtIDEsIDAsIHBsQ29uZi5zY2FsZS55ICsgMSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIubGluZSgwLCAteVMgLSAxLCAwLCB5UyArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEpXHJcbiAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMC41KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDb21wdXRlIHRoZSBYIGFuZCBZIHBpeGVsIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBkcmF3aW5nIHBhcmFtZXRlcnNcclxuICAgICogQHBhcmFtIHhSZWwgWCByZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geVJlbCBZIHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB6UmVsIFogcmVsYXRpdmUgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHVzZU9mZnNldCBDYWxjdWxhdGUgd2l0aCBzaW11bGF0aW9uIG9mZnNldHMgKGRlZmF1bHQgOiB0cnVlKVxyXG4gICAgKiBAcmV0dXJuIHtYLCBZLCBafSBvYmplY3RcclxuICAgICovXHJcbiAgICBjb21wdXRlRm9yWFlaKHhSZWwsIHlSZWwsIHpSZWwsIHVzZU9mZnNldCA9IHRydWUpIHtcclxuICAgICAgICBsZXQgYyA9IHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuXHJcbiAgICAgICAgLy8gPT09IFB1c2goKSBhbmQgcG9wKCkgZWZmZWN0cyAob25seSBjdXJyZW50bHkgd29ya3MgaW4gMkQpID09PVxyXG4gICAgICAgIGlmKCFjLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuc2ltdWxhdG9yLnBsb3R0ZXIuZHJhd2VyLnN0YWNrO1xyXG4gICAgICAgICAgICBsZXQgY3Vyck1hdHJpeCA9IFtbMSwgMCwgMF0sIFswLCAxLCAwXSwgWzAsIDAsIDFdXTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2VTdGFjayhzLCBtdWx0TWF0cml4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShzIGluc3RhbmNlb2YgQXJyYXkpKSB7IC8vIEZvdW5kIG9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyTWF0cml4ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJNYXRyaXggPSBzLm07XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHMubSAqIGN1cnJNYXRyaXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyck1hdHJpeCA9IG11bHRNYXRyaXgoY3Vyck1hdHJpeCwgcy5tKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcdHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgcmVjdXJzZVN0YWNrKHNbaV0sIG11bHRNYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZWN1cnNlU3RhY2soc3RhY2ssIHRoaXMubXVsdE1hdHJpeCk7XHJcbiAgICAgICAgICAgIGxldCB4UmVsVG1wID0geFJlbDtcclxuICAgICAgICAgICAgeFJlbCA9IHhSZWwgKiBjdXJyTWF0cml4WzBdWzBdICsgeVJlbCAqIGN1cnJNYXRyaXhbMF1bMV0gKyBjdXJyTWF0cml4WzBdWzJdO1xyXG4gICAgICAgICAgICB5UmVsID0geFJlbFRtcCAqIGN1cnJNYXRyaXhbMV1bMF0gKyB5UmVsICogY3Vyck1hdHJpeFsxXVsxXSArIGN1cnJNYXRyaXhbMV1bMl07XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gPT09IENvbXB1dGVzIGNvb3JkaW5hdGVzIGluIHBpeGVscyA9PT1cclxuICAgICAgICBpZighdXNlT2Zmc2V0ICYmICFjLmlzXzNEICYmIGMuc3F1YXJlQnlYKSB7XHJcbiAgICAgICAgICAgIGxldCB2MCA9IHRoaXMuY29tcHV0ZUZvclhZWigwLCAwLCAwKTtcclxuICAgICAgICAgICAgbGV0IHYxID0gdGhpcy5jb21wdXRlRm9yWFlaKHhSZWwsIHlSZWwsIHpSZWwpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgICAgICB2MS54IC0gdjAueCxcclxuICAgICAgICAgICAgICAgIHYxLnkgLSB2MC55LFxyXG4gICAgICAgICAgICAgICAgdjEueiAtIHYwLnpcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWMuaXNfM0QpIHtcclxuICAgICAgICAgICAgbGV0IHYgPSBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICAgICAgKCh4UmVsIC0gYy5vZmZzZXQueCkgLyBjLnNjYWxlLnggKyAxKSAqIHdpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAoKHhSZWwgKyBjLm9mZnNldC56KSAvIGMuc2NhbGUueiArIDEpICogd2lkdGggLyAyXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpZighYy5zcXVhcmVCeVgpXHJcbiAgICAgICAgICAgICAgICB2LnkgPSAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLnkgKyAxKSAqIGhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHYueSA9ICgoLXlSZWwgKyBjLm9mZnNldC55KSAvIGMuc2NhbGUueCkgICAgICogd2lkdGggIC8gMiArIGhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIDNEXHJcbiAgICAgICAgICAgIC8vIDM2MCB4IDM2MCA6IGdyaWQgc2l6ZVxyXG4gICAgICAgICAgICBsZXQgZmFjID0gMTgwICogMC4yODtcclxuICAgICAgICAgICAgbGV0IHYgPSBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICAgICAgKCggeFJlbCArIGMub2Zmc2V0LngpIC8gYy5zY2FsZS54KSAqIGZhYyxcclxuICAgICAgICAgICAgICAgICgoLXlSZWwgKyBjLm9mZnNldC55KSAvIGMuc2NhbGUueSkgKiBmYWMsXHJcbiAgICAgICAgICAgICAgICAoKCB6UmVsICsgYy5vZmZzZXQueikgLyBjLnNjYWxlLnopICogZmFjXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDb21wdXRlIHRoZSBYIGFuZCBZIHBsb3QgcG9zaXRpb24gYmFzZWQgb24gdGhlIHBpeGVsIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB4UmVsIFggcGl4ZWwgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHlSZWwgWSBwaXhlbCBwb3NpdGlvblxyXG4gICAgKiBAcmV0dXJuIHtYLCBZfSBvYmplY3RcclxuICAgICovXHJcbiAgICBjb21wdXRlRm9yWFlGcm9tUGl4ZWwoeCwgeSkge1xyXG4gICAgICAgIGxldCBjID0gX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyO1xyXG4gICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcigoKHggKiAyKSAvIHdpZHRoIC0gMSkgKiBjLnNjYWxlLnggKyBjLm9mZnNldC54KTtcclxuXHJcbiAgICAgICAgaWYoYy5zcXVhcmVCeVgpXHJcbiAgICAgICAgICAgIHYueSA9IC0oKCh5ICogMikgLyBoZWlnaHQgLSAxKSAgICAgICAgICAgKiBjLnNjYWxlLnkgLSBjLm9mZnNldC55KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHYueSA9IC0oKCgoeSAtIDIgKiBoZWlnaHQpICogMikgLyB3aWR0aCkgKiBjLnNjYWxlLnkgLSBjLm9mZnNldC55KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJucyBjID0gYS5iIChzdXBwb3NlIHRoYXQgYSBhbmQgYiBhcmUgdGhlIHNhbWUgc2l6ZSlcclxuICAgIG11bHRNYXRyaXgoYSwgYikge1xyXG4gICAgICAgIGxldCBjID0gW1swLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF1dO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNbaV1bal0gPSBhW2ldWzBdKmJbMF1bal1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhW2ldWzFdKmJbMV1bal1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhW2ldWzJdKmJbMl1bal07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTUGxvdHRlcjtcclxuIiwiaW1wb3J0IHBTUGxvdHRlciAgZnJvbSAnLi8uLi9kcmF3ZXIvUGxvdHRlcic7XHJcbmltcG9ydCBwU0RyYXdlciAgIGZyb20gJy4vLi4vZHJhd2VyL0RyYXdlcic7XHJcbmltcG9ydCBwUzNERHJhd2VyIGZyb20gJy4vLi4vZHJhd2VyLzNERHJhd2VyJztcclxuaW1wb3J0IHBTUmVjb3JkZXIgZnJvbSAnLi8uLi91dGlsaXRpZXMvUmVjb3JkZXInO1xyXG5cclxuY2xhc3MgcFNpbXVsYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyAgICAgICAgID0ge307XHJcbiAgICAgICAgdGhpcy5iZWdpblRpbWUgICAgICA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5sYXN0RHJhd1RpbWUgICA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlnLmVuZ2luZSAgPSB0aGlzLmdldERlZmF1bHRFbmdpbmVDb25maWcoKTtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jdXN0b20gID0ge307XHJcblxyXG4gICAgICAgIHdpbmRvdy5nZXRDdXN0b21Db25maWcgPSB0aGlzLmdldEN1c3RvbUNvbmZpZztcclxuICAgICAgICB3aW5kb3cuZ2V0RW5naW5lQ29uZmlnID0gdGhpcy5nZXRFbmdpbmVDb25maWc7XHJcblxyXG4gICAgICAgIHRoaXMuZHRNb3kgICA9IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXIucm9sbGJhY2tDb250cm9sLm1pbmltYWxVcGRhdGVGUFM7XHJcbiAgICAgICAgdGhpcy5kdFRvdGFsID0gMDtcclxuICAgICAgICB0aGlzLmR0Q291bnQgPSAwO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiogSW5zdGFuY2lhdGUgdGhlIHBTaW11bGF0b3IgKi9cclxuICAgIGluc3RhbmNpYXRlKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5wcmVSdW5TaW11bGF0b3IodGhpcyk7IC8vIHByZW1haW4gZnVuY3Rpb25cclxuICAgICAgICB9IGNhdGNoKGUpIHt9IC8vIG5vdCBmb3VuZFxyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVA1SW5zdGFuY2UoKTtcclxuICAgICAgICBpZighdGhpcy5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgc2V0QXR0cmlidXRlcygnYW50aWFsaWFzJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGxvdHRlciA9IG5ldyBwU1Bsb3R0ZXIodGhpcywgbmV3IHBTRHJhd2VyKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGxvdHRlciA9IG5ldyBwU1Bsb3R0ZXIodGhpcywgbmV3IHBTM0REcmF3ZXIoKSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjb3JkZXIgPSBuZXcgcFNSZWNvcmRlcigpO1xyXG5cclxuICAgICAgICB0aGlzLm1vdXNlUG9zID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWUZyb21QaXhlbChtb3VzZVgsIG1vdXNlWSk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5ydW5TaW11bGF0b3IodGhpcyk7IC8vIG1haW4gZnVuY3Rpb25cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHA1IGluc3RhbmNlIGFuZCBjcmVhdGVzIGxvb3BzIGZvciB0aGUgc2ltdWxhdGlvbiAqL1xyXG4gICAgY3JlYXRlUDVJbnN0YW5jZSgpIHtcclxuICAgICAgICBsZXQgcCA9IHRoaXMuZ2V0Q2FudmFzUHJvcG9ydGlvbnModGhpcy5jb25maWcuZW5naW5lLndpbmRvdy5wcm9wb3J0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmNvbmZpZy5lbmdpbmUucGxvdHRlci5pc18zRClcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjcmVhdGVDYW52YXMocC53LCBwLmgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjcmVhdGVDYW52YXMocC53LCBwLmgsIFdFQkdMKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMucGFyZW50KHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXIuZGl2SWQpO1xyXG5cclxuICAgICAgICBsZXQgcnUgPSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyO1xyXG4gICAgICAgIGlmKHJ1LlVQREFURV9GUFMgPj0gcnUuRFJBV19GUFMpIGZyYW1lUmF0ZShydS5VUERBVEVfRlBTKTtcclxuICAgICAgICBlbHNlIGNvbnNvbGUuZXJyb3IoJ1RoZSBVcGRhdGVzIEZQUyBtdXN0IGJlIHN1cGVyaW9yIGFzIHRoZSBEcmF3cyBGUFMuJylcclxuXHJcblxyXG4gICAgICAgIC8vIHJ1bnMgZXZlcnkgdGltZSBpdCdzIHBvc3NpYmxlXHJcbiAgICAgICAgd2luZG93LmRyYXcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHMgICAgICAgICAgICA9IF9wU2ltdWxhdGlvbkluc3RhbmNlO1xyXG4gICAgICAgIFx0bGV0IGN1cnJlbnRUaW1lICA9IERhdGUubm93KCk7XHJcbiAgICAgICAgXHRsZXQgZHQgICAgICAgICAgID0gKGN1cnJlbnRUaW1lIC0gcy5sYXN0VXBkYXRlVGltZSkgLyAxMDAwO1xyXG4gICAgICAgICAgICBsZXQgY3JpdGlxRHQgICAgID0gcy5kdE1veSArIHMuZHRNb3kgKiBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnJvbGxiYWNrQ29udHJvbC5tYXhTdGFuZGFyZERldmlhdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHMubW91c2VQb3MgPSBzLnBsb3R0ZXIuY29tcHV0ZUZvclhZRnJvbVBpeGVsKG1vdXNlWCwgbW91c2VZKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCFzLnJlY29yZGVyLnJ1bm5pbmcgfHwgKHMucmVjb3JkZXIucnVubmluZyAmJiAhcy5yZWNvcmRlci5mcmFtZUJsb2NrZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkdCA+IGNyaXRpcUR0KVxyXG4gICAgICAgICAgICAgICAgICAgIGR0ID0gcy5kdE1veTtcclxuICAgICAgICAgICAgXHRzLmxhc3RVcGRhdGVUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIFx0cy5wbG90dGVyLnVwZGF0ZShkdCAqIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIuc2ltdWxhdGlvblNwZWVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocy5yZWNvcmRlci5ydW5uaW5nICYmICFzLnJlY29yZGVyLnBhdXNlTW9kZSlcclxuICAgICAgICAgICAgICAgICAgICBzLnJlY29yZGVyLnNuYXBzaG90KGR0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50VGltZSAtIHMubGFzdERyYXdUaW1lID49IDEgLyBzLmNvbmZpZy5lbmdpbmUucnVubmVyLkRSQVdfRlBTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZHQgPD0gY3JpdGlxRHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdFRvdGFsICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmR0Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocy5kdENvdW50ICUgcy5jb25maWcuZW5naW5lLnJ1bm5lci5yb2xsYmFja0NvbnRyb2wuYXZlcmFnZVRpbWVTYW1wbGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5kdE1veSAgID0gcy5kdFRvdGFsIC8gcy5kdENvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5kdFRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHMucGxvdHRlci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5sYXN0RHJhd1RpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gSXMgcmVjb3JkaW5nIHNjcmVlbiBpbiBhIGJsb2NraW5nLXRpbWUgd2F5XHJcbiAgICAgICAgICAgICAgICBpZihzLnJlY29yZGVyLnBhdXNlTW9kZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgZHQgPSAxIC8gcy5yZWNvcmRlci51cGRhdGVGUFM7XHJcbiAgICAgICAgICAgICAgICBzLnJlY29yZGVyLmN1cnJlbnRSZWxUICs9IGR0O1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzaG91bGRTbmFwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAocy5yZWNvcmRlci5jdXJyZW50UmVsVCAtIHMucmVjb3JkZXIubGFzdERyYXdUaW1lID49IDEgLyBzLnJlY29yZGVyLmRyYXdpbmdGUFMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkdCA9IDEgLyBzLnJlY29yZGVyLmRyYXdpbmdGUFM7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkU25hcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHMubGFzdFVwZGF0ZVRpbWUgPSBzLnJlY29yZGVyLmN1cnJlbnRSZWxUO1xyXG4gICAgICAgICAgICAgICAgcy5wbG90dGVyLnVwZGF0ZShkdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFNuYXApIHtcclxuICAgICAgICAgICAgICAgICAgICBzLnBsb3R0ZXIgLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICBzLnJlY29yZGVyLnNuYXBzaG90KGR0KTtcclxuICAgICAgICAgICAgICAgICAgICBzLnJlY29yZGVyLmxhc3REcmF3VGltZSA9IHMucmVjb3JkZXIuY3VycmVudFJlbFQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBydW5zIGV2ZXJ5IHRpbWUgdGhlIHdpbmRvdyBpcyByZXNpemVkXHJcbiAgICAgICAgd2luZG93LndpbmRvd1Jlc2l6ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYoX3BTaW11bGF0aW9uSW5zdGFuY2UucmVjb3JkZXIucnVubmluZyAmJiBfcFNpbXVsYXRpb25JbnN0YW5jZS5yZWNvcmRlci5mcmFtZUJsb2NrZXIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgcCA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLmdldENhbnZhc1Byb3BvcnRpb25zKF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUud2luZG93LnByb3BvcnRpb25zKTtcclxuICAgICAgICAgICAgcmVzaXplQ2FudmFzKHAudywgcC5oKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBydW4gZWFjaCB0aW1lIG1vdXNlIGlzIHByZXNzZWRcclxuICAgICAgICB3aW5kb3cubW91c2VEcmFnZ2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKCFfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnJ1bm5lci5tb3ZhYmxlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1vdXNlUG9zID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5jb21wdXRlRm9yWFlGcm9tUGl4ZWwobW91c2VYLCBtb3VzZVkpO1xyXG4gICAgICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MuZXF1YWxzKG1vdXNlUG9zKSkge1xyXG4gICAgICAgICAgICAgICAgX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyLm9mZnNldC54IC09IG1vdXNlUG9zLnggLSBfcFNpbXVsYXRpb25JbnN0YW5jZS5tb3VzZVBvcy54O1xyXG4gICAgICAgICAgICAgICAgX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyLm9mZnNldC55IC09IG1vdXNlUG9zLnkgLSBfcFNpbXVsYXRpb25JbnN0YW5jZS5tb3VzZVBvcy55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHt3LCBofSBwcm9wb3J0aW9ucyBvZiB0aGUgY2FudmFzIGJhc2VkIG9uIHRoZSBwYXJhbWV0ZXJzICovXHJcbiAgICBnZXRDYW52YXNQcm9wb3J0aW9ucyhjUCkge1xyXG4gICAgICAgIGxldCB3LCBoO1xyXG5cclxuICAgICAgICBpZihjUC5pc1JlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgIHcgPSB3aW5kb3dXaWR0aCAgKiBjUC53aWR0aDtcclxuICAgICAgICAgICAgaCA9IHdpbmRvd0hlaWdodCAqIGNQLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHcgPSBjUC53aWR0aCAgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGggPSBjUC5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge3csIGh9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY3VzdG9tT2JqZWN0IHRoZSBPYmplY3QgdGhhdCBpcyBnb2luZyB0byBiZSBzaW11bGF0ZWQgKGNhbiBiZSBpbnN0YW5jaWF0ZWQgb3Igbm90KVxyXG4gICAgKiBAcGFyYW0gbnVtYmVyIE51bWJlciBvZiBvYmplY3RzIHRvIGJlIGluc3RhbmNpYXRlZFxyXG4gICAgKiBAcGFyYW0gcGFyYW1zIFRoZSBwYXJhbWV0ZXJzIGluIHRoZSBmdW5jdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBhZGRPYmplY3RzKGN1c3RvbU9iamVjdCwgbnVtYmVyID0gMSwgLi4ucGFyYW1zKSB7XHJcbiAgICAgICAgaWYoY3VzdG9tT2JqZWN0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvcHlQYXJhbXNUZW1wID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcmFtcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbal0gaW5zdGFuY2VvZiBBcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbXNbal1bMF0gIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHBhcmFtc1tqXVsxXSAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcGFyYW1zW2pdWzFdIGluc3RhbmNlb2YgRnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAgICAgKHBhcmFtc1tqXVswXSA9PSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmFkZGluZ09iamVjdHNDb25maWdLZXlXb3Jkcy5ydW5GdW5jdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5UGFyYW1zVGVtcC5wdXNoKHBhcmFtc1tqXVsxXSguLi5wYXJhbXNbal0uc2xpY2UoMikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihwYXJhbXNbal1bMF0gPT0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5hZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMucnVuQ2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5UGFyYW1zVGVtcC5wdXNoKG5ldyBwYXJhbXNbal1bMV0oLi4ucGFyYW1zW2pdLnNsaWNlKDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChwYXJhbXNbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbG90dGVyLm9iamVjdHNMLnB1c2gobmV3IGN1c3RvbU9iamVjdCguLi5jb3B5UGFyYW1zVGVtcCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wbG90dGVyLm9iamVjdHNMLnB1c2goY3VzdG9tT2JqZWN0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvZiB0aGUgZW5naW5lICovXHJcbiAgICBnZXREZWZhdWx0RW5naW5lQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJ1bm5lciA6IHtcclxuICAgICAgICAgICAgICAgIGRpdklkIDogJ3NpbXVsYXRpb25Db250ZW50JyxcclxuICAgICAgICAgICAgICAgIFVQREFURV9GUFMgOiAxMjAsXHJcbiAgICAgICAgICAgICAgICBEUkFXX0ZQUyAgIDogNjAsXHJcbiAgICAgICAgICAgICAgICBzaW11bGF0aW9uU3BlZWQgOiAxLFxyXG4gICAgICAgICAgICAgICAgYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzIDogeyAgLy8ga2V5d29yZHMgZm9yIHdoZW4gd2UgYWRkIG9iamVjdHMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBlbmdpbmVcclxuICAgICAgICAgICAgICAgICAgICBydW5GdW5jdGlvbnMgOiAnX1JVTl9GJywgLy8gcnVuIGEgZnVuY3Rpb24gd2l0aCAgICAgICBbJ19SVU5fRicsIGZ1bmN0aW9uTmFtZSwgcGFyYW0xLCBwYXJhbTIsIC4uLl0sXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuQ2xhc3MgICAgIDogJ19SVU5fQycgIC8vIGluc3RhbmNpYXRlcyBhIGNsYXNzIHdpdGggWydfUlVOX0MnLCBjbGFzc05hbWUgICAsIHBhcmFtMSwgcGFyYW0yLCAuLi5dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcm9sbGJhY2tDb250cm9sIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFN0YW5kYXJkRGV2aWF0aW9uIDogMC44LCAgLy8gbWF4aW11bSB0aWNrIGRldmlhdGlvbiBwZXJjZW50YWdlIGZvciB0aGUgc29mdHdhcmUgdG8gY29uc2lkZXIgYXMgYSByb2xsYmFjayAoaW4gc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICBhdmVyYWdlVGltZVNhbXBsZSAgICA6IDIwLCAgIC8vIHNhbXBsZSBzaXplIGZvciB0aWNrIGF2ZXJhZ2UgKGluIHNlY29uZHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbmltYWxVcGRhdGVGUFMgICAgIDogMC4xNSAgLy8gbWluaW1hbCB1cGRhdGUgZnJhbWVzXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaXNfbW92YWJsZSA6IGZhbHNlIC8vIGNhbiB0aGUgY3Vyc29yIG1vdmUgb24gdGhlIHNjcmVlblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3aW5kb3cgOiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wb3J0aW9ucyA6IHsgIC8vIHdpbmRvdyBoZWlnaHQgYW5kIHdpZHRoIG9uIHJlbGF0aXZlIG9yIGFic29sdXRlIHNpemVzXHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZWxhdGl2ZSA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggIDogMC45OSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgOiAwLjk5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXHRwbG90dGVyIDoge1xyXG4gICAgICAgIFx0XHRzY2FsZSA6IHsgIC8vIGRpc3BsYXlzIHggcmVsYXRpdmUgdW5pdHMgb24gZWFjaCBzaWRlXHJcbiAgICAgICAgXHRcdFx0eCA6IDEwLFxyXG4gICAgICAgIFx0XHRcdHkgOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICB6IDogMTBcclxuICAgICAgICBcdFx0fSxcclxuICAgICAgICBcdFx0b2Zmc2V0IDogeyAgLy8geCBhbmQgeSByZWxhdGl2ZSBvZmZzZXRcclxuICAgICAgICBcdFx0XHR4IDogMCxcclxuICAgICAgICBcdFx0XHR5IDogMCxcclxuICAgICAgICAgICAgICAgICAgICB6IDogMFxyXG4gICAgICAgIFx0XHR9LFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYXcgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yIDogeyByIDogMCAsIGcgOiAwICwgYiA6IDAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNxdWFyZUJ5WCAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNfM0QgICAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBncmlkQ29sb3IgICAgICAgOiB7IHIgOiAyNTUsIGcgOiAyNTUsIGIgOiAyNTUsIGEgOiAwLjMgfSxcclxuICAgICAgICBcdFx0ZGlzcGxheUdyaWQgICAgIDogZmFsc2UgIC8vIHRydWUgOiBkaXNwbGF5IGdyYXBoIG9uIHRoZSBzY3JlZW5cclxuICAgICAgICBcdH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY29uZmlnRnVuYyBUaGUgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBlbmdpbmUgY29uZmlndXJhdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRQcmVFbmdpbmVDb25maWcoY29uZmlnRnVuYykge1xyXG4gICAgICAgIGNvbmZpZ0Z1bmModGhpcy5jb25maWcuZW5naW5lKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZ0Z1bmMgVGhlIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0RW5naW5lQ29uZmlnKGNvbmZpZ0Z1bmMpIHtcclxuICAgICAgICBjb25maWdGdW5jKHRoaXMuY29uZmlnLmVuZ2luZSk7XHJcbiAgICAgICAgd2luZG93LndpbmRvd1Jlc2l6ZWQoKTsgLy8gaWYgcHJvcG9ydGlvbnMgY2hhbmdlZFxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY29uZmlnIFRoZSBmdW5jdGlvbiB0aGF0IG1vZGlmaWVzIGN1c3RvbSBjb25maWd1cmF0aW9uXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldEN1c3RvbUNvbmZpZyhjb25maWdGdW5jKSB7XHJcbiAgICAgICAgY29uZmlnRnVuYyh0aGlzLmNvbmZpZy5jdXN0b20pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJuIHRoZSBlbmdpbmUgY29uZmlndXJhdGlvblxyXG4gICAgKi9cclxuICAgIGdldEVuZ2luZUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEByZXR1cm4gdGhlIGN1c3RvbSBjb25maWd1cmF0aW9uXHJcbiAgICAqL1xyXG4gICAgZ2V0Q3VzdG9tQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmN1c3RvbTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0UFNFbmdpbmVWYXIoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBAVE9ET1xyXG4gICAgICAgICovXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTaW11bGF0b3I7XHJcbiIsImltcG9ydCBwU0RyYXdlciBmcm9tICcuL0RyYXdlcic7XHJcblxyXG5jbGFzcyBwUzNERHJhd2VyIHtcclxuICAgIC8qKiBDb25zdHJ1Y3QgdGhlIG1haW4gcFMzREVuZ2luZSBkcmF3ZXIgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBsb3R0ZXIpIHtcclxuICAgICAgICB0aGlzLnBsb3R0ZXIgID0gbnVsbDsgLy8gc2V0IHdoZW4gbG9hZGVkIGluIHRoZSBQbG90dGVyIGNsYXNzXHJcbiAgICAgICAgdGhpcy5kcmF3ZXIyRCA9IG5ldyBwU0RyYXdlcihwbG90dGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHJva2UgICAgICAgPSB0aGlzLmRyYXdlcjJELnN0cm9rZTtcclxuICAgICAgICB0aGlzLnN0cm9rZVdlaWdodCA9IHRoaXMuZHJhd2VyMkQuc3Ryb2tlV2VpZ2h0O1xyXG4gICAgICAgIHRoaXMuZmlsbCAgICAgICAgID0gdGhpcy5kcmF3ZXIyRC5maWxsO1xyXG4gICAgICAgIHRoaXMuYmVnaW5TaGFwZSAgID0gdGhpcy5kcmF3ZXIyRC5iZWdpblNoYXBlO1xyXG4gICAgICAgIHRoaXMuZW5kU2hhcGUgICAgID0gdGhpcy5kcmF3ZXIyRC5lbmRTaGFwZTtcclxuICAgICAgICB0aGlzLnZlcnRleCAgICAgICA9IHRoaXMuZHJhd2VyMkQudmVydGV4O1xyXG4gICAgICAgIHRoaXMucG9wICAgICAgICAgID0gdGhpcy5kcmF3ZXIyRC5wb3A7XHJcbiAgICAgICAgdGhpcy5wdXNoICAgICAgICAgPSB0aGlzLmRyYXdlcjJELnB1c2g7XHJcbiAgICAgICAgdGhpcy5ub1N0cm9rZSAgICAgPSB0aGlzLmRyYXdlcjJELm5vU3Ryb2tlO1xyXG4gICAgICAgIHRoaXMubm9GaWxsICAgICAgID0gdGhpcy5kcmF3ZXIyRC5ub0ZpbGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGluZSh4MCwgeTAsIHowLCB4MSwgeTEsIHoxKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDAsIHkwLCB6MCk7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxLCB6MSk7XHJcblxyXG4gICAgICAgIGJlZ2luU2hhcGUoKTtcclxuICAgICAgICAgICAgdmVydGV4KHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICB2ZXJ0ZXgodjEueCwgdjEueSwgdjEueik7XHJcbiAgICAgICAgZW5kU2hhcGUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3BoZXJlKHgsIHksIHosIHIpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWihyLCAwLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIHNwaGVyZSh2MS54KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uZSh4LCB5LCB6LCByLCBoKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSwgeik7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgaCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICBjb25lKHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBib3goeCwgeSwgeiwgdywgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHcsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgYm94KHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjeWxpbmRlcih4LCB5LCB6LCByLCBoKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSwgeik7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgaCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICBjeWxpbmRlcih2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhbmUoeCwgeSwgeiwgdywgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHcsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgcGxhbmUodjEueCwgdjEueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIHNjYWxlKHMpIHtcclxuICAgICAgICBzY2FsZShzKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBtb2RlbChtLCBubSkge1xyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgc2NhbGUoLTEpO1xyXG4gICAgICAgICAgICBpZiAobm0pXHJcbiAgICAgICAgICAgICAgICBub3JtYWxNYXRlcmlhbCgpO1xyXG4gICAgICAgICAgICBtb2RlbChtKTtcclxuICAgICAgICBwb3AoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2Zvcm0oeCwgeSwgeikge1xyXG4gICAgICAgIHRyYW5zZm9ybSh4LCB5LCB6KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFMzRERyYXdlcjtcclxuIiwiY2xhc3MgcFNSZWNvcmRlciB7XHJcbiAgICAvKiogQXV0b21hdGljYWxseSBjYWxsZWQgQHNlZSB0aGUgaW5zdGFuY2UgYXQgX3BTaW11bGF0aW9uSW5zdGFuY2UucmVjb3JkZXIgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmFtZSAgICAgICAgICAgICA9ICdDYW52YXMtUmVjb3JkZXInO1xyXG4gICAgICAgIHRoaXMuaWQgICAgICAgICAgICAgICA9IDA7XHJcbiAgICAgICAgdGhpcy5waXhlbERhdGFzICAgICAgID0gW107XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXAoNjAsIDEyMCwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEF1dG9tYXRpY2FsbHkgY2FsbGVkXHJcbiAgICAqIEBwYXJhbSBkcmF3aW5nRlBTIEZQUyBvZiB0aGUgZmluYWwgdmlkZW9cclxuICAgICogQHBhcmFtIHdpZHRoIFdpZHRoIG9mIHRoZSB2aWRlb1xyXG4gICAgKiBAcGFyYW0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdmlkZW9cclxuICAgICogQHBhcmFtIHVwZGF0ZUZQUyAgRlBTIGZvciBldmVyeSBjYWxjdWxhdGlvbnMgZG9uZSBvbiB0aGUgdXBkYXRlKCkgbG9vcFxyXG4gICAgKiBAcGFyYW0gZnJhbWVCbG9ja2VyIHRydWUgYnkgZGVmYXVsdCA6IHdpbGwgbWFrZSBzdXJlIHZpZGVvIGlzIHJlYWxseSB0dXJuaW5nIGF0IGRyYXdpbmdGUFNcclxuICAgICovXHJcbiAgICBzZXR1cChkcmF3aW5nRlBTLCB3aWR0aCwgaGVpZ2h0LCB1cGRhdGVGUFMsIGZyYW1lQmxvY2tlcikge1xyXG4gICAgICAgIHRoaXMud2lkdGggICAgICAgID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgICAgICAgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5waXhlbERlbnNpdHkgPSBwaXhlbERlbnNpdHk7XHJcbiAgICAgICAgdGhpcy5mcmFtZUJsb2NrZXIgPSBmcmFtZUJsb2NrZXI7XHJcbiAgICAgICAgdGhpcy5kcmF3aW5nRlBTICAgPSBkcmF3aW5nRlBTO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRlBTICAgID0gdXBkYXRlRlBTO1xyXG4gICAgICAgIHRoaXMucnVubmluZyAgICAgID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXVzZU1vZGUgICAgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSZWxUICA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0RHJhd1RpbWUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTdGFydCBhIG5ldyByZWNvcmRpbmcgc2Vzc2lvblxyXG4gICAgKiBAcGFyYW0gZHJhd2luZ0ZQUyBGUFMgb2YgdGhlIGZpbmFsIHZpZGVvIChkZWZhdWx0IDYwKVxyXG4gICAgKiBAcGFyYW0gd2lkdGggV2lkdGggb2YgdGhlIHZpZGVvIChkZWZhdWx0IDE5MjApXHJcbiAgICAqIEBwYXJhbSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSB2aWRlbyAoZGVmYXVsdCAxMDgwKVxyXG4gICAgKiBAcGFyYW0gdXBkYXRlRlBTICBGUFMgZm9yIGV2ZXJ5IGNhbGN1bGF0aW9ucyBkb25lIG9uIHRoZSB1cGRhdGUoKSBsb29wIChkZWZhdWx0IDEyMClcclxuICAgICogQHBhcmFtIGZyYW1lQmxvY2tlciB3aWxsIG1ha2Ugc3VyZSB2aWRlbyBpcyByZWFsbHkgdHVybmluZyBhdCBkcmF3aW5nRlBTIChkZWZhdWx0IHRydWUpXHJcbiAgICAqIEBwYXJhbSBjbGVhclBpeGVsQXJyYXkgd2lsbCBjbGVhciB0aGUgbGFzdCBkYXRhcyBvZiBwcmV2aW91cyByZWNvcmRpbmcgc2Vzc2lvbiAoZGVmYXVsdCB0cnVlKVxyXG4gICAgKi9cclxuICAgIHN0YXJ0KGRyYXdpbmdGUFMgPSA2MCwgd2lkdGggPSAxOTIwLCBoZWlnaHQgPSAxMDgwLCB1cGRhdGVGUFMgPSAxMjAsIGZyYW1lQmxvY2tlciA9IHRydWUsIGNsZWFyUGl4ZWxBcnJheSA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnNldHVwKGRyYXdpbmdGUFMsIHdpZHRoLCBoZWlnaHQsIHVwZGF0ZUZQUywgZnJhbWVCbG9ja2VyKTtcclxuXHJcbiAgICAgICAgaWYgKGNsZWFyUGl4ZWxBcnJheSkge1xyXG4gICAgICAgICAgICB0aGlzLnBpeGVsRGF0YXMgICAgICAgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuaWQrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcy5wdXNoKHsgdCA6IERhdGUubm93KCkgLyAxMDAwLCBjYXVzZSA6ICdzdGFydCcgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgcmVzaXplQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBdXRvbWF0aWNhbGx5IGNhbGxlZCA6IHRha2VzIGEgc25hcCBvZiB0aGUgY3VycmVudCBkaXNwbGF5ZWQgaW1hZ2VcclxuICAgICogQHBhcmFtIGR0IER0IG9mIHRoZSByZWxhdGl2ZSB2aWRlbyB0aW1lXHJcbiAgICAqL1xyXG4gICAgc25hcHNob3QoZHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMucnVubmluZyB8fCB0aGlzLnBhdXNlTW9kZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsb2FkUGl4ZWxzKCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5mcmFtZUJsb2NrZXIpXHJcbiAgICAgICAgICAgIHRoaXMucGl4ZWxEYXRhcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRpbWUgICAgOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgZHQgICAgICA6IGR0LFxyXG4gICAgICAgICAgICAgICAgZGF0YVVSTCA6IGNhbnZhcy50b0RhdGFVUkwoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGl4ZWxEYXRhcy5wdXNoKGNhbnZhcy50b0RhdGFVUkwoKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTdG9wIHRoZSBjdXJyZW50IHJlY29yZGluZyBzZXNzaW9uXHJcbiAgICAqIEBwYXJhbSBkb3dubG9hZERhdGFzICAgU3RhcnRzIGFuIGF1dG8gZG93bmxvYWQgb2YgdGhlIHNlc3Npb24gZGF0YXMgKGRlZmF1bHQgdHJ1ZSlcclxuICAgICogQHBhcmFtIGNsZWFyUGl4ZWxBcnJheSBXaWxsIGNsZWFyIHRoZSBsYXN0IGRhdGFzIG9mIHByZXZpb3VzIHJlY29yZGluZyBzZXNzaW9uIGZvciBtZW1vcnkgb3B0aW1pemF0aW9uIChkZWZhdWx0IHRydWUpXHJcbiAgICAqL1xyXG4gICAgc3RvcChkb3dubG9hZERhdGFzID0gdHJ1ZSwgY2xlYXJQaXhlbEFycmF5ID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCAtIHRoaXMucmVnaXN0ZXJpbmdUaW1lc1swXS50LCBjYXVzZSA6ICdzdG9wJyB9KTtcclxuXHJcbiAgICAgICAgaWYgKGRvd25sb2FkRGF0YXMpXHJcbiAgICAgICAgICAgIHNhdmVKU09OKHRoaXMuZ2V0RGF0YXNUb0pTT04oKSwgdGhpcy5uYW1lICsgJy0nICsgdGhpcy5pZCArICcuanNvbicpO1xyXG4gICAgICAgIGlmIChjbGVhclBpeGVsQXJyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5waXhlbERhdGFzICAgICAgID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcyA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2luZG93UmVzaXplZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBQYXVzZSB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvbiAqL1xyXG4gICAgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5wYXVzZU1vZGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcy5wdXNoKHsgdCA6IERhdGUubm93KCkgLyAxMDAwIC0gdGhpcy5yZWdpc3RlcmluZ1RpbWVzWzBdLnQsIGNhdXNlIDogJ3BhdXNlJyB9KTtcclxuICAgIH1cclxuICAgIC8qKiBSZXN1bWVzIHRoZSBjdXJyZW50IHJlY29yZGluZyBzZXNzaW9uICovXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5wYXVzZU1vZGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCAtIHRoaXMucmVnaXN0ZXJpbmdUaW1lc1swXS50LCBjYXVzZSA6ICdyZXN1bWUnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBkYXRhcyBKU09OIGZvcm1hdHRlZCB0byBiZSBleHBvcnRlZCB0byBhIEpTT04gZmlsZSAqL1xyXG4gICAgZ2V0RGF0YXNUb0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29uZmlnIDoge1xyXG4gICAgICAgICAgICAgICAgd2lkdGggICAgICAgIDogdGhpcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodCAgICAgICA6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcGl4ZWxEZW5zaXR5IDogdGhpcy5waXhlbERlbnNpdHksXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBzZXQgdG8gJ3ZhcmlhYmxlJywgcGl4ZWxEYXRhcyBpbmNsdWRlcyBjdXJyZW50IFRpbWUgYW5kIERlbHRhVGltZSBkdCBpbiBldmVyeSBpdGVtXHJcbiAgICAgICAgICAgICAgICBkcmF3RnJhbWVDb3VudCAgIDogdGhpcy5mcmFtZUJsb2NrZXIgPyB0aGlzLmRyYXdpbmdGUFMgOiAndmFyaWFibGUnLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlRnJhbWVDb3VudCA6IHRoaXMuZnJhbWVCbG9ja2VyID8gdGhpcy51cGRhdGVGUFMgIDogJ3ZhcmlhYmxlJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRhcyA6IHtcclxuICAgICAgICAgICAgICAgIHRpbWVzIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWxUaW1lTGVuZ3RoICA6IHRoaXMucmVnaXN0ZXJpbmdUaW1lc1t0aGlzLnJlZ2lzdGVyaW5nVGltZXMubGVuZ3RoIC0gMV0udCxcclxuICAgICAgICAgICAgICAgICAgICB2aWRlb1RpbWVMZW5ndGggOiB0aGlzLmZyYW1lQmxvY2tlciA/IDEvdGhpcy5kcmF3aW5nRlBTICogdGhpcy5waXhlbERhdGFzLmxlbmd0aCA6ICd2YXJpYWJsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZU9wZXJhdGlvbnMgIDogdGhpcy5yZWdpc3RlcmluZ1RpbWVzXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcGl4ZWxzIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsRGF0YXNTaXplIDogdGhpcy5waXhlbERhdGFzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBwaXhlbERhdGFzICAgICA6IHRoaXMucGl4ZWxEYXRhc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNSZWNvcmRlcjtcclxuIiwiaW1wb3J0ICcuLy4uLy4uL3V0aWxpdGllcy9WZWN0b3InO1xyXG5pbXBvcnQgJy4vLi4vQW5pbWF0aW9uJztcclxuaW1wb3J0ICcuL1RleHQnO1xyXG5cclxuXHJcbmNsYXNzIHBTUG9pbnQge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgUG9pbnRcclxuICAgICogQHBhcmFtIHggWCBwb2ludCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geSBZIHBvaW50IHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSBjb2xvciBkcmF3aW5nIGNvbG9yIG9mIHRoZSBwb2ludFxyXG4gICAgKiBAcGFyYW0gcG9pbnROYW1lIG5hbWUgb2YgdGhlIHBvaW50IChpbiBMYVRlWClcclxuICAgICogQHBhcmFtIHBvaW50U2l6ZSBTaXplIG9mIHRoZSBwb2ludCAoZGVmYXVsdCA2KVxyXG4gICAgKiBAcGFyYW0gdmVjdG9yTmFtZSBOYW1lIG9mIHRoZSB2ZWN0b3JcclxuICAgICogQHBhcmFtIGRyYXdPcmlnaW5WZWN0b3IgdHJ1ZSA6IGRyYXcgdGhlIHZlY3RvciBmcm9tIHRoZSBvcmlnaW4gdG8gdGhpcyBwb2ludFxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIGNvbG9yID0gJ3doaXRlJywgcG9pbnROYW1lLCBwb2ludFNpemUgPSA2LCB2ZWN0b3JOYW1lLCBkcmF3T3JpZ2luVmVjdG9yID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMucG9zID0gbmV3IFZlY3Rvcih4LCB5LCBjb2xvciwgdmVjdG9yTmFtZSk7XHJcblxyXG4gICAgICAgIGlmKHBvaW50TmFtZSAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMucG9pbnROYW1lID0gbmV3IHBTVGV4dChwb2ludE5hbWUsIHRoaXMucG9zLCAxOCwgY29sb3IpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdPcmlnaW5WZWN0b3IgPSBkcmF3T3JpZ2luVmVjdG9yO1xyXG4gICAgICAgIHRoaXMucG9pbnRTaXplICAgICAgICA9IHBvaW50U2l6ZTtcclxuICAgICAgICB0aGlzLnBvaW50U2l6ZURyYXdpbmcgPSBwb2ludFNpemU7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dFBhZGRpbmcgPSAwLjQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFVwZGF0ZXMgdGhlIHBvaW50XHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0KSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgcG9pbnQgdG8gdGhlIHNjcmVlblxyXG4gICAgKi9cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgbGV0IGRyYXdlciA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICAvLyBQT0lOVCBMT0NBVElPTlxyXG4gICAgICAgIGRyYXdlclxyXG4gICAgICAgICAgICAuZmlsbChwYXJzZUludCh0aGlzLnBvcy5jb2xvclswXSAqIDAuNCksIHBhcnNlSW50KHRoaXMucG9zLmNvbG9yWzFdICogMC40KSwgcGFyc2VJbnQodGhpcy5wb3MuY29sb3JbMl0gKiAwLjQpKVxyXG4gICAgICAgICAgICAubm9TdHJva2UoKVxyXG4gICAgICAgICAgICAuZWxsaXBzZSh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLnBvaW50U2l6ZURyYXdpbmcsIHRoaXMucG9pbnRTaXplRHJhd2luZylcclxuICAgICAgICAgICAgLnN0cm9rZSh0aGlzLnBvcy5jb2xvcilcclxuICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgxLjEpXHJcbiAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAuZWxsaXBzZSh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLnBvaW50U2l6ZURyYXdpbmcsIHRoaXMucG9pbnRTaXplRHJhd2luZylcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIC8vIE9SSUdJTiBWRUNUT1JcclxuICAgICAgICBpZih0aGlzLnBvcy5uYW1lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmRyYXdPcmlnaW5WZWN0b3IpXHJcbiAgICAgICAgICAgIHRoaXMucG9zLmRyYXcoKTtcclxuXHJcbiAgICAgICAgLy8gUE9JTlQgTkFNRVxyXG4gICAgICAgIGlmKHRoaXMucG9pbnROYW1lID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50TmFtZS5wb3MgPSAodGhpcy5wb3MuY29weSgpKS5hZGQoMCwgdGhpcy50ZXh0UGFkZGluZyk7XHJcbiAgICAgICAgaWYodGhpcy5wb3MubmFtZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5kcmF3T3JpZ2luVmVjdG9yICYmIHRoaXMucG9zLnkgPCAwKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZS5wb3MgPSAodGhpcy5wb3MuY29weSgpKS5hZGQoMCwgLXRoaXMudGV4dFBhZGRpbmcpO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50TmFtZS5kcmF3KGRyYXdlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTUG9pbnQ7XHJcbiIsImltcG9ydCAnLi8uLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuaW1wb3J0ICcuLy4uL0FuaW1hdGlvbic7XHJcbmltcG9ydCAnLi9UZXh0JztcclxuXHJcbmNsYXNzIHBTVHJpYW5nbGUge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgVHJpYW5nbGVcclxuICAgICogQHBhcmFtIHAwIFZlY3RvciB0byB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBwMSBWZWN0b3IgdG8gdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgKDAsIDApKVxyXG4gICAgKiBAcGFyYW0gcDIgVmVjdG9yIHRvIHRoZSB0aGlyZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgKDAsIDApKVxyXG4gICAgKiBAcGFyYW0gZmlsbENvbG9yIFRoZSB0cmlhbmdsZSBmaWxsIGNvbG9yIChkZWZhdWx0IG5vbmUpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VDb2xvciBUaGUgdHJpYW5nbGUgc3Ryb2tlIGNvbG9yIChkZWZhdWx0IG5vbmUpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VXZWlnaHQgVGhlIHRyaWFuZ2xlIHN0cm9rZVdlaWdodCAoZGVmYXVsdCAxKVxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHAwLCBwMSA9IG5ldyBWZWN0b3IoKSwgcDIgPSBuZXcgVmVjdG9yKCksIGZpbGxDb2xvciA9ICd3aGl0ZScsIHN0cm9rZUNvbG9yID0gJ25vbmUnLCBzdHJva2VXZWlnaHQgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhwMCwgcDEsIHAyKTtcclxuXHJcbiAgICAgICAgLy8gQ29sb3JzXHJcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgICAgPSBmaWxsQ29sb3I7XHJcbiAgICAgICAgdGhpcy5zdHJva2VDb2xvciAgPSBzdHJva2VDb2xvcjtcclxuICAgICAgICB0aGlzLnN0cm9rZVdlaWdodCA9IHN0cm9rZVdlaWdodDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBwMCBWZWN0b3IgdG8gdGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZVxyXG4gICAgKiBAcGFyYW0gcDEgVmVjdG9yIHRvIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0IGxhc3QgcG9pbnQpXHJcbiAgICAqIEBwYXJhbSBwMiBWZWN0b3IgdG8gdGhlIHRoaXJkIHBvaW50IG9mIHRoZSB0cmlhbmdsZSAoZGVmYXVsdCBsYXN0IHBvaW50KVxyXG4gICAgKi9cclxuICAgIHNldENvb3JkaW5hdGVzKHAwLCBwMSwgcDIpIHtcclxuICAgICAgICB0aGlzLnAwID0gcDAgfHwgbmV3IFZlY3RvcihwMC54LCBwMC55KTtcclxuICAgICAgICB0aGlzLnAxID0gcDEgPT0gdW5kZWZpbmVkID8gdGhpcy5wMSA6IG5ldyBWZWN0b3IocDEueCwgcDEueSk7XHJcbiAgICAgICAgdGhpcy5wMiA9IHAyID09IHVuZGVmaW5lZCA/IHRoaXMucDIgOiBuZXcgVmVjdG9yKHAyLngsIHAyLnkpO1xyXG5cclxuICAgICAgICAvLyBUaGUgYmFyeWNlbnRlciwgb3IgY2VudGVyIG9mIG1hc3MuIFRoaXMgaXMgdGhlXHJcbiAgICAgICAgLy8gcG9pbnQgYXJvdW5kIHdoaWNoIHRoZSB0cmlhbmdsZSB3aWxsIHJvdGF0ZS5cclxuICAgICAgICB0aGlzLnBHID0gVmVjdG9yLmRpdihWZWN0b3IuYWRkKFZlY3Rvci5hZGQodGhpcy5wMCwgdGhpcy5wMSksIHRoaXMucDIpLCAzKTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHZlY3RvcnMgcG9pbnRpbmcgZnJvbSB0aGUgYmFyeWNlbnRlciB0byBQMCwgUDFcclxuICAgICAgICAvLyBhbmQgUDIuIFRoZXkgYXJlIHVzZWZ1bCB3aGVuIHJvdGF0aW5nIHRoZSB0cmlhbmdsZS5cclxuICAgICAgICB0aGlzLnYwID0gVmVjdG9yLnN1Yih0aGlzLnAwLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnYxID0gVmVjdG9yLnN1Yih0aGlzLnAxLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnYyID0gVmVjdG9yLnN1Yih0aGlzLnAyLCB0aGlzLnBHKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZXMgdGhlIHRyaWFuZ2xlIGJ5IHRoZSBzcGVjaWZpZWQgYW5nbGUsIGFyb3VuZFxyXG4gICAgKiBpdHMgY2VudGVyIG9mIG1hc3MuXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBBbmdsZSBvZiByb3RhdGlvblxyXG4gICAgKi9cclxuICAgIHJvdGF0ZShhbmdsZSkge1xyXG4gICAgICAgIHRoaXMudjAucm90YXRlKGFuZ2xlKTtcclxuICAgICAgICB0aGlzLnYxLnJvdGF0ZShhbmdsZSk7XHJcbiAgICAgICAgdGhpcy52Mi5yb3RhdGUoYW5nbGUpO1xyXG5cclxuICAgICAgICB0aGlzLnAwID0gVmVjdG9yLmFkZCh0aGlzLnYwLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnAxID0gVmVjdG9yLmFkZCh0aGlzLnYxLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnAyID0gVmVjdG9yLmFkZCh0aGlzLnYyLCB0aGlzLnBHKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZXMgdGhlIHRyaWFuZ2xlIGZyb20gaXRzIGJhcnljZW50ZXIgYnkgdGhlXHJcbiAgICAqIHNwZWNpZmllZCBkaXN0YW5jZSBpbiBYIGFuZCBZLlxyXG4gICAgKiBAcGFyYW0geCBUaGUgZGlzdGFuY2Ugb24gdGhlIFggYXhpcy5cclxuICAgICogQHBhcmFtIHkgVGhlIGRpc3RhbmNlIG9uIHRoZSBZIGF4aXMuXHJcbiAgICAqL1xyXG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKFxyXG4gICAgICAgICAgICAgICAgVmVjdG9yLmFkZCh0aGlzLnAwLCBuZXcgVmVjdG9yKHgsIHkpKSxcclxuICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQodGhpcy5wMSwgbmV3IFZlY3Rvcih4LCB5KSksXHJcbiAgICAgICAgICAgICAgICBWZWN0b3IuYWRkKHRoaXMucDIsIG5ldyBWZWN0b3IoeCwgeSkpXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVHJhbnNsYXRlcyB0aGUgdHJpYW5nbGUgZnJvbSBpdHMgYmFyeWNlbnRlciBieVxyXG4gICAgKiB0aGUgc3BlY2lmaWVkIHZlY3Rvci5cclxuICAgICogQHBhcmFtIHYgVGhlIHZlY3RvciB0byB0cmFuc2xhdGUgdGhlIHRyaWFuZ2xlLlxyXG4gICAgKi9cclxuICAgIHRyYW5zbGF0ZSh2KSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGUodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogVXBkYXRlcyB0aGUgdHJpYW5nbGVcclxuICAgICogQHBhcmFtIGR0IERlbHRhIHRpbWUgc2luY2UgbGFzdCB1cGRhdGVcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQpIHt9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3cyB0aGUgdHJpYW5nbGUgb24gdGhlIHNjcmVlbi5cclxuICAgICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5kcmF3ZXI7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZmlsbENvbG9yID09ICdub25lJylcclxuICAgICAgICAgICAgZC5ub0ZpbGwoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGQuZmlsbCh0aGlzLmZpbGxDb2xvcik7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3Ryb2tlQ29sb3IgPT0gJ25vbmUnKVxyXG4gICAgICAgICAgICBkLm5vU3Ryb2tlKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkLnN0cm9rZSh0aGlzLnN0cm9rZUNvbG9yKS5zdHJva2VXZWlnaHQodGhpcy5zdHJva2VXZWlnaHQpO1xyXG5cclxuICAgICAgICBkLnB1c2goKVxyXG4gICAgICAgICAgICAuYmVnaW5TaGFwZSgpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDAueCwgdGhpcy5wMC55KVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAxLngsIHRoaXMucDEueSlcclxuICAgICAgICAgICAgICAgIC52ZXJ0ZXgodGhpcy5wMi54LCB0aGlzLnAyLnkpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDAueCwgdGhpcy5wMC55KVxyXG4gICAgICAgICAgICAuZW5kU2hhcGUoKVxyXG4gICAgICAgIC5wb3AoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNUcmlhbmdsZTtcclxuIiwiLy8gPT09PT09PT09PSBQU0VOR0lORSBWQVJJQUJMRVMgPT09PT09PT09PVxyXG4vLyA9PT09IENvcmUgPT09PVxyXG5pbXBvcnQgcFNpbXVsYXRvciBmcm9tICcuL2NvcmUvU2ltdWxhdG9yJztcclxuXHJcbi8vID09PT0gRHJhd2VyID09PT1cclxuLy8gT2JqZWN0c1xyXG5pbXBvcnQgcFNQb2ludCAgICBmcm9tICcuL2RyYXdlci9vYmplY3RzL1BvaW50JztcclxuaW1wb3J0IHBTVGV4dCAgICAgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9UZXh0JztcclxuaW1wb3J0IHBTVHJpYW5nbGUgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9UcmlhbmdsZSc7XHJcblxyXG4vLyBSb290XHJcbmltcG9ydCBBbmltYXRpb24gIGZyb20gJy4vZHJhd2VyL0FuaW1hdGlvbic7XHJcbmltcG9ydCBwU0RyYXdlciAgIGZyb20gJy4vZHJhd2VyL0RyYXdlcic7XHJcbmltcG9ydCBwUzNERHJhd2VyIGZyb20gJy4vZHJhd2VyLzNERHJhd2VyJztcclxuaW1wb3J0IHBTUGxvdHRlciAgZnJvbSAnLi9kcmF3ZXIvUGxvdHRlcic7XHJcblxyXG4vLyA9PT09IFV0aWxpdGllcyA9PT09XHJcbmltcG9ydCBWZWN0b3IgICAgIGZyb20gJy4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcbmltcG9ydCBwU1JlY29yZGVyIGZyb20gJy4vdXRpbGl0aWVzL1JlY29yZGVyJztcclxuXHJcblxyXG4vLyA9PT09PT09PT09IEdMT0JBTCBWQVJJQUJMRVMgPT09PT09PT09PVxyXG4vLyA9PT09IERyYXdlciA9PT09XHJcbi8vIE9iamVjdHNcclxuZ2xvYmFsLnBTUG9pbnQgICAgID0gcFNQb2ludDtcclxuZ2xvYmFsLnBTVGV4dCAgICAgID0gcFNUZXh0O1xyXG5nbG9iYWwucFNUcmlhbmdsZSAgPSBwU1RyaWFuZ2xlO1xyXG5cclxuLy8gUm9vdFxyXG5nbG9iYWwucFNBbmltYXRpb24gPSBBbmltYXRpb247XHJcblxyXG4vLyA9PT09IFV0aWxpdGllcyA9PT09XHJcbmdsb2JhbC5WZWN0b3IgICAgICA9IFZlY3RvcjtcclxuXHJcblxyXG4vLyA9PT09PT09PT09IFBTRU5HSU5FIExBVU5DSCA9PT09PT09PT09XHJcbmltcG9ydCAnLi9jb3JlL2luaXQnO1xyXG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgcFNpbXVsYXRvciBmcm9tICcuL1NpbXVsYXRvcic7XHJcblxyXG5jbGFzcyBwU0VuZ2luZSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRpZih3aW5kb3cucDUgPT0gdW5kZWZpbmVkKVxyXG5cdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdCdZb3UgbXVzdCBpbXBvcnQgcDUuanMgaW4gb3JkZXIgdG8gcnVuIHRoZSBQaHlzaWNzIFNpbXVsYXRpb24gRW5naW5lLicsXHJcblx0XHRcdFx0J01vcmUgaW5mb3JtYXRpb25zIG9uIHRoZSBwNSB3ZWJzaXRlIGh0dHBzOi8vcDVqcy5vcmcvLidcclxuXHRcdFx0KTtcclxuXHJcblx0XHQvLyB1c2VzIHRoZSBwNSBmdW5jdGlvbnNcclxuXHRcdHdpbmRvdy5zZXR1cCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3aW5kb3cuX3BTaW11bGF0aW9uSW5zdGFuY2UgPSBuZXcgcFNpbXVsYXRvcigpO1xyXG5cdFx0XHR3aW5kb3cuX3BTaW11bGF0aW9uSW5zdGFuY2UuaW5zdGFuY2lhdGUoKTtcclxuXHRcdFx0d2luZG93LnBTRW5naW5lID0gd2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmdldFBTRW5naW5lVmFyKCk7XHJcblx0XHR9O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNFbmdpbmU7XHJcbiIsImltcG9ydCBwU0VuZ2luZSBmcm9tICcuL21haW4nO1xyXG5cclxuY29uc3QgX3BTZ2xvYmFsRW5naW5lSW5pdCA9ICgpID0+IHtcclxuXHRuZXcgcFNFbmdpbmUoKTtcclxufTtcclxuXHJcbmNvbnN0IHdhaXRGb3JEb2N1bWVudFJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgaWYoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSAvLyBjb21wbGV0ZVxyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgIGVsc2VcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJlc29sdmUsIGZhbHNlKTtcclxufSk7XHJcblxyXG53YWl0Rm9yRG9jdW1lbnRSZWFkeS50aGVuKF9wU2dsb2JhbEVuZ2luZUluaXQpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNFbmdpbmU7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=