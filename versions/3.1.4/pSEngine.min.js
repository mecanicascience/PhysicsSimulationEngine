var pSEngine=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=10)}([function(t,e,i){"use strict";i(1);class s{constructor(t,e,i,s="rgb(255, 255, 255)",r,n=1.3){this.x=t||0,this.y=e||0,this.z=i||0,this.color=s,this.setName(r,s,n)}set(t,e,i){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=e||0,this.z=i||0,this)}setName(t,e,i=1.3){return null==t||(t instanceof pSText?this.name=t:this.name=new pSText(t,this,i,e)),this}equals(t,e,i){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==e&&this.z==i}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,e,i){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=e||0,this.z+=i||0,this)}sub(t,e,i){return t instanceof s?this.sub(t.x,t.y,t.z):(this.x-=t||0,this.y-=e||0,this.z-=i||0,this)}mult(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("Vector::mult()","c is undefined or isn't a finite number"),this)}div(t){return"number"==typeof t&&isFinite(t)?0==t?(console.error("Cannot divide by 0"),this):this.mult(1/t):(console.warn("Vector::div()","c is undefined or isn't a finite number"),this)}static add(t,e){return t.copy().add(e)}static sub(t,e){return t.copy().sub(e)}static mult(t,e){return t.copy().mult(e)}static div(t,e){return t.copy().div(e)}dot(t,e,i){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,e){let i=this.mag();return i<t&&this.div(i).mult(t),i>e&&this.div(i).mult(e),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const e=this.getAngle()+t,i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,e){return s.sub(t,e).mag()}static dot(t,e,i,s){return t.copy().dot(e,i,s)}static cross(t,e){return t.copy().cross(e)}static normalize(t){return t.copy().normalize()}static rotate(t,e){return t.copy().rotate(e)}draw(t,e,i){null!=t?s.draw(t,this,this.color,e,i):s.draw(void 0,this,this.color,e,i)}static draw(t=new s,e,i="rgb(255, 255, 255)",r=5,n=1){let o=_pSimulationInstance.plotter;if(_pSimulationInstance.config.engine.plotter.is_3D)r/=3,push(),o.drawer.stroke(i).strokeWeight(n).fill(i),null!=t&&o.drawer.translate(t.x,t.y,t.z),o.drawer.line(0,0,0,e.x,e.y,e.z),pop();else{push(),o.drawer.stroke(i).strokeWeight(n).fill(i).line(t.x,t.y,t.x+e.x,t.y+e.y);let s=o.computeForXYZ(t.x,t.y,t.z,!1);translate(s.x,s.y),push();let a=o.computeForXYZ(0,0,0),h=o.computeForXYZ(e.x,e.y,e.z);if(translate(h.x,h.y),rotate(h.sub(a).getAngle()),translate(-r-2,0),triangle(0,r/2,0,-r/2,r,0),pop(),null!=e.name){let t=e.getAngle();t<0&&(t+=2*PI);let s=.01*e.name.svgImg.width;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(s*=-1);let r=.01*e.name.svgImg.height;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(r*=-1),e.name.setColor(i).draw(e.name.pos.copy().div(2).add(s,r))}pop()}return this}}e.a=s},function(t,e,i){"use strict";e.a=class{constructor(t,e=new Vector,i=1,s="#FFFFFF",r=!1){null==window.MathJax&&console.error("You must import MathJax.js >=3.0.0 in order to use Text and Tex strings."),this.textSize=i,this.color=s,this.pos=e,this.showHitbox=r,this.setText(t)}draw(t){let e=_pSimulationInstance.plotter.drawer,i=e.plotter.computeForXYZ(this.pos.x,this.pos.y);if(null!=t&&(i=e.plotter.computeForXYZ(t.x,t.y)),push(),translate(-this.svgImg.width/2,-this.svgImg.height/2),image(this.svgImg,i.x,i.y,this.svgImg.width,this.svgImg.height),this.showHitbox){let t=this.svgImg.height,s=this.svgImg.width;e.stroke(this.color).strokeWeight(1).noFill(),line(i.x,i.y,i.x+s,i.y),line(i.x,i.y+t,i.x+s,i.y+t),line(i.x,i.y+t,i.x,i.y),line(i.x+s,i.y+t,i.x+s,i.y)}pop()}setText(t){this.text=t;let e="<svg"+MathJax.tex2svg(this.text,{display:!0,em:12,ex:6,containerWidth:480,lineWidth:1e5,scale:1}).innerHTML.split("<svg")[1].split("</svg>")[0]+"</svg>";return e=e.replace(/<g/g,'<g color="'+this.color+'"').replace(/width="(.*?)"/,'width="'+parseFloat(/width="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"').replace(/height="(.*?)"/,'height="'+parseFloat(/height="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"'),this.svgImg=loadImage(URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))),this}setPosition(t,e){return this.pos.x=t,this.pos.y=e,this}setColor(t){return this.color=t,this}}},function(t,e,i){"use strict";e.a=class{constructor(t){this.plotter=null,this.stack=[],this.stackPointer=[]}clearStack(){this.stack=[],this.stackPointer=[],this.currentStackLevel=this.stack}pushStackOperation(t,e,i=0,s=1){let r=[[0,0,0],[0,0,0],[0,0,0]];switch(t){case"t":r=[[1,0,e.x],[0,1,e.y],[0,0,1]];break;case"r":r=[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]];break;case"s":r=[[s,0,0],[0,s,0],[0,0,1]]}this.getCurrentStackLevel().push({m:r})}getCurrentStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length;e++)t=t[this.stackPointer[e]];return t}enterStackLevel(){let t=this.getCurrentStackLevel();this.stackPointer.push(t.length),t.push([])}exitStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length-1;e++)t=t[this.stackPointer[e]];this.stackPointer.pop(),t.pop()}point(t,e){let i=this.plotter.computeForXYZ(t,e);return point(i.x,i.y),this}line(t,e,i,s){let r=this.plotter.computeForXYZ(t,e),n=this.plotter.computeForXYZ(i,s);return line(r.x,r.y,n.x,n.y),this}setLineDash(t=5,e=5){return drawingContext.setLineDash([t,e]),this}clearLineDash(){return drawingContext.setLineDash([]),this}ellipse(t,e,i,s,r=!1){let n=this.plotter.computeForXYZ(t,e);if(null==s&&(s=i),r)ellipse(n.x,n.y,i,s);else{let r=this.plotter.computeForXYZ(i,s,0,!1);this.ellipse(t,e,2*r.x,2*r.y,!0)}return this}circle(t,e,i,s=!1){return this.ellipse(t,e,i,i,s)}rect(t,e,i,s,r=!1){if(!r)return this.beginShape().vertex(t+i,e).vertex(t+i,e+s).vertex(t,e+s).vertex(t,e).endShape(CLOSE);let n=this.plotter.computeForXYZ(t,e);return rect(n.x,n.y,i,s),this}arc(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e),a=this.plotter.computeForXYZ(i,s,0,!1);return arc(o.x,o.y,a.x,a.y,-n,-r),this}stroke(t,e,i,s){return null==s?null==i?null==e?stroke(t):stroke(t,e):stroke(t,e,i):stroke(`rgba(${t}, ${e}, ${i}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,e,i,s){return null==s?null==i?null==e?fill(t):fill(t,e):fill(t,e,i):fill(`rgba(${t}, ${e}, ${i}, ${s})`),this}beginShape(t){return beginShape(t),this}bezier(t,e,i,s,r,n,o,a){let h=_pSimulationInstance.plotter.computeForXYZ(t,e),l=_pSimulationInstance.plotter.computeForXYZ(i,s),u=_pSimulationInstance.plotter.computeForXYZ(r,n),c=_pSimulationInstance.plotter.computeForXYZ(o,a);return bezier(h.x,h.y,l.x,l.y,u.x,u.y,c.x,c.y),this}vertex(t,e){let i=this.plotter.computeForXYZ(t,e);return vertex(i.x,i.y),this}endShape(t){return endShape(t),this}push(){return this.enterStackLevel(),push(),this}pop(){return this.exitStackLevel(),pop(),this}translate(t,e){return this.pushStackOperation("t",{x:t,y:e},0,1),this}rotate(t){return this.pushStackOperation("r",{x:0,y:0},t,1),this}scale(t){return this.pushStackOperation("s",{x:0,y:0},0,t),this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,e,i){"use strict";var s=class{constructor(t,e){this.scaleTime=1,this.isAnimating=!1,this.initialT=0,this.datas=e,this.timeLength=t,this.lastKey=this.getKey(this.update)/this.scaleTime}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}getKey(t){let e=(new Date).getTime()/1e3-this.initialT;return e>this.timeLength?this.finalDraw(this):(this.lastKey=t(e,this)/this.scaleTime,this.lastKey)}updateKey(){return this.getKey(this.update)}drawKey(){return this.getKey(this.draw)}update(){}draw(){}};var r=class extends s{constructor(t,e){super(t,e),this.i=-1,this.currentShape=this.nextShape(e),this.localDt=0}nextShape(t){this.i++;let e=this.i+1;return e>t.length-1&&(e=0),[t[this.i],t[e]]}update(t,e){}draw(t,e){let i=e.timeLength/e.datas.length;null!=e.currentShape[0]&&null!=e.currentShape[1]&&t-e.localDt>=i&&(e.currentShape=e.nextShape(e.datas),e.localDt+=i),e.drawCurrentShape(e.datas,(t,e,i,s)=>{let r=1;return t==i&&(r=e/s),r},e,e.i+1,t-e.localDt,i)}finalDraw(t){this.drawCurrentShape(this.datas,()=>1,this,this.datas.length,0)}drawCurrentShape(t,e,i,s,r,n){for(let o=0;o<s;o++){let s=e(o,r,i.i,n),a=o+1;a>=t.length&&(a=0),_pSimulationInstance.plotter.drawer.noFill().strokeWeight(3).stroke(255).line(t[o].pos.x,t[o].pos.y,t[o].pos.x+(t[a].pos.x-t[o].pos.x)*s,t[o].pos.y+(t[a].pos.y-t[o].pos.y)*s)}}};var n=class extends s{constructor(t,e){super(t,e),null==this.datas.min&&(this.datas.min=0),null==this.datas.max&&(this.datas.max=1)}update(t,e){let i=t/e.timeLength;return i<.5?2*i*i*(e.datas.max-e.datas.min)+e.datas.min:((4-2*i)*i-1)*(e.datas.max-e.datas.min)+e.datas.min}draw(t,e){}finalDraw(t){return t.datas.max}};e.a=class{static new(t,e=1,i={}){switch(t||(t="easeInOutCubic"),t){case"easeInOutCubic":return new n(e,i);case"interpolation":return new r(e,i)}}}},function(t,e,i){"use strict";i(0);e.a=class{constructor(t,e){this.simulator=t,this.drawer=e,this.objectsL=[],this.drawer.plotter=this}update(t){this.drawer.clearStack(),this.simulator.config.engine.plotter.is_3D&&(lights(),orbitControl(5,5));for(let e=0;e<this.objectsL.length;e++)this.objectsL[e].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,e=t.backgroundColor.color;t.backgroundColor.draw&&background(e.r,e.g,e.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid)if(this.simulator.config.engine.plotter.is_3D)debugMode(100,10,0,0,0,20,0,-40,0);else{this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5);let e=Math.round(height/t.scale.y/2);t.squareByX||(e=t.scale.y);for(let i=-t.scale.x-1;i<t.scale.x+1;i++)for(let s=-e-1;s<e+1;s++)this.drawer.rect(i+t.offset.x,s+t.offset.y,1,1);this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a+.3).strokeWeight(2).line(-t.scale.x+t.offset.x-1,0,t.scale.x+t.offset.x+1,0),t.squareByX?this.drawer.line(0,-e-1,0,e+1):this.drawer.line(0,-t.scale.y-1,0,t.scale.y+1)}this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5)}computeForXYZ(t,e,i,s=!0){let r=this.simulator.config.engine.plotter;if(!r.is_3D){let i=this.simulator.plotter.drawer.stack,s=[[1,0,0],[0,1,0],[0,0,1]];!function t(e,i){if(e instanceof Array)for(let s=0;s<e.length;s++)t(e[s],i);else s=null==s?e.m:i(s,e.m)}(i,this.multMatrix);let r=t;t=t*s[0][0]+e*s[0][1]+s[0][2],e=r*s[1][0]+e*s[1][1]+s[1][2]}if(s||r.is_3D||!r.squareByX){if(r.is_3D){let s=180*.28;return new Vector((t+r.offset.x)/r.scale.x*s,(-e+r.offset.y)/r.scale.y*s,(i+r.offset.z)/r.scale.z*s)}{let i=new Vector(((t-r.offset.x)/r.scale.x+1)*width/2,0,((t+r.offset.z)/r.scale.z+1)*width/2);return r.squareByX?i.y=(-e+r.offset.y)/r.scale.x*width/2+height/2:i.y=((-e+r.offset.y)/r.scale.y+1)*height/2,i}}{let s=this.computeForXYZ(0,0,0),r=this.computeForXYZ(t,e,i);return new Vector(r.x-s.x,r.y-s.y,r.z-s.z)}}computeForXYFromPixel(t,e){let i=_pSimulationInstance.config.engine.plotter,s=new Vector((2*t/width-1)*i.scale.x+i.offset.x);return i.squareByX?s.y=-(e-height/2)/width*2*i.scale.x+i.offset.y:s.y=-(2*(e-2*height)/width*i.scale.y-i.offset.y),s}multMatrix(t,e){let i=[[0,0,0],[0,0,0],[0,0,0]];for(let s=0;s<t.length;s++)for(let r=0;r<e.length;r++)i[s][r]=t[s][0]*e[0][r]+t[s][1]*e[1][r]+t[s][2]*e[2][r];return i}}},function(t,e,i){"use strict";var s=i(4),r=i(2),n=i(6),o=i(7);e.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){try{window.preRunSimulator(this)}catch(t){}this.createP5Instance(),this.config.engine.plotter.is_3D?this.plotter=new s.a(this,new n.a):(setAttributes("antialias",!0),this.plotter=new s.a(this,new r.a)),this.recorder=new o.a,this.mousePos=this.plotter.computeForXYFromPixel(mouseX,mouseY),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.config.engine.plotter.is_3D?this.canvas=createCanvas(t.w,t.h,WEBGL):this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let e=this.config.engine.runner;e.UPDATE_FPS>=e.DRAW_FPS?frameRate(e.UPDATE_FPS):console.error("The Updates FPS must be superior as the Draws FPS."),window.draw=function(){let t=_pSimulationInstance,e=Date.now(),i=(e-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;if(t.mousePos=t.plotter.computeForXYFromPixel(mouseX,mouseY),!t.recorder.running||t.recorder.running&&!t.recorder.frameBlocker)i>s&&(i=t.dtMoy),t.lastUpdateTime=e,t.plotter.update(i*t.config.engine.runner.simulationSpeed),t.recorder.running&&!t.recorder.pauseMode&&t.recorder.snapshot(i),e-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(i<=s&&(t.dtTotal+=i,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=e);else{if(t.recorder.pauseMode)return;i=1/t.recorder.updateFPS,t.recorder.currentRelT+=i;let e=!1;t.recorder.currentRelT-t.recorder.lastDrawTime>=1/t.recorder.drawingFPS&&(i=1/t.recorder.drawingFPS,e=!0),t.lastUpdateTime=t.recorder.currentRelT,t.plotter.update(i),e&&(t.plotter.draw(),t.recorder.snapshot(i),t.recorder.lastDrawTime=t.recorder.currentRelT)}},window.windowResized=function(){if(_pSimulationInstance.recorder.running&&_pSimulationInstance.recorder.frameBlocker)return;let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)},window.mouseDragged=function(){if(!_pSimulationInstance.config.engine.runner.movable)return;let t=_pSimulationInstance.plotter.computeForXYFromPixel(mouseX,mouseY);_pSimulationInstance.mousePos.equals(t)||(_pSimulationInstance.config.engine.plotter.offset.x-=t.x-_pSimulationInstance.mousePos.x,_pSimulationInstance.config.engine.plotter.offset.y-=t.y-_pSimulationInstance.mousePos.y)}}getCanvasProportions(t){let e,i;return t.isRelative?(e=windowWidth*t.width,i=windowHeight*t.height):(e=t.width+"px",i=t.height+"px"),{w:e,h:i}}addObjects(t,e=1,...i){if(t instanceof Function)for(let s=0;s<e;s++){let e=[];for(let t=0;t<i.length;t++)i[t]instanceof Array&&null!=i[t][0]&&null!=i[t][1]&&i[t][1]instanceof Function?i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?e.push(i[t][1](...i[t].slice(2))):i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&e.push(new i[t][1](...i[t].slice(2))):e.push(i[t]);this.plotter.objectsL.push(new t(...e))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:"simulationContent",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:"_RUN_F",runClass:"_RUN_C"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15},is_movable:!1},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,z:10},offset:{x:0,y:0,z:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},squareByX:!1,is_3D:!1,gridColor:{r:255,g:255,b:255,a:.3},displayGrid:!1}}}setPreEngineConfig(t){return t(this.config.engine),this}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}getPSEngineVar(){}}},function(t,e,i){"use strict";var s=i(2);e.a=class{constructor(t){this.plotter=null,this.drawer2D=new s.a(t),this.stroke=this.drawer2D.stroke,this.strokeWeight=this.drawer2D.strokeWeight,this.fill=this.drawer2D.fill,this.noStroke=this.drawer2D.noStroke,this.noFill=this.drawer2D.noFill}translate(t,e,i){let s=this.plotter.computeForXYZ(t,e,i);return translate(s.x,s.y,s.z),this}beginShape(t){return beginShape(t),this}endShape(){return endShape(),this}vertex(t,e,i){let s=this.plotter.computeForXYZ(t,e,i);return vertex(s.x,s.y,s.z),this}clearStack(){return this}line(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e,i),a=this.plotter.computeForXYZ(s,r,n);return beginShape(),vertex(o.x,o.y,o.z),vertex(a.x,a.y,a.z),endShape(),this}sphere(t,e,i,s){return push(),this.translate(t,e,i),sphere(s),pop(),this}cone(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),cone(n.x,n.y),pop(),this}box(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),box(n.x,n.y),pop(),this}cylinder(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),cylinder(n.x,n.y),pop(),this}plane(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),plane(n.x,n.y),pop(),this}scale(t){return scale(t),this}model(t,e){return push(),scale(-1),e&&normalMaterial(),model(t),pop(),this}transform(t,e,i){return transform(t,e,i),this}}},function(t,e,i){"use strict";e.a=class{constructor(){this.name="Canvas-Recorder",this.id=0,this.pixelDatas=[],this.registeringTimes=[],this.setup(60,120,!0)}setup(t,e,i,s,r){this.width=e,this.height=i,this.pixelDensity=pixelDensity,this.frameBlocker=r,this.drawingFPS=t,this.updateFPS=s,this.running=!1,this.pauseMode=!1,this.currentRelT=0,this.lastDrawTime=0}start(t=60,e=1920,i=1080,s=120,r=!0,n=!0){this.setup(t,e,i,s,r),n&&(this.pixelDatas=[],this.registeringTimes=[],this.id++),this.registeringTimes.push({t:Date.now()/1e3,cause:"start"}),this.running=!0,resizeCanvas(e,i)}snapshot(t){this.running&&!this.pauseMode&&(loadPixels(),this.frameBlocker?this.pixelDatas.push(canvas.toDataURL()):this.pixelDatas.push({time:Date.now(),dt:t,dataURL:canvas.toDataURL()}))}stop(t=!0,e=!0){this.running=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"stop"}),t&&saveJSON(this.getDatasToJSON(),this.name+"-"+this.id+".json"),e&&(this.pixelDatas=[],this.registeringTimes=[]),windowResized()}pause(){this.pauseMode=!0,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"pause"})}resume(){this.pauseMode=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:"resume"})}getDatasToJSON(){return{config:{width:this.width,height:this.height,pixelDensity:this.pixelDensity,drawFrameCount:this.frameBlocker?this.drawingFPS:"variable",updateFrameCount:this.frameBlocker?this.updateFPS:"variable"},datas:{times:{realTimeLength:this.registeringTimes[this.registeringTimes.length-1].t,videoTimeLength:this.frameBlocker?1/this.drawingFPS*this.pixelDatas.length:"variable",timeOperations:this.registeringTimes},pixels:{pixelDatasSize:this.pixelDatas.length,pixelDatas:this.pixelDatas}}}}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e,i="white",s,r=6,n,o=!0){this.pos=new Vector(t,e,i,n),null!=s&&(this.pointName=new pSText(s,this.pos,18,i)),this.drawOriginVector=o,this.pointSize=r,this.pointSizeDrawing=r,this.textPadding=.4}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e=new Vector,i=new Vector,s="white",r="none",n=1){this.setCoordinates(t,e,i),this.fillColor=s,this.strokeColor=r,this.strokeWeight=n}setCoordinates(t,e,i){this.p0=t||new Vector(t.x,t.y),this.p1=null==e?this.p1:new Vector(e.x,e.y),this.p2=null==i?this.p2:new Vector(i.x,i.y),this.pG=Vector.div(Vector.add(Vector.add(this.p0,this.p1),this.p2),3),this.v0=Vector.sub(this.p0,this.pG),this.v1=Vector.sub(this.p1,this.pG),this.v2=Vector.sub(this.p2,this.pG)}rotate(t){this.v0.rotate(t),this.v1.rotate(t),this.v2.rotate(t),this.p0=Vector.add(this.v0,this.pG),this.p1=Vector.add(this.v1,this.pG),this.p2=Vector.add(this.v2,this.pG)}translate(t,e){return this.setCoordinates(Vector.add(this.p0,new Vector(t,e)),Vector.add(this.p1,new Vector(t,e)),Vector.add(this.p2,new Vector(t,e))),this}translate(t){return this.translate(t.x,t.y),this}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;"none"==this.fillColor?t.noFill():t.fill(this.fillColor),"none"==this.strokeColor?t.noStroke():t.stroke(this.strokeColor).strokeWeight(this.strokeWeight),t.push().beginShape().vertex(this.p0.x,this.p0.y).vertex(this.p1.x,this.p1.y).vertex(this.p2.x,this.p2.y).vertex(this.p0.x,this.p0.y).endShape().pop()}}},function(t,e,i){t.exports=i(11)},function(t,e,i){"use strict";i.r(e),function(t){i(5);var e=i(8),s=i(1),r=i(9),n=i(3),o=(i(2),i(6),i(4),i(0));i(7),i(13);t.pSPoint=e.a,t.pSText=s.a,t.pSTriangle=r.a,t.pSAnimation=n.a,t.Vector=o.a}.call(this,i(12))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var s=i(5);var r=class{constructor(){null==window.p5&&console.error("You must import p5.js in order to run the Physics Simulation Engine.","More informations on the p5 website https://p5js.org/."),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate(),window.pSEngine=window._pSimulationInstance.getPSEngineVar()}}};new Promise((t,e)=>{"loading"===document.readyState?t():window.addEventListener("load",t,!1)}).then(()=>{new r})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wU0VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy91dGlsaXRpZXMvVmVjdG9yLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RleHQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0RyYXdlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvYW5pbWF0aW9ucy9wU0FuaW1hdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvUGxvdHRlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL1NpbXVsYXRvci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvM0REcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvdXRpbGl0aWVzL1JlY29yZGVyLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1BvaW50LmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RyaWFuZ2xlLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9tYWluLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2NvcmUvaW5pdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZlY3RvciIsIngiLCJ5IiwieiIsImNvbG9yIiwibmFtZVNpemUiLCJ0aGlzIiwic2V0TmFtZSIsInVuZGVmaW5lZCIsInBTVGV4dCIsImVxdWFscyIsInNldCIsImFkZCIsInN1YiIsImlzRmluaXRlIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsIm11bHQiLCJ2MSIsInYyIiwiY29weSIsImRpdiIsImRvdCIsInYiLCJ2TGVuIiwibWFnIiwibWluIiwibWF4IiwiTWF0aCIsInNxcnQiLCJub3JtYWxpemUiLCJhbmdsZSIsIm5ld0FuZ2xlIiwiZ2V0QW5nbGUiLCJtYWduaXR1ZGUiLCJjb3MiLCJzaW4iLCJhdGFuMiIsImNyb3NzIiwicm90YXRlIiwiaW5pdGlhbFBvcyIsImhlYWRTaXplIiwic3Ryb2tlV2VpZ2h0IiwiZHJhdyIsInBvaW50aW5nUG9zIiwic3Ryb2tlVyIsInBsb3R0ZXIiLCJfcFNpbXVsYXRpb25JbnN0YW5jZSIsImNvbmZpZyIsImVuZ2luZSIsImlzXzNEIiwicHVzaCIsImRyYXdlciIsInN0cm9rZSIsImZpbGwiLCJ0cmFuc2xhdGUiLCJsaW5lIiwicG9wIiwidjAiLCJjb21wdXRlRm9yWFlaIiwienpQb3NpdGlvbiIsImVuZFBvcyIsInRyaWFuZ2xlIiwiUEkiLCJ4T2Zmc2V0Iiwic3ZnSW1nIiwid2lkdGgiLCJ5T2Zmc2V0IiwiaGVpZ2h0Iiwic2V0Q29sb3IiLCJwb3MiLCJ0ZXh0IiwidGV4dFNpemUiLCJzaG93SGl0Ym94Iiwid2luZG93IiwiTWF0aEpheCIsInNldFRleHQiLCJwb3NPcHQiLCJpbWFnZSIsImgiLCJ3Iiwibm9GaWxsIiwic3ZnIiwidGV4MnN2ZyIsImRpc3BsYXkiLCJlbSIsImV4IiwiY29udGFpbmVyV2lkdGgiLCJsaW5lV2lkdGgiLCJzY2FsZSIsImlubmVySFRNTCIsInNwbGl0IiwicmVwbGFjZSIsInBhcnNlRmxvYXQiLCJleGVjIiwibG9hZEltYWdlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsInR5cGUiLCJzdGFjayIsInN0YWNrUG9pbnRlciIsImN1cnJlbnRTdGFja0xldmVsIiwiZ2V0Q3VycmVudFN0YWNrTGV2ZWwiLCJzQ3VyciIsImxlbmd0aCIsInBvaW50IiwieDAiLCJ5MCIsIngxIiwieTEiLCJkYXNoU2l6ZSIsImRhc2hTcGFjaW5nIiwiZHJhd2luZ0NvbnRleHQiLCJzZXRMaW5lRGFzaCIsInJ4IiwicnkiLCJhYnMiLCJlbGxpcHNlIiwiYmVnaW5TaGFwZSIsInZlcnRleCIsImVuZFNoYXBlIiwiQ0xPU0UiLCJyZWN0Iiwic3RhcnQiLCJzdG9wIiwiYXJjIiwiZyIsImIiLCJhIiwiVFlQRSIsIngyIiwieTIiLCJ4MyIsInkzIiwieDQiLCJ5NCIsInAxIiwicDIiLCJwMyIsInA0IiwiYmV6aWVyIiwiZW50ZXJTdGFja0xldmVsIiwiZXhpdFN0YWNrTGV2ZWwiLCJwdXNoU3RhY2tPcGVyYXRpb24iLCJmYWMiLCJub1N0cm9rZSIsInRpbWVMZW5ndGgiLCJkYXRhcyIsInNjYWxlVGltZSIsImlzQW5pbWF0aW5nIiwiaW5pdGlhbFQiLCJsYXN0S2V5IiwiZ2V0S2V5IiwidXBkYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJmIiwiZHQiLCJmaW5hbERyYXciLCJzdXBlciIsImN1cnJlbnRTaGFwZSIsIm5leHRTaGFwZSIsImxvY2FsRHQiLCJwb2ludHMiLCJqIiwidGgiLCJkcmF3Q3VycmVudFNoYXBlIiwibHQiLCJ0aSIsInBlcmNlbnQiLCJwZXJjZW50RnVuY3Rpb24iLCJtYXhJIiwidGltZSIsImFuaW1hdGlvbk5hbWUiLCJzaW11bGF0b3IiLCJvYmplY3RzTCIsImNsZWFyU3RhY2siLCJsaWdodHMiLCJvcmJpdENvbnRyb2wiLCJwbENvbmYiLCJiZyIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJkaXNwbGF5R3JpZCIsImRlYnVnTW9kZSIsImdyaWRDb2xvciIsInlTIiwicm91bmQiLCJzcXVhcmVCeVgiLCJvZmZzZXQiLCJ4UmVsIiwieVJlbCIsInpSZWwiLCJ1c2VPZmZzZXQiLCJjdXJyTWF0cml4IiwicmVjdXJzZVN0YWNrIiwibXVsdE1hdHJpeCIsIkFycmF5IiwieFJlbFRtcCIsImJlZ2luVGltZSIsIm5vdyIsImxhc3RVcGRhdGVUaW1lIiwibGFzdERyYXdUaW1lIiwiZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZyIsImN1c3RvbSIsImdldEN1c3RvbUNvbmZpZyIsImdldEVuZ2luZUNvbmZpZyIsImR0TW95IiwicnVubmVyIiwicm9sbGJhY2tDb250cm9sIiwibWluaW1hbFVwZGF0ZUZQUyIsImR0VG90YWwiLCJkdENvdW50IiwicHJlUnVuU2ltdWxhdG9yIiwiZSIsImNyZWF0ZVA1SW5zdGFuY2UiLCJzZXRBdHRyaWJ1dGVzIiwicmVjb3JkZXIiLCJtb3VzZVBvcyIsImNvbXB1dGVGb3JYWUZyb21QaXhlbCIsIm1vdXNlWCIsIm1vdXNlWSIsInJ1blNpbXVsYXRvciIsImdldENhbnZhc1Byb3BvcnRpb25zIiwicHJvcG9ydGlvbnMiLCJjYW52YXMiLCJjcmVhdGVDYW52YXMiLCJXRUJHTCIsInBhcmVudCIsImRpdklkIiwicnUiLCJVUERBVEVfRlBTIiwiRFJBV19GUFMiLCJmcmFtZVJhdGUiLCJjdXJyZW50VGltZSIsImNyaXRpcUR0IiwibWF4U3RhbmRhcmREZXZpYXRpb24iLCJydW5uaW5nIiwiZnJhbWVCbG9ja2VyIiwic2ltdWxhdGlvblNwZWVkIiwicGF1c2VNb2RlIiwic25hcHNob3QiLCJhdmVyYWdlVGltZVNhbXBsZSIsInVwZGF0ZUZQUyIsImN1cnJlbnRSZWxUIiwic2hvdWxkU25hcCIsImRyYXdpbmdGUFMiLCJ3aW5kb3dSZXNpemVkIiwicmVzaXplQ2FudmFzIiwibW91c2VEcmFnZ2VkIiwibW92YWJsZSIsImNQIiwiaXNSZWxhdGl2ZSIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0IiwiY3VzdG9tT2JqZWN0IiwibnVtYmVyIiwicGFyYW1zIiwiRnVuY3Rpb24iLCJjb3B5UGFyYW1zVGVtcCIsImFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyIsInJ1bkZ1bmN0aW9ucyIsInNsaWNlIiwicnVuQ2xhc3MiLCJpc19tb3ZhYmxlIiwiY29uZmlnRnVuYyIsImRyYXdlcjJEIiwiejAiLCJ6MSIsInNwaGVyZSIsImNvbmUiLCJib3giLCJjeWxpbmRlciIsInBsYW5lIiwibW9kZWxSZWYiLCJub3JtYWxNYXQiLCJub3JtYWxNYXRlcmlhbCIsIm1vZGVsIiwidHJhbnNmb3JtIiwiaWQiLCJwaXhlbERhdGFzIiwicmVnaXN0ZXJpbmdUaW1lcyIsInNldHVwIiwicGl4ZWxEZW5zaXR5IiwiY2xlYXJQaXhlbEFycmF5IiwiY2F1c2UiLCJsb2FkUGl4ZWxzIiwidG9EYXRhVVJMIiwiZGF0YVVSTCIsImRvd25sb2FkRGF0YXMiLCJzYXZlSlNPTiIsImdldERhdGFzVG9KU09OIiwiZHJhd0ZyYW1lQ291bnQiLCJ1cGRhdGVGcmFtZUNvdW50IiwidGltZXMiLCJyZWFsVGltZUxlbmd0aCIsInZpZGVvVGltZUxlbmd0aCIsInRpbWVPcGVyYXRpb25zIiwicGl4ZWxzIiwicGl4ZWxEYXRhc1NpemUiLCJwb2ludE5hbWUiLCJwb2ludFNpemUiLCJ2ZWN0b3JOYW1lIiwiZHJhd09yaWdpblZlY3RvciIsInBvaW50U2l6ZURyYXdpbmciLCJ0ZXh0UGFkZGluZyIsInBhcnNlSW50IiwicDAiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInNldENvb3JkaW5hdGVzIiwicEciLCJnbG9iYWwiLCJwU1BvaW50IiwicFNUcmlhbmdsZSIsInBTQW5pbWF0aW9uIiwicDUiLCJpbnN0YW5jaWF0ZSIsInBTRW5naW5lIiwiZ2V0UFNFbmdpbmVWYXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIl0sIm1hcHBpbmdzIjoieUJBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdB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LEdBQzFCdUgsT0FBT25ILEtBQUtvSSxHQUFHekksRUFBR0ssS0FBS29JLEdBQUd4SSxHQUMxQnVILE9BQU9uSCxLQUFLcUksR0FBRzFJLEVBQUdLLEtBQUtxSSxHQUFHekksR0FDMUJ1SCxPQUFPbkgsS0FBSytTLEdBQUdwVCxFQUFHSyxLQUFLK1MsR0FBR25ULEdBQzlCd0gsV0FDSmhFLFMsOERDdEhULDJGQXdCQWdRLEVBQU9DLFFBQWMsSUFDckJELEVBQU9qVCxPQUFjLElBQ3JCaVQsRUFBT0UsV0FBYyxJQUdyQkYsRUFBT0csWUFBYyxJQUdyQkgsRUFBTzFULE9BQWMsSyxnQ0NoQ3JCLElBQUlnSSxFQUdKQSxFQUFJLFdBQ0gsT0FBTzFILEtBREosR0FJSixJQUVDMEgsRUFBSUEsR0FBSyxJQUFJb0ksU0FBUyxjQUFiLEdBQ1IsTUFBTzVDLEdBRWMsaUJBQVg3SSxTQUFxQnFELEVBQUlyRCxRQU9yQzVHLEVBQU9ELFFBQVVrSyxHLHdDQ0FGLE1BakJmLE1BQ0MsY0FDaUJ4SCxNQUFibUUsT0FBT21QLElBQ1QvUyxRQUFRRSxNQUNQLHVFQUNBLDBEQUlGMEQsT0FBT2lOLE1BQVEsV0FDZGpOLE9BQU8zQixxQkFBdUIsSUFBSSxJQUNsQzJCLE9BQU8zQixxQkFBcUIrUSxjQUM1QnBQLE9BQU9xUCxTQUFXclAsT0FBTzNCLHFCQUFxQmlSLG9CQ1JwQixJQUFJQyxRQUFRLENBQUNDLEVBQVNDLEtBQ3BCLFlBQXhCQyxTQUFTQyxXQUNSSCxJQUVBeFAsT0FBTzRQLGlCQUFpQixPQUFRSixHQUFTLEtBRzVCSyxLQVhPLEtBQzNCLElBQUkiLCJmaWxlIjoicFNFbmdpbmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG4iLCJpbXBvcnQgJy4vLi4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcblxyXG4vKipcclxuKiBBIGNsYXNzIGZvciBldmVyeSAzRCBWZWN0b3JzLlxyXG4qIDxici8+UGxlYXNlIG5vdGUgdGhhdCBjdXJyZW50IHZlY3RvciBtYXkgb25seSBiZSB1c2VkIGluIDxiPjJEPC9iPi5cclxuKi9cclxuY2xhc3MgVmVjdG9yIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvciAoZWFjaCBjb29yZGluYXRlIGdldHMgYSAwIGlmIHZhbHVlIG5vdCBwcm92aWRlZClcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gY29sb3IgQ29sb3Igb2YgdGhlIFZlY3RvciAncmdiYShSLCBHLCBCLCBBKSdcclxuICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgVmVjdG9yIHBvdGVudGlhbGx5IGRpc3BsYXllZCAoQHNlZSBkcmF3IG1ldGhvZClcclxuICAgICogQHBhcmFtIG5hbWVTaXplIFRleHQgc2l6ZSBvZiB0aGUgbmFtZSBvZiB0aGUgVmVjdG9yIChkZWZhdWx0IDEuMylcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgeiwgY29sb3IgPSAncmdiKDI1NSwgMjU1LCAyNTUpJywgbmFtZSwgbmFtZVNpemUgPSAxLjMpIHtcclxuICAgICAgICB0aGlzLnggICAgPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ICAgID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiAgICA9IHogfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cclxuICAgICAgICB0aGlzLnNldE5hbWUobmFtZSwgY29sb3IsIG5hbWVTaXplKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgTUVUSE9EUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgeCwgeSwgeiBjb29yZGluYXRlcyAoZWFjaCBjb29yZGluYXRlIGdldHMgYSAwIGlmIHZhbHVlIG5vdCBwcm92aWRlZClcclxuICAgICogQHBhcmFtIHggTmV3IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IHRvIGJlIGVxdWFsIHRvXHJcbiAgICAqIEBwYXJhbSB5IE5ldyBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogTmV3IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXQoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy54ID0geC54IHx8IDA7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHgueSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnogPSB4LnogfHwgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiA9IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHZlY3RvciBuYW1lXHJcbiAgICAqIEBwYXJhbSBuYW1lIE5ldyBuYW1lIG9mIHRoZSBWZWN0b3JcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBWZWN0b3IgbmFtZVxyXG4gICAgKiBAcGFyYW0gbmFtZVNpemUgVGV4dCBzaXplIG9mIHRoZSBuYW1lIG9mIHRoZSBWZWN0b3IgKGRlZmF1bHQgMS4zKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXROYW1lKG5hbWUsIGNvbG9yLCBuYW1lU2l6ZSA9IDEuMykge1xyXG4gICAgICAgIGlmKG5hbWUgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgaWYobmFtZSBpbnN0YW5jZW9mIHBTVGV4dClcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5ldyBwU1RleHQobmFtZSwgdGhpcywgbmFtZVNpemUsIGNvbG9yKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoZWNrIGlmIHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgYXJlIGVxdWFsXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IGZvciBlZ2FsaXR5IGNoZWNraW5nXHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geiBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0cnVlIGlmIGVxdWFsXHJcbiAgICAqL1xyXG4gICAgZXF1YWxzKHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcXVhbHMoeC54LCB4LnksIHgueik7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy54ID09IHgpICYmICh0aGlzLnkgPT0geSkgJiYgKHRoaXMueiA9PSB6KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgVmVjdG9yICovXHJcbiAgICBjb3B5KCkgeyByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoaXMgVmVjdG9yIHdpdGggY29vcmRpbmF0ZXMgc2V0IHRvICgwLCAwLCAwKSAqL1xyXG4gICAgY2xlYXIoKSB7IHJldHVybiB0aGlzLnNldCgwLCAwLCAwKTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIEEgU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QgKi9cclxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gYFZlY3RvciBPYmplY3QgOiBbJHt0aGlzLnh9LCAke3RoaXMueX0sICR7dGhpcy56fV1gOyB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgT1BFUkFUSU9OUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBBZGQgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGFkZCh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICB0aGlzLnggKz0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSArPSB5IHx8IDA7XHJcbiAgICAgICAgdGhpcy56ICs9IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3VzdHJhY3QgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHN1Yih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3ViKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICB0aGlzLnggLT0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSAtPSB5IHx8IDA7XHJcbiAgICAgICAgdGhpcy56IC09IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogTXVsdGlwbHkgdGhpcyBWZWN0b3IgYnkgYSBzY2FsYXJcclxuICAgICogQHBhcmFtIGMgVGhlIG11bHRpcGxpY2F0aW9uIHNjYWxhclxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBtdWx0KGMpIHtcclxuICAgICAgICBpZighKHR5cGVvZiBjID09PSAnbnVtYmVyJykgfHwgIWlzRmluaXRlKGMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgICdWZWN0b3I6Om11bHQoKScsXHJcbiAgICAgICAgICAgICAgICAnYyBpcyB1bmRlZmluZWQgb3IgaXNuXFwndCBhIGZpbml0ZSBudW1iZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy54ICo9IGM7XHJcbiAgICAgICAgdGhpcy55ICo9IGM7XHJcbiAgICAgICAgdGhpcy56ICo9IGM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERpdmlkZXMgdGhpcyBWZWN0b3IgYnkgYSBzY2FsYXJcclxuICAgICogQHBhcmFtIGMgVGhlIGRpdmlzaW9uIHNjYWxhclxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBkaXYoYykge1xyXG4gICAgICAgIGlmKCEodHlwZW9mIGMgPT09ICdudW1iZXInKSB8fCAhaXNGaW5pdGUoYykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgJ1ZlY3Rvcjo6ZGl2KCknLFxyXG4gICAgICAgICAgICAgICAgJ2MgaXMgdW5kZWZpbmVkIG9yIGlzblxcJ3QgYSBmaW5pdGUgbnVtYmVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYyA9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCBkaXZpZGUgYnkgMCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm11bHQoMSAvIGMpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gU3RhdGljIG1ldGhvZHNcclxuICAgIC8qKlxyXG4gICAgKiBBZGQgdHdvIHZlY3RvcnMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gQSBuZXcgVmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGFkZCh2MSwgdjIpIHsgcmV0dXJuICh2MS5jb3B5KCkpLmFkZCh2Mik7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3VidHJhY3QgdHdvIHZlY3RvcnMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gQSBuZXcgVmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIHN1Yih2MSwgdjIpIHsgcmV0dXJuICh2MS5jb3B5KCkpLnN1Yih2Mik7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogTXVsdGlwbHkgYSB2ZWN0b3IgYnkgYSBzY2FsYXJcclxuICAgICogQHBhcmFtIHYxIFRoZSB2ZWN0b3JcclxuICAgICogQHBhcmFtIGMgQSBzY2FsYXIgY1xyXG4gICAgKiBAcmV0dXJuIEEgbmV3IG11bHRpcGxpZWQgVmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIG11bHQodjEsIGMpIHsgcmV0dXJuICh2MS5jb3B5KCkpLm11bHQoYyk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGl2aWRlcyB0d28gdmVjdG9ycyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIHZlY3RvclxyXG4gICAgKiBAcGFyYW0gYyBBIHNjYWxhciBjXHJcbiAgICAqIEByZXR1cm4gQSBuZXcgZGl2aWRlZCBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgZGl2ICh2MSwgYykgeyByZXR1cm4gKHYxLmNvcHkoKSkuZGl2KGMpOyB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBBRFZBTkNFRCBNQVRIIFZFQ1RPUiBPUEVSQVRJT05TID09PT09PT09PSAqL1xyXG4gICAgLy8gRG90IGFuZCBjcm9zcyBwcm9kdWN0c1xyXG4gICAgLyoqXHJcbiAgICAqIERvdCBwcm9kdWN0IGJldHdlZW4gYSBWZWN0b3IgT1IgYSBwYWlyIG9mIGNvb3JkaW5hdGVzXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4XHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geiBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZG90KHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb3QoeC54LCB4LnksIHgueik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnggKiAoeCB8fCAwKSArIHRoaXMueSAqICh5IHx8IDApICsgdGhpcy56ICogKHogfHwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENyb3NzIHByb2R1Y3Qgd2l0aCBhIFZlY3RvclxyXG4gICAgKiBAcGFyYW0gdiBUaGUgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGNyb3NzKHYpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgdGhpcy55ICogdi56IC0gdGhpcy56ICogdi55LFxyXG4gICAgICAgICAgICB0aGlzLnogKiB2LnggLSB0aGlzLnggKiB2LnosXHJcbiAgICAgICAgICAgIHRoaXMueCAqIHYueSAtIHRoaXMueSAqIHYueFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBNYWduaXR1ZGVcclxuICAgIC8qKiBAcmV0dXJuIHRoZSBub3JtYWxpemVkIFZlY3RvciAqL1xyXG4gICAgbm9ybWFsaXplKCkge1xyXG4gICAgICAgIGNvbnN0IHZMZW4gPSB0aGlzLm1hZygpO1xyXG4gICAgICAgIGlmICh2TGVuICE9PSAwKVxyXG4gICAgICAgICAgICB0aGlzLmRpdih2TGVuKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIExpbWl0IHRoZSBtYWduaXR1ZGUgb2YgdGhlIHZlY3RvciBiZXR3ZWVuIGEgbWluIGFuZCBhIG1heCB2YWx1ZVxyXG4gICAgKiBAcGFyYW0gbWluIE1pbmltdW0gdmFsdWUgb2YgdGhlIFZlY3RvciBtYWduaXR1ZGVcclxuICAgICogQHBhcmFtIG1heCBNYXhpbXVtIHZhbHVlIG9mIHRoZSBWZWN0b3IgbWFnbml0dWRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGxpbWl0KG1pbiwgbWF4KSB7XHJcbiAgICBcdGxldCBtID0gdGhpcy5tYWcoKTtcclxuICAgIFx0aWYobSA8IG1pbilcclxuICAgIFx0XHR0aGlzLmRpdihtKS5tdWx0KG1pbik7XHJcbiAgICBcdGlmKG0gPiBtYXgpXHJcbiAgICBcdFx0dGhpcy5kaXYobSkubXVsdChtYXgpO1xyXG4gICAgXHRyZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgbWFnbml0dWRlIG9mIHRoaXMgdmVjdG9yICovXHJcbiAgICBtYWcoKSB7IHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56KTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgdGhlIG1hZ25pdHVkZSBvZiB0aGlzIHZlY3RvclxyXG4gICAgKiBAcGFyYW0gbWFnIFRoZSBuZXcgbWFnbml0dWRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldE1hZyhtYWcpIHsgcmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdChtYWcpOyB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBBbmdsZXNcclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGUgdGhpcyB2ZWN0b3IgYnkgYW4gYW5nbGUgb24gdGhlIFhZIHBsYW5lXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBBbiBhbmdsZSBJTiBSQURJQU5TXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHJvdGF0ZShhbmdsZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0FuZ2xlICA9IHRoaXMuZ2V0QW5nbGUoKSArIGFuZ2xlO1xyXG4gICAgICAgIGNvbnN0IG1hZ25pdHVkZSA9IHRoaXMubWFnKCk7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IE1hdGguY29zKG5ld0FuZ2xlKSAqIG1hZ25pdHVkZTtcclxuICAgICAgICB0aGlzLnkgPSBNYXRoLnNpbihuZXdBbmdsZSkgKiBtYWduaXR1ZGU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCB0aGUgb3JpZ2luICovXHJcbiAgICBnZXRBbmdsZSgpIHsgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55LCB0aGlzLngpOyB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBTdGF0aWMgbWV0aG9kc1xyXG4gICAgLyoqXHJcbiAgICAqIERpc3RhbmNlIGJld3RlZW4gdHdvIHZlY3RvcnNcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb3NpdGlvbnMgd2hlcmUgdGhlIGFycm93IGFyZSBwb2ludGluZyB0b1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkaXN0KHYxLCB2MikgeyByZXR1cm4gVmVjdG9yLnN1Yih2MSwgdjIpLm1hZygpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERvdCBwcm9kdWN0IGJldHdlZW4gYSBWZWN0b3IgT1IgYSBwYWlyIG9mIGNvb3JkaW5hdGVzXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4XHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geiBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGUgZG90dGVkIG5ldyB2ZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgZG90KHYxLCB4LCB5LCB6KSB7IHJldHVybiAodjEuY29weSgpKS5kb3QoeCwgeSwgeik7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ3Jvc3MgcHJvZHVjdCB3aXRoIGEgVmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIHRoZSBjcm9zc2VkIG5ldyB2ZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgY3Jvc3ModjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5jcm9zcyh2Mik7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgbm9ybWFsaXplZCBWZWN0b3IgKi9cclxuICAgIHN0YXRpYyBub3JtYWxpemUodjEpIHsgcmV0dXJuICh2MS5jb3B5KCkpLm5vcm1hbGl6ZSgpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZSBhIHZlY3RvciBieSBhbiBhbmdsZVxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIHZlY3RvciB0byBiZSByb3RhdGVkXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBBbiBhbmdsZSBJTiBSQURJQU5TXHJcbiAgICAqIEByZXR1cm4gdGhlIHJvdGF0ZWQgdmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIHJvdGF0ZSAodjEsIGFuZ2xlKSB7IHJldHVybiAodjEuY29weSgpKS5yb3RhdGUoYW5nbGUpOyB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogPT09PT09PT09IERSQVdJTkcgVkVDVE9SUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgdmVjdG9yIHRvIHRoZSBjYW52YXMgdXNpbmcgdGhlIGBEcmF3ZXJgIGNsYXNzXHJcbiAgICAqIEBwYXJhbSBpbml0aWFsUG9zIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24gb2YgdGhlIFZlY3RvciBBcnJvd1xyXG4gICAgKiBAcGFyYW0gaGVhZFNpemUgU2l6ZSBvZiB0aGUgaGVhZCBpbiBwaXhlbHMgKGRlZmF1bHQgPSA1IHB4KVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFN0cm9rZSB3ZWlnaHQgb2YgdGhlIFZlY3RvciBpbiBwaXhlbHMgKGRlZmF1bHQgPSAxIHB4KVxyXG4gICAgKi9cclxuICAgIGRyYXcoaW5pdGlhbFBvcywgaGVhZFNpemUsIHN0cm9rZVdlaWdodCkge1xyXG4gICAgICAgIGlmKGluaXRpYWxQb3MgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBWZWN0b3IuZHJhdyhpbml0aWFsUG9zLCB0aGlzLCB0aGlzLmNvbG9yLCBoZWFkU2l6ZSwgc3Ryb2tlV2VpZ2h0KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIFZlY3Rvci5kcmF3KHVuZGVmaW5lZCAsIHRoaXMsIHRoaXMuY29sb3IsIGhlYWRTaXplLCBzdHJva2VXZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiAoUGxlYXNlIGF2b2lkIGRpcmVjdGx5IHVzaW5nIHRoaXMgbWV0aG9kKVxyXG4gICAgKiBEcmF3IGEgdmVjdG9yIHRvIHRoZSBjYW52YXMgdXNpbmcgdGhlIGBEcmF3ZXJgIGNsYXNzXHJcbiAgICAqIEBwYXJhbSBpbml0aWFsUG9zIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24gb2YgdGhlIFZlY3RvciBBcnJvd1xyXG4gICAgKiBAcGFyYW0gaW5pdGlhbFBvcyBUaGUgZW5kaW5nIHBvc2l0aW9uIG9mIHRoZSBWZWN0b3IgQXJyb3dcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBhcnJvdyAoZGVmYXVsdCBgcmdiKDI1NSwgMjU1LCAyNTUpYClcclxuICAgICogQHBhcmFtIGhlYWRTaXplIFNpemUgb2YgdGhlIGhlYWQgaW4gcGl4ZWxzIChkZWZhdWx0ID0gNSBweClcclxuICAgICogQHBhcmFtIHN0cm9rZVdlaWdodCBTdHJva2Ugd2VpZ2h0IG9mIHRoZSBWZWN0b3IgaW4gcGl4ZWxzIChkZWZhdWx0ID0gMSBweClcclxuICAgICovXHJcbiAgICBzdGF0aWMgZHJhdyhpbml0aWFsUG9zID0gbmV3IFZlY3RvcigpLCBwb2ludGluZ1BvcywgY29sb3IgPSAncmdiKDI1NSwgMjU1LCAyNTUpJywgaGVhZFNpemUgPSA1LCBzdHJva2VXID0gMSkge1xyXG4gICAgICAgIGxldCBwbG90dGVyID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlcjtcclxuXHJcbiAgICAgICAgaWYoIV9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlci5pc18zRCkge1xyXG4gICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUlxyXG4gICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodChzdHJva2VXKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsbChjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmxpbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9zLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9zLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9zLnggKyBwb2ludGluZ1Bvcy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBvcy55ICsgcG9pbnRpbmdQb3MueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdjAgPSBwbG90dGVyLmNvbXB1dGVGb3JYWVooaW5pdGlhbFBvcy54LCBpbml0aWFsUG9zLnksIGluaXRpYWxQb3MueiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgenpQb3NpdGlvbiA9IHBsb3R0ZXIuY29tcHV0ZUZvclhZWigwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kUG9zICAgICA9IHBsb3R0ZXIuY29tcHV0ZUZvclhZWihwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55LCBwb2ludGluZ1Bvcy56KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlKGVuZFBvcy54LCBlbmRQb3MueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZShlbmRQb3Muc3ViKHp6UG9zaXRpb24pLmdldEFuZ2xlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSgtaGVhZFNpemUgLSAyLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZSgwLCBoZWFkU2l6ZSAvIDIsIDAsIC1oZWFkU2l6ZSAvIDIsIGhlYWRTaXplLCAwKTtcclxuICAgICAgICAgICAgICAgIHBvcCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUiBOQU1FXHJcbiAgICAgICAgICAgICAgICBpZihwb2ludGluZ1Bvcy5uYW1lICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9mZnNldCBvZiB0aGUgdGV4dCBiYXNlZCBvbiB0aGUgYW5nbGUgb24gdGhlIHVuaXQgY2lyY2xlXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gcG9pbnRpbmdQb3MuZ2V0QW5nbGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihhbmdsZSA8IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ2xlICs9IDIqUEk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB4T2Zmc2V0ID0gMC4wMSAqIHBvaW50aW5nUG9zLm5hbWUuc3ZnSW1nLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCAgICAoUEkvNCAgIDwgYW5nbGUgJiYgYW5nbGUgPD0gUEkvMiAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoMypQSS80IDwgYW5nbGUgJiYgYW5nbGUgPD0gNSpQSS80KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoMypQSS8yIDwgYW5nbGUgJiYgYW5nbGUgPD0gNypQSS80KVxyXG4gICAgICAgICAgICAgICAgICAgICkgeE9mZnNldCAqPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHlPZmZzZXQgPSAwLjAxICogcG9pbnRpbmdQb3MubmFtZS5zdmdJbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCAgICAoUEkvNCAgIDwgYW5nbGUgJiYgYW5nbGUgPD0gICBQSS8yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoUEkvMiAgIDwgYW5nbGUgJiYgYW5nbGUgPD0gMypQSS80KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoUEkgICAgIDwgYW5nbGUgJiYgYW5nbGUgPD0gNSpQSS80KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoNypQSS80IDwgYW5nbGUgJiYgYW5nbGUgPD0gICAyKlBJKVxyXG4gICAgICAgICAgICAgICAgICAgICkgeU9mZnNldCAqPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRpbmdQb3MubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0Q29sb3IoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kcmF3KHBvaW50aW5nUG9zLm5hbWUucG9zLmNvcHkoKS5kaXYoMikuYWRkKHhPZmZzZXQsIHlPZmZzZXQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBoZWFkU2l6ZSAvPSAzO1xyXG5cclxuICAgICAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoc3Ryb2tlVylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsbChjb2xvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1JcclxuICAgICAgICAgICAgICAgIGlmKGluaXRpYWxQb3MgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHBsb3R0ZXIuZHJhd2VyLnRyYW5zbGF0ZShpbml0aWFsUG9zLngsIGluaXRpYWxQb3MueSwgaW5pdGlhbFBvcy56KTtcclxuICAgICAgICAgICAgICAgIHBsb3R0ZXIuZHJhd2VyLmxpbmUoMCwgMCwgMCwgcG9pbnRpbmdQb3MueCwgcG9pbnRpbmdQb3MueSwgcG9pbnRpbmdQb3Mueik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1IgTkFNRVxyXG4gICAgICAgICAgICAgICAgLy8gaWYocG9pbnRpbmdQb3MubmFtZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0ZXh0KHBvaW50aW5nUG9zLngsIHBvaW50aW5nUG9zLnksIHBvaW50aW5nUG9zLnopO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGxldCB4YXhpcyA9IFZlY3Rvci5jcm9zcyhuZXcgVmVjdG9yKDAsIDEsIDApLCBwb2ludGluZ1Bvcyk7XHJcbiAgICAgICAgICAgICAgICAvLyB4YXhpcy5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgeWF4aXMgPSBWZWN0b3IuY3Jvc3MocG9pbnRpbmdQb3MsIHhheGlzKTtcclxuICAgICAgICAgICAgICAgIC8vIHlheGlzLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIC8vIENhbGN1bGF0ZSByb3RhdGlvbiBtYXRyaXhcclxuICAgICAgICAgICAgICAgIC8vIGxldCBNID0gW1tdLCBbXSwgW11dO1xyXG4gICAgICAgICAgICAgICAgLy8gTVswXVswXSA9IHhheGlzLng7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzBdWzFdID0geWF4aXMueDtcclxuICAgICAgICAgICAgICAgIC8vIE1bMF1bMl0gPSBwb2ludGluZ1Bvcy54O1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIE1bMV1bMF0gPSB4YXhpcy55O1xyXG4gICAgICAgICAgICAgICAgLy8gTVsxXVsxXSA9IHlheGlzLnk7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzFdWzJdID0gcG9pbnRpbmdQb3MueTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBNWzJdWzBdID0geGF4aXMuejtcclxuICAgICAgICAgICAgICAgIC8vIE1bMl1bMV0gPSB5YXhpcy56O1xyXG4gICAgICAgICAgICAgICAgLy8gTVsyXVsyXSA9IHBvaW50aW5nUG9zLno7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gQ2FsY3VsYXRlIEV1bGVyIGFuZ2xlc1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHRoZXRhMSwgdGhldGEyLCB0aGV0YSwgcHN5MSwgcHN5MiwgcHN5LCBwaGkxLCBwaGkyLCBwaGk7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoTVszXVsxXSAhPSAtMSAmJiBNWzNdWzFdICE9IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGV0YTEgPSAtTWF0aC5hcmNzaW4oTVszXVsxXSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhldGEyID0gTWF0aC5QSSAtIHRoZXRhMTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBwc3kxID0gTWF0aC5hdGFuMihNWzNdWzJdIC8gTWF0aC5jb3ModGhldGExKSlcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBjb25lKGhlYWRTaXplICogMywgaGVhZFNpemUgKiA3KTtcclxuICAgICAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZlY3RvcjtcclxuIiwiY2xhc3MgcFNUZXh0IHtcclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gdGV4dCBMYVRlWCBjb2RlIChpbnNlcnQgJ1xcdGV4dHtURVhUfScgZm9yIHBsYWluIHRleHQpXHJcbiAgICAqIEBwYXJhbSBwb3MgdGV4dCBwb3NpdGlvbiAoZGVmYXVsdCAoMCwgMCkpXHJcbiAgICAqIEBwYXJhbSB0ZXh0U2l6ZSB0ZXh0IHNpemUgbXVsdGlwbGllciAoZGVmYXVsdCAxKVxyXG4gICAgKiBAcGFyYW0gY29sb3IgdGV4dCBjb2xvciAoZGVmYXVsdCB3aGl0ZSlcclxuICAgICogQHBhcmFtIHNob3dIaXRib3ggdHJ1ZSA6IHNob3cgdGV4dCBoaXRib3ggKGRlZmF1bHQgOiBmYWxzZSlcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBwb3MgPSBuZXcgVmVjdG9yKCksIHRleHRTaXplID0gMSwgY29sb3IgPSBcIiNGRkZGRkZcIiwgc2hvd0hpdGJveCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYod2luZG93Lk1hdGhKYXggPT0gdW5kZWZpbmVkKVxyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdZb3UgbXVzdCBpbXBvcnQgTWF0aEpheC5qcyA+PTMuMC4wIGluIG9yZGVyIHRvIHVzZSBUZXh0IGFuZCBUZXggc3RyaW5ncy4nKTtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0U2l6ZSAgID0gdGV4dFNpemU7XHJcbiAgICAgICAgdGhpcy5jb2xvciAgICAgID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5wb3MgICAgICAgID0gcG9zO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpdGJveCA9IHNob3dIaXRib3g7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VGV4dCh0ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgdGV4dCB0byB0aGUgc2NyZWVuXHJcbiAgICAqIEBwYXJhbSBwb3NPcHQgRm9yY2UgdGV4dCBwb3NpdGlvblxyXG4gICAgKi9cclxuICAgIGRyYXcocG9zT3B0KSB7XHJcbiAgICAgICAgbGV0IGRyYXdlciA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICBsZXQgcG9zID0gZHJhd2VyLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih0aGlzLnBvcy54LCB0aGlzLnBvcy55KTtcclxuICAgICAgICBpZihwb3NPcHQgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBwb3MgPSBkcmF3ZXIucGxvdHRlci5jb21wdXRlRm9yWFlaKHBvc09wdC54LCBwb3NPcHQueSk7XHJcblxyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgtdGhpcy5zdmdJbWcud2lkdGggLyAyLCAtdGhpcy5zdmdJbWcuaGVpZ2h0IC8gMik7XHJcblxyXG4gICAgICAgICAgICBpbWFnZSh0aGlzLnN2Z0ltZywgcG9zLngsIHBvcy55LCB0aGlzLnN2Z0ltZy53aWR0aCwgdGhpcy5zdmdJbWcuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuc2hvd0hpdGJveCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGggPSB0aGlzLnN2Z0ltZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdyA9IHRoaXMuc3ZnSW1nLndpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgIGRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UodGhpcy5jb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLm5vRmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgbGluZShwb3MueCAgICAsIHBvcy55ICAgICwgcG9zLnggKyB3LCBwb3MueSAgICApO1xyXG4gICAgICAgICAgICAgICAgbGluZShwb3MueCAgICAsIHBvcy55ICsgaCwgcG9zLnggKyB3LCBwb3MueSArIGgpO1xyXG4gICAgICAgICAgICAgICAgbGluZShwb3MueCAgICAsIHBvcy55ICsgaCwgcG9zLnggICAgLCBwb3MueSAgICApO1xyXG4gICAgICAgICAgICAgICAgbGluZShwb3MueCArIHcsIHBvcy55ICsgaCwgcG9zLnggKyB3LCBwb3MueSAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgcG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5nZSB0ZXh0IHZhbHVlXHJcbiAgICAqL1xyXG4gICAgc2V0VGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuXHJcbiAgICAgICAgbGV0IHN2ZyA9ICc8c3ZnJyArIE1hdGhKYXgudGV4MnN2Zyh0aGlzLnRleHQsXHJcbiAgICAgICAgICAgIHsgZGlzcGxheSA6IHRydWUsIGVtIDogMTIsIGV4IDogNiwgY29udGFpbmVyV2lkdGggOiA4MCAqIDYsIGxpbmVXaWR0aCA6IDEwMDAwMCwgc2NhbGUgOiAxIH1cclxuICAgICAgICApLmlubmVySFRNTC5zcGxpdCgnPHN2ZycpWzFdLnNwbGl0KCc8L3N2Zz4nKVswXSArICc8L3N2Zz4nO1xyXG5cclxuICAgICAgICBzdmcgPSBzdmdcclxuICAgICAgICAgICAgLnJlcGxhY2UoLzxnL2cgICAgICAgICAgICwgJzxnIGNvbG9yPVwiJyArIHRoaXMuY29sb3IgKyAnXCInKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvd2lkdGg9XCIoLio/KVwiLyAsICd3aWR0aD1cIicgICsgcGFyc2VGbG9hdCgvd2lkdGg9XCIoLio/KVwiLyAuZXhlYyhzdmcpWzFdLnNwbGl0KCdleCcpWzBdKSAqIHRoaXMudGV4dFNpemUgKyAnZXhcIicpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9oZWlnaHQ9XCIoLio/KVwiLywgJ2hlaWdodD1cIicgKyBwYXJzZUZsb2F0KC9oZWlnaHQ9XCIoLio/KVwiLy5leGVjKHN2ZylbMV0uc3BsaXQoJ2V4JylbMF0pICogdGhpcy50ZXh0U2l6ZSArICdleFwiJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ZnSW1nID0gbG9hZEltYWdlKFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3N2Z10sIHsgdHlwZTogJ2ltYWdlL3N2Zyt4bWwnIH0pKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGFuZ2VzIHRleHQgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHggbmV3IFggcG9zaXRpb25cclxuICAgICogQHBhcmFtIHkgbmV3IFkgcG9zaXRpb25cclxuICAgICovXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5wb3MueCA9IHg7XHJcbiAgICAgICAgdGhpcy5wb3MueSA9IHk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5nZXMgdGV4dCBjb2xvclxyXG4gICAgKiBAcGFyYW0gY29sb3IgTmV3IGNvbG9yXHJcbiAgICAqL1xyXG4gICAgc2V0Q29sb3IoY29sb3IpIHtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTVGV4dDtcclxuIiwiY2xhc3MgcFNEcmF3ZXIge1xyXG4gICAgLyoqIENvbnN0cnVjdCB0aGUgbWFpbiBwU0VuZ2luZSBkcmF3ZXIgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBsb3R0ZXIpIHtcclxuICAgICAgICB0aGlzLnBsb3R0ZXIgPSBudWxsOyAvLyBzZXQgd2hlbiBsb2FkZWQgaW4gdGhlIFBsb3R0ZXIgY2xhc3NcclxuXHJcbiAgICAgICAgLyoqIFN0YWNrIGZvciBoYW5kZWxpbmcgcm90YXRpb25zLCB0cmFuc2xhdGlvbnMsIHNjYWxlcywgcHVsbCBhbmQgcG9wIGNvbW1hbmRzXHJcbiAgICAgICAgKiA9PT0gU1RSVUNUVVJFID09PVxyXG4gICAgICAgICogWyBMZXZlbCAwXHJcbiAgICAgICAgKiAgICAgWyBuZXcgbGV2ZWwgeCBvZiBkZXB0aFxyXG4gICAgICAgICogICAgICAgICAgeyBcXG5ldyBsZXZlbCB4KzEgb2JqZWN0IGZvciBlYWNoIG9wZXJhdGlvbiBpbnNpZGUgYSBwdXNoKCksIHBvcCgpIHNlY3Rpb25cclxuICAgICAgICAqICAgICAgICAgICAgICB0eXBlIDogJ3QnLCAgIC8vIHQgOiB0cmFuc2xhdGlvbiAvIHIgOiByb3RhdGlvbiAvIHMgOiBzY2FsZVxyXG4gICAgICAgICogICAgICAgICAgICAgIHQgOiB7IFxceCA6IDAsIHkgOiAwfSxcclxuICAgICAgICAqICAgICAgICAgICAgICByIDogMCxcclxuICAgICAgICAqICAgICAgICAgICAgICBzIDogMVxyXG4gICAgICAgICogICAgICAgICAgfVxyXG4gICAgICAgICogICAgIF1cclxuICAgICAgICAqIH1cclxuICAgICAgICAqIFxcT25seSBoYW5kbGVzIGFuZCBzYXZlcyB0cmFuc2xhdGlvbnMgYW5kIHJvdGF0aW9uc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3RhY2tQb2ludGVyID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIENsZWFycyBzdGFjayBvbiBlYWNoIHVwZGF0ZSgpICovXHJcbiAgICBjbGVhclN0YWNrKCkge1xyXG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcclxuICAgICAgICB0aGlzLnN0YWNrUG9pbnRlciA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFN0YWNrTGV2ZWwgPSB0aGlzLnN0YWNrO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBZGRzIGEgbmV3IHN0YWNrIG9wZXJhdGlvbiB0byB0aGUgY3VycmVudCBzdGFja1xyXG4gICAgKiBAcGFyYW0gdHlwZSB0IDogdHJhbnNsYXRpb24gLyByIDogcm90YXRpb24gLyBzIDogc2NhbGVcclxuICAgICogQHBhcmFtIHQgVHJhbnNsYXRpb24gYW1vdW50IChyZXF1aXJlZClcclxuICAgICogQHBhcmFtIHIgUm90YXRpb24gYW1vdW50IChkZWZhdWx0IDApXHJcbiAgICAqIEBwYXJhbSBzIFNjYWxlIGFtb3VudCAoZGVmYXVsdCAxKVxyXG4gICAgKi9cclxuICAgIHB1c2hTdGFja09wZXJhdGlvbih0eXBlLCB0LCByID0gMCwgcyA9IDEpIHtcclxuICAgICAgICBsZXQgbSA9IFtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXTtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAndCc6XHJcbiAgICAgICAgICAgICAgICBtID0gW1sxLCAwLCB0LnhdLCBbMCwgMSwgdC55XSwgWzAsIDAsIDFdXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdyJzpcclxuICAgICAgICAgICAgICAgIG0gPSBbW01hdGguY29zKHIpLCAtTWF0aC5zaW4ociksIDBdLCBbTWF0aC5zaW4ociksIE1hdGguY29zKHIpLCAwXSwgWzAsIDAsIDFdXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzJzpcclxuICAgICAgICAgICAgICAgIG0gPSBbW3MsIDAsIDBdLCBbMCwgcywgMF0sIFswLCAwLCAxXV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXRDdXJyZW50U3RhY2tMZXZlbCgpLnB1c2goeyBtIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBjdXJyZW50IHN0YWNrIGxldmVsICovXHJcbiAgICBnZXRDdXJyZW50U3RhY2tMZXZlbCgpIHtcclxuICAgICAgICBsZXQgc0N1cnIgPSB0aGlzLnN0YWNrO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGFja1BvaW50ZXIubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIHNDdXJyID0gc0N1cnJbdGhpcy5zdGFja1BvaW50ZXJbaV1dO1xyXG4gICAgICAgIHJldHVybiBzQ3VycjtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQ3JlYXRlcyBhbmQgZW50ZXIgaW4gYSBuZXcgc3RhY2sgbGV2ZWwgKi9cclxuICAgIGVudGVyU3RhY2tMZXZlbCgpIHtcclxuICAgICAgICBsZXQgc0N1cnIgPSB0aGlzLmdldEN1cnJlbnRTdGFja0xldmVsKCk7XHJcbiAgICAgICAgdGhpcy5zdGFja1BvaW50ZXIucHVzaChzQ3Vyci5sZW5ndGgpO1xyXG4gICAgICAgIHNDdXJyLnB1c2goW10pO1xyXG4gICAgfVxyXG4gICAgLyoqIExlYXZlcyB0aGUgY3VycmVudCBzdGFjayBsZXZlbCAqL1xyXG4gICAgZXhpdFN0YWNrTGV2ZWwoKSB7XHJcbiAgICAgICAgbGV0IHNDdXJyID0gdGhpcy5zdGFjaztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhY2tQb2ludGVyLmxlbmd0aCAtIDE7IGkrKylcclxuICAgICAgICAgICAgc0N1cnIgPSBzQ3Vyclt0aGlzLnN0YWNrUG9pbnRlcltpXV07XHJcbiAgICAgICAgdGhpcy5zdGFja1BvaW50ZXIucG9wKCk7XHJcbiAgICAgICAgc0N1cnIucG9wKCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIHBvaW50IHRvIHRoZSBzY3JlZW5cclxuICAgICogQHBhcmFtIHggWCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcG9pbnQoeCwgeSkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcbiAgICAgICAgcG9pbnQodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgbGluZSBmcm9tIG9uZSBwb2ludCB0byB0aGUgb3RoZXIgdG8gdGhlIHNjcmVlblxyXG4gICAgKiBAcGFyYW0geDAgWCBpbml0aWFsIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geTAgWSBpbml0aWFsIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geDEgWCBlbmQgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5MSBZIGVuZCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbGluZSh4MCwgeTAsIHgxLCB5MSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgwLCB5MCk7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxKTtcclxuICAgICAgICBsaW5lKHYwLngsIHYwLnksIHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgYW5kIGFkZCBsaW5lIGRhc2ggdHlwZVxyXG4gICAgKiBAcGFyYW0gZGFzaFNpemUgU2l6ZSBvZiB0aGUgZGFzaGVzIChkZWZhdWx0IDUpXHJcbiAgICAqIEBwYXJhbSBkYXNoU3BhY2luZyBTcGFjZSBiZXR3ZWVuIHRoZSBkYXNoZXMgKGRlZmF1bHQgNSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0TGluZURhc2goZGFzaFNpemUgPSA1LCBkYXNoU3BhY2luZyA9IDUpIHtcclxuICAgICAgICBkcmF3aW5nQ29udGV4dC5zZXRMaW5lRGFzaChbZGFzaFNpemUsIGRhc2hTcGFjaW5nXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENsZWFyIHRoZSBsaW5lIGRhc2hpbmdcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY2xlYXJMaW5lRGFzaCgpIHtcclxuICAgICAgICBkcmF3aW5nQ29udGV4dC5zZXRMaW5lRGFzaChbXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYW4gZWxsaXBzZVxyXG4gICAgKiBAcGFyYW0geCBYIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSByeCBYIGVsbGlwc2UgcmFkaXVzXHJcbiAgICAqIEBwYXJhbSByeSBZIGVsbGlwc2UgcmFkaXVzXHJcbiAgICAqIEBwYXJhbSBhYnMgQXJlIHJ4IGFuZCByeSBpbiBwaXhlbHMgKGRlZmF1bHQgZmFsc2UpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGVsbGlwc2UoeCwgeSwgcngsIHJ5LCBhYnMgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG5cclxuICAgICAgICBpZihyeSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJ5ID0gcng7XHJcblxyXG4gICAgICAgIGlmKCFhYnMpIHtcclxuICAgICAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoocngsIHJ5LCAwLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZWxsaXBzZSh4LCB5LCB2MS54ICogMiwgdjEueSAqIDIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGVsbGlwc2UodjAueCwgdjAueSwgcngsIHJ5KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSBjaXJjbGVcclxuICAgICogQHBhcmFtIHggWCBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gciBDaXJjbGUgcmFkaXVzXHJcbiAgICAqIEBwYXJhbSBhYnMgSXMgciBpbiBwaXhlbHMgKGRlZmF1bHQgZmFsc2UpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGNpcmNsZSh4LCB5LCByLCBhYnMgPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsbGlwc2UoeCwgeSwgciwgciwgYWJzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIHJlY3RhbmdsZVxyXG4gICAgKiBAcGFyYW0geCBYIGJvdHRvbSBsZWZ0IHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGJvdHRvbSBsZWZ0IHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gdyBSZWN0YW5nbGUgd2lkdGhcclxuICAgICogQHBhcmFtIGggUmVjdGFuZ2xlIGhlaWdodFxyXG4gICAgKiBAcGFyYW0gYWJzIEFyZSB3IGFuZCBoIGluIHBpeGVscyAoZGVmYXVsdCBmYWxzZSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcmVjdCh4LCB5LCB3LCBoLCBhYnMgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmKCFhYnMpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJlZ2luU2hhcGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCArIHcsIHkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnZlcnRleCh4ICsgdywgeSArIGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnZlcnRleCh4ICAgICwgeSArIGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnZlcnRleCh4ICAgICwgeSlcclxuICAgICAgICAgICAgICAgIC5lbmRTaGFwZShDTE9TRSk7XHJcblxyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcbiAgICAgICAgcmVjdCh2LngsIHYueSwgdywgaCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3cyBhIGNpcmNsZSBhcmMgdXNpbmcgdHJpZ29ub21ldHJpYyBvcmRlclxyXG4gICAgKiBAcGFyYW0geCBYIHNpbXVsYXRpb24gY2VudGVyIGNvb3JkXHJcbiAgICAqIEBwYXJhbSB5IFkgc2ltdWxhdGlvbiBjZW50ZXIgY29vcmRcclxuICAgICogQHBhcmFtIHN0YXJ0IFN0YXJ0aW5nIGFuZ2xlIChpbiByYWRpYW5zKVxyXG4gICAgKiBAcGFyYW0gc3RhcnQgRW5kaW5nIGFuZ2xlIChpbiByYWRpYW5zKVxyXG4gICAgKi9cclxuICAgIGFyYyh4LCB5LCB3LCBoLCBzdGFydCwgc3RvcCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHcsIGgsIDAsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgYXJjKHYwLngsIHYwLnksIHYxLngsIHYxLnksIC1zdG9wLCAtc3RhcnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCBzdHJva2UgY29sb3JcclxuICAgICogQHBhcmFtIHIgUmVkIHZhbHVlICgwIHRvIDI1NSksIG9yICdyZ2IociwgZywgYiknIG9yICdyZ2JhKHIsIGcsIGIsIGEpJ1xyXG4gICAgKiBAcGFyYW0gZyBHcmVlbiB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBiIEJsdWUgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYSBBbHBoYSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHN0cm9rZShyLCBnLCBiLCBhKSB7XHJcbiAgICAgICAgaWYoYSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYoYiA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGcgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZShyKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2UociwgZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlKHIsIGcsIGIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHN0cm9rZShgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2F9KWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgc3Ryb2tlIHdlaWdodFxyXG4gICAgKiBAcGFyYW0gbiBTdHJva2Ugd2VpZ2h0IChpbnRlZ2VyKVxyXG4gICAgKi9cclxuICAgIHN0cm9rZVdlaWdodChuKSB7XHJcbiAgICAgICAgc3Ryb2tlV2VpZ2h0KG4pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgZmlsbCBjb2xvclxyXG4gICAgKiBAcGFyYW0gciBSZWQgdmFsdWUgKDAgdG8gMjU1KSwgb3IgJ3JnYihyLCBnLCBiKScgb3IgJ3JnYmEociwgZywgYiwgYSknXHJcbiAgICAqIEBwYXJhbSBnIEdyZWVuIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHBhcmFtIGIgQmx1ZSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBhIEFscGhhIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZmlsbChyLCBnLCBiLCBhKSB7XHJcbiAgICAgICAgaWYoYSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYoYiA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGcgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGwocik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbChyLCBnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBmaWxsKHIsIGcsIGIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGZpbGwoYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogQmVnaW4gc2hhcGUgLVxyXG4gICAgKiBEcmF3IHNoYXBlcyB1c2luZyB2ZXJ0aWNlcyAoYmVnaW5TaGFwZSgpIHRoZW4gbXVsdGlwbGUgdmVydGV4KHgsIHkpIHRoZW4gY2xvc2VTaGFwZSgpKVxyXG4gICAgKiBAcGFyYW0gVFlQRSBTaGFwZSBUeXBlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGJlZ2luU2hhcGUoVFlQRSkge1xyXG4gICAgICAgIGJlZ2luU2hhcGUoVFlQRSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEJlemllciBDdXJ2ZVxyXG4gICAgKiBAcGFyYW0geDFcclxuICAgICogQHBhcmFtIHkxXHJcbiAgICAqIEBwYXJhbSB4MlxyXG4gICAgKiBAcGFyYW0geTJcclxuICAgICogQHBhcmFtIHgzXHJcbiAgICAqIEBwYXJhbSB5M1xyXG4gICAgKiBAcGFyYW0geDRcclxuICAgICogQHBhcmFtIHk0XHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGJlemllcih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcclxuXHRcdGxldCBwMSA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4MSwgeTEpO1xyXG5cdFx0bGV0IHAyID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5jb21wdXRlRm9yWFlaKHgyLCB5Mik7XHJcblx0XHRsZXQgcDMgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDMsIHkzKTtcclxuXHRcdGxldCBwNCA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4NCwgeTQpO1xyXG4gICAgICAgIGJlemllcihwMS54LCBwMS55LCBwMi54LCBwMi55LCBwMy54LCBwMy55LCBwNC54LCBwNC55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVHJhbnNsYXRlIGRyYXdpbmcgY29vcmRpbmF0ZXMgdG8geCx5XHJcbiAgICAqIEBwYXJhbSBYIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gWSBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgdmVydGV4KHgsIHkpIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHZlcnRleCh2LngsIHYueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENsb3NlIHNoYXBlIC1cclxuICAgICogRHJhdyBzaGFwZXMgdXNpbmcgdmVydGljZXMgKGJlZ2luU2hhcGUoKSB0aGVuIG11bHRpcGxlIHZlcnRleCh4LCB5KSB0aGVuIGNsb3NlU2hhcGUoKSlcclxuICAgICogQHBhcmFtIFRZUEUgU2hhcGUgVHlwZSAoQ0xPU0VEIHRvIGNsb3NlIHNoYXBlKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBlbmRTaGFwZShUWVBFKSB7XHJcbiAgICAgICAgZW5kU2hhcGUoVFlQRSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogUHVzaCB2ZXJ0aWNlcyAodXNlIHB1c2goKSB0aGVuIHBvcCgpKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBwdXNoKCkge1xyXG4gICAgICAgIHRoaXMuZW50ZXJTdGFja0xldmVsKCk7XHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBQb3AgdmVydGljZXMgKHVzZSBwdXNoKCkgdGhlbiBwb3AoKSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcG9wKCkge1xyXG4gICAgICAgIHRoaXMuZXhpdFN0YWNrTGV2ZWwoKTtcclxuICAgICAgICBwb3AoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVHJhbnNsYXRlIGRyYXdpbmcgY29vcmRpbmF0ZXMgZnJvbSB4LHlcclxuICAgICogQHBhcmFtIFggc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSBZIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICB0cmFuc2xhdGUoeCwgeSkge1xyXG4gICAgICAgIHRoaXMucHVzaFN0YWNrT3BlcmF0aW9uKCd0Jywge3gsIHl9LCAwLCAxKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUm90YXRlIGRyYXdpbmcgY29vcmRpbmF0ZXNcclxuICAgICogQHBhcmFtIGFuZ2xlIFRoZSByb3RhdGlvbiBhbmdsZSBpbiByYWRpYW5zXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHJvdGF0ZShhbmdsZSkge1xyXG4gICAgICAgIHRoaXMucHVzaFN0YWNrT3BlcmF0aW9uKCdyJywge3ggOiAwLCB5IDogMH0sIGFuZ2xlLCAxKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2NhbGVzIHRoZSBuZXh0IHNoYXBlcyB0byBieSBkcmF3biBieSBhIGZhY3RvclxyXG4gICAgKiBAcGFyYW0gZmFjIFRoZSBmYWN0b3Igb2YgdGhlIHNjYWxlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNjYWxlKGZhYykge1xyXG4gICAgICAgIHRoaXMucHVzaFN0YWNrT3BlcmF0aW9uKCdzJywge3ggOiAwLCB5IDogMH0sIDAsIGZhYyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZW1vdmUgc3Ryb2tlIG9mIHRoZSBzaGFwZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBub1N0cm9rZSgpIHtcclxuICAgICAgICBub1N0cm9rZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBObyBmaWxsIHRoZSBzaGFwZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBub0ZpbGwoKSB7XHJcbiAgICAgICAgbm9GaWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRHJhd2VyO1xyXG4iLCJjbGFzcyBwU0FuaW1hdGlvbkhhbmRsZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgYWJzdHJhY3QgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aW1lTGVuZ3RoIExlbmd0aCBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIEN1c3RvbSBhbmltYXRpb24gZGF0YXNcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHRoaXMuc2NhbGVUaW1lICAgPSAxO1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuICAgICAgICB0aGlzLmRhdGFzICAgICAgID0gZGF0YXM7XHJcbiAgICAgICAgdGhpcy50aW1lTGVuZ3RoICA9IHRpbWVMZW5ndGg7XHJcbiAgICAgICAgdGhpcy5sYXN0S2V5ICAgICA9IHRoaXMuZ2V0S2V5KHRoaXMudXBkYXRlKSAvIHRoaXMuc2NhbGVUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTdGFydCAob3IgcmVzdGFydCkgdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFN0b3AgdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGYgQ3VycmVudCBkcmF3aW5nIGFuaW1hdGlvbiBmdW5jdGlvblxyXG4gICAgKiBAcmV0dXJuIGYoZHQpXHJcbiAgICAqL1xyXG4gICAgZ2V0S2V5KGYpIHtcclxuICAgICAgICBsZXQgZHQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC8gMTAwMCAtIHRoaXMuaW5pdGlhbFQ7XHJcblxyXG4gICAgICAgIGlmKGR0ID4gdGhpcy50aW1lTGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5hbERyYXcodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubGFzdEtleSA9IGYoZHQsIHRoaXMpIC8gdGhpcy5zY2FsZVRpbWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGN1cnJlbnQgdXBkYXRlIGtleSAqL1xyXG4gICAgdXBkYXRlS2V5KCkgeyByZXR1cm4gdGhpcy5nZXRLZXkodGhpcy51cGRhdGUpOyB9XHJcbiAgICAvKiogQHJldHVybiB0aGUgY3VycmVudCBkcmF3IGtleSAqL1xyXG4gICAgZHJhd0tleSAgKCkgeyByZXR1cm4gdGhpcy5nZXRLZXkodGhpcy5kcmF3ICApOyB9XHJcblxyXG4gICAgLyoqIFVwZGF0ZSBsb29wIGZvciBvdmVyd3JpdGluZyAqL1xyXG4gICAgdXBkYXRlKCkge31cclxuICAgIC8qKiBEcmF3IGxvb3AgZm9yIG92ZXJ3cml0aW5nICovXHJcbiAgICBkcmF3ICAoKSB7fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0FuaW1hdGlvbkhhbmRsZXI7XHJcbiIsImltcG9ydCBwU0FuaW1hdGlvbkhhbmRsZXIgZnJvbSAnLi9wU0FuaW1hdGlvbkhhbmRsZXInO1xyXG5cclxuY2xhc3MgcFNJbnRlcnBvbGF0aW9uIGV4dGVuZHMgcFNBbmltYXRpb25IYW5kbGVyIHtcclxuICAgIC8qKlxyXG4gICAgKiBJbnRlcnBvbGF0aW9uIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIFRoZSBkYXRhcyB0byBiZSBpbnRlcnBvbGF0ZWQgJ1tQb2ludDEsIFBvaW50MiwgLi4uXSdcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHN1cGVyKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuXHJcbiAgICAgICAgdGhpcy5pID0gLTE7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2hhcGUgPSB0aGlzLm5leHRTaGFwZShkYXRhcyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxEdCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFNldCBzaGFwZSBiYXNlZCBvbiBhbmltYXRpb24gYW5kIHBvaW50cyAqL1xyXG4gICAgbmV4dFNoYXBlKHBvaW50cykge1xyXG4gICAgICAgIHRoaXMuaSsrO1xyXG5cclxuICAgICAgICBsZXQgaiA9IHRoaXMuaSArIDE7XHJcbiAgICAgICAgaWYoaiA+IHBvaW50cy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICBqID0gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtwb2ludHNbdGhpcy5pXSwgcG9pbnRzW2pdXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRpbWUgQ3VycmVudCB0aW1lIG9mIHRoZSBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHVwZGF0ZSBrZXlcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQsIHRoKSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRpbWUgQ3VycmVudCB0aW1lIG9mIHRoZSBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIGRyYXcga2V5XHJcbiAgICAqL1xyXG4gICAgZHJhdyhkdCwgdGgpIHtcclxuICAgICAgICBsZXQgYyA9IHRoLnRpbWVMZW5ndGggLyB0aC5kYXRhcy5sZW5ndGg7XHJcbiAgICAgICAgaWYoISh0aC5jdXJyZW50U2hhcGVbMF0gPT0gdW5kZWZpbmVkIHx8IHRoLmN1cnJlbnRTaGFwZVsxXSA9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgIGlmKGR0IC0gdGgubG9jYWxEdCA+PSBjKSB7XHJcbiAgICAgICAgICAgICAgICB0aC5jdXJyZW50U2hhcGUgPSB0aC5uZXh0U2hhcGUodGguZGF0YXMpO1xyXG4gICAgICAgICAgICAgICAgdGgubG9jYWxEdCArPSBjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aC5kcmF3Q3VycmVudFNoYXBlKFxyXG4gICAgICAgICAgICB0aC5kYXRhcyxcclxuICAgICAgICAgICAgKGksIGx0LCB0aSwgYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYoaSA9PSB0aSlcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gbHQgLyBjO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQ7XHJcbiAgICAgICAgICAgIH0sIHRoLCB0aC5pICsgMSwgZHQgLSB0aC5sb2NhbER0LCBjKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgZmluYWwgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBmaW5hbERyYXcodGgpIHtcclxuICAgICAgICB0aGlzLmRyYXdDdXJyZW50U2hhcGUodGhpcy5kYXRhcywgKCkgPT4gMSwgdGhpcywgdGhpcy5kYXRhcy5sZW5ndGgsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGN1cnJlbnQgc2hhcGUgb24gc2NyZWVuXHJcbiAgICAqIEBwYXJhbSBkIHRoaXMuZGF0YXNcclxuICAgICogQHBhcmFtIHBlcmNlbnRGdW5jdGlvbiBDdXJyZW50IGFuaW1hdGlvbiBnZXQgcGVyY2VudCBmdW5jdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEBwYXJhbSBtYXhJIE1heCBwb2ludHMgY291bnRcclxuICAgICogQHBhcmFtIGx0IEN1cnJlbnQgdGltZSB2YWx1ZVxyXG4gICAgKiBAcGFyYW0gYyBGaW5hbCB0aW1lIHZhbHVlIC8gbWF4IHBvaW50cyBjb3VudFxyXG4gICAgKi9cclxuICAgIGRyYXdDdXJyZW50U2hhcGUoZCwgcGVyY2VudEZ1bmN0aW9uLCB0aCwgbWF4SSwgbHQsIGMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heEk7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGVyY2VudCA9IHBlcmNlbnRGdW5jdGlvbihpLCBsdCwgdGguaSwgYyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbiA9IGkgKyAxO1xyXG4gICAgICAgICAgICBpZihuID49IGQubGVuZ3RoKSBuID0gMDtcclxuXHJcbiAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMylcclxuICAgICAgICAgICAgICAgIC5zdHJva2UoMjU1KVxyXG4gICAgICAgICAgICAgICAgLmxpbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueCxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy55LFxyXG4gICAgICAgICAgICAgICAgICAgIGRbaV0ucG9zLnggKyAoZFtuXS5wb3MueCAtIGRbaV0ucG9zLngpICogcGVyY2VudCxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy55ICsgKGRbbl0ucG9zLnkgLSBkW2ldLnBvcy55KSAqIHBlcmNlbnRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0ludGVycG9sYXRpb247XHJcbiIsImltcG9ydCBwU0FuaW1hdGlvbkhhbmRsZXIgZnJvbSAnLi9wU0FuaW1hdGlvbkhhbmRsZXInO1xyXG5cclxuY2xhc3MgcFNFYXNlSW5PdXRDdWJpYyBleHRlbmRzIHBTQW5pbWF0aW9uSGFuZGxlciB7XHJcbiAgICAvKipcclxuICAgICogRWFzZSBpbiBhbmQgb3V0IGN1YmljIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIE1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzICd7IG1pbiA6IDAsIG1heCA6IDEgfSdcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHN1cGVyKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5kYXRhcy5taW4gPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFzLm1pbiA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5kYXRhcy5tYXggPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFzLm1heCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBrZXlcclxuICAgICovXHJcbiAgICB1cGRhdGUodGltZSwgdGgpIHtcclxuICAgICAgICBsZXQgdCA9IHRpbWUgLyB0aC50aW1lTGVuZ3RoO1xyXG4gICAgICAgIGlmKHQgPCAwLjUpXHJcbiAgICAgICAgICAgIHJldHVybiAoMiAqIHQgKiB0KSAqICh0aC5kYXRhcy5tYXggLSB0aC5kYXRhcy5taW4pICsgdGguZGF0YXMubWluO1xyXG4gICAgICAgIHJldHVybiAoLTEgKyAoNCAtIDIgKiB0KSAqIHQpICogKHRoLmRhdGFzLm1heCAtIHRoLmRhdGFzLm1pbikgKyB0aC5kYXRhcy5taW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBkcmF3IGtleVxyXG4gICAgKi9cclxuICAgIGRyYXcoZHQsIHQpIHsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IHRoZSBmaW5hbCBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKi9cclxuICAgIGZpbmFsRHJhdyh0aCkge1xyXG4gICAgICAgIHJldHVybiB0aC5kYXRhcy5tYXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRWFzZUluT3V0Q3ViaWM7XHJcbiIsImltcG9ydCBwU0ludGVycG9sYXRpb24gIGZyb20gJy4vYW5pbWF0aW9ucy9wU0ludGVycG9sYXRpb24nO1xyXG5pbXBvcnQgcFNFYXNlSW5PdXRDdWJpYyBmcm9tICcuL2FuaW1hdGlvbnMvcFNFYXNlSW5PdXRDdWJpYyc7XHJcblxyXG5jbGFzcyBBbmltYXRpb24ge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSBhbmltYXRpb25OYW1lIE5hbWUgb2YgdGhlIGFuaW1hdGlvbiAoJ2Vhc2VJbk91dEN1YmljJywgJ2ludGVycG9sYXRpb24nKVxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBMZW5ndGggb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzIChkZWZhdWx0IDogMSlcclxuICAgICogQHBhcmFtIGRhdGFzIE9wdGlvbmFsIHBhcmFtZXRlciAoc2VlIHNwZWNpZmljIGFuaW1hdGlvbiBmb3IgYW5pbWF0aW9uIGluZm9ybWF0aW9ucylcclxuICAgICovXHJcbiAgICBzdGF0aWMgbmV3KGFuaW1hdGlvbk5hbWUsIHRpbWVMZW5ndGggPSAxLCBkYXRhcyA9IHt9KSB7XHJcbiAgICAgICAgaWYoIWFuaW1hdGlvbk5hbWUpXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbk5hbWUgPSAnZWFzZUluT3V0Q3ViaWMnO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGFuaW1hdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZWFzZUluT3V0Q3ViaWMnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwU0Vhc2VJbk91dEN1YmljKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnaW50ZXJwb2xhdGlvbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHBTSW50ZXJwb2xhdGlvbih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBbmltYXRpb247XHJcbiIsImltcG9ydCAnLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuXHJcbmNsYXNzIHBTUGxvdHRlciB7XHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHNpbXVsYXRvciBNYWluIEVuZ2luZSBzaW11bGF0b3JcclxuICAgICogQHBhcmFtIGRyYXdlciBNYWluIEVuZ2luZSBkcmF3ZXIgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihzaW11bGF0b3IsIGRyYXdlcikge1xyXG4gICAgICAgIHRoaXMuc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xyXG4gICAgICAgIHRoaXMuZHJhd2VyICAgID0gZHJhd2VyO1xyXG4gICAgICAgIHRoaXMub2JqZWN0c0wgID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2VyLnBsb3R0ZXIgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVcGRhdGUgbWFpbiBsb29wXHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlIChpbiBzZWNvbmRzKVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMuZHJhd2VyLmNsZWFyU3RhY2soKTsgLy8gQ2xlYXJzIGRyYXdlciByLCB0LCBzIHF1ZXVlXHJcblxyXG4gICAgICAgIGlmKHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlci5pc18zRCkge1xyXG4gICAgICAgICAgICBsaWdodHMoKTtcclxuICAgICAgICAgICAgb3JiaXRDb250cm9sKDUsIDUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHNMLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNMW2ldLnVwZGF0ZShkdCwgdGhpcy5vYmplY3RzTCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogRHJhdyBtYWluIGxvb3AgKi9cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgbGV0IHBsQ29uZiA9IHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuICAgICAgICBsZXQgYmcgICAgID0gcGxDb25mLmJhY2tncm91bmRDb2xvci5jb2xvcjtcclxuXHJcbiAgICAgICAgaWYocGxDb25mLmJhY2tncm91bmRDb2xvci5kcmF3KVxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kKGJnLnIsIGJnLmcsIGJnLmIpO1xyXG5cclxuICAgICAgICAvLyBEcmF3IGV2ZXJ5IG9iamVjdCB0byB0aGUgc2NyZWVuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHNMLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNMW2ldLmRyYXcodGhpcy5kcmF3ZXIpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgZ3JpZFxyXG4gICAgICAgIGlmKHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlci5kaXNwbGF5R3JpZCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnTW9kZSgxMDAsIDEwLCAwLCAwLCAwLCAyMCwgMCwgLTQwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgwLjUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB5UyA9IE1hdGgucm91bmQoaGVpZ2h0IC8gcGxDb25mLnNjYWxlLnkgLyAyKTtcclxuICAgICAgICAgICAgICAgIGlmKCFwbENvbmYuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgICAgIHlTID0gcGxDb25mLnNjYWxlLnk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IC1wbENvbmYuc2NhbGUueCAtIDE7IGkgPCBwbENvbmYuc2NhbGUueCArIDE7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gLXlTIC0gMTsgaiA8IHlTICsgMTsgaisrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5yZWN0KGkgKyBwbENvbmYub2Zmc2V0LngsIGogKyBwbENvbmYub2Zmc2V0LnksIDEsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEgKyAwLjMpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5saW5lKC1wbENvbmYuc2NhbGUueCArIHBsQ29uZi5vZmZzZXQueCAtIDEsIDAsIHBsQ29uZi5zY2FsZS54ICsgcGxDb25mLm9mZnNldC54ICsgMSwgMCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmKCFwbENvbmYuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyLmxpbmUoMCwgLXBsQ29uZi5zY2FsZS55IC0gMSwgMCwgcGxDb25mLnNjYWxlLnkgKyAxKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5saW5lKDAsIC15UyAtIDEsIDAsIHlTICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAuc3Ryb2tlKHBsQ29uZi5ncmlkQ29sb3IuciwgcGxDb25mLmdyaWRDb2xvci5nLCBwbENvbmYuZ3JpZENvbG9yLmIsIHBsQ29uZi5ncmlkQ29sb3IuYSlcclxuICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgwLjUpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENvbXB1dGUgdGhlIFggYW5kIFkgcGl4ZWwgcG9zaXRpb24gYmFzZWQgb24gdGhlIGRyYXdpbmcgcGFyYW1ldGVyc1xyXG4gICAgKiBAcGFyYW0geFJlbCBYIHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5UmVsIFkgcmVsYXRpdmUgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHpSZWwgWiByZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0gdXNlT2Zmc2V0IENhbGN1bGF0ZSB3aXRoIHNpbXVsYXRpb24gb2Zmc2V0cyAoZGVmYXVsdCA6IHRydWUpXHJcbiAgICAqIEByZXR1cm4ge1gsIFksIFp9IG9iamVjdFxyXG4gICAgKi9cclxuICAgIGNvbXB1dGVGb3JYWVooeFJlbCwgeVJlbCwgelJlbCwgdXNlT2Zmc2V0ID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBjID0gdGhpcy5zaW11bGF0b3IuY29uZmlnLmVuZ2luZS5wbG90dGVyO1xyXG5cclxuICAgICAgICAvLyA9PT0gUHVzaCgpIGFuZCBwb3AoKSBlZmZlY3RzIChvbmx5IGN1cnJlbnRseSB3b3JrcyBpbiAyRCkgPT09XHJcbiAgICAgICAgaWYoIWMuaXNfM0QpIHtcclxuICAgICAgICAgICAgbGV0IHN0YWNrID0gdGhpcy5zaW11bGF0b3IucGxvdHRlci5kcmF3ZXIuc3RhY2s7XHJcbiAgICAgICAgICAgIGxldCBjdXJyTWF0cml4ID0gW1sxLCAwLCAwXSwgWzAsIDEsIDBdLCBbMCwgMCwgMV1dO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVjdXJzZVN0YWNrKHMsIG11bHRNYXRyaXgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKHMgaW5zdGFuY2VvZiBBcnJheSkpIHsgLy8gRm91bmQgb3BlcmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJNYXRyaXggPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyck1hdHJpeCA9IHMubTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcy5tICogY3Vyck1hdHJpeFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyTWF0cml4ID0gbXVsdE1hdHJpeChjdXJyTWF0cml4LCBzLm0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFx0cmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNlU3RhY2soc1tpXSwgbXVsdE1hdHJpeCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlY3Vyc2VTdGFjayhzdGFjaywgdGhpcy5tdWx0TWF0cml4KTtcclxuICAgICAgICAgICAgbGV0IHhSZWxUbXAgPSB4UmVsO1xyXG4gICAgICAgICAgICB4UmVsID0geFJlbCAqIGN1cnJNYXRyaXhbMF1bMF0gKyB5UmVsICogY3Vyck1hdHJpeFswXVsxXSArIGN1cnJNYXRyaXhbMF1bMl07XHJcbiAgICAgICAgICAgIHlSZWwgPSB4UmVsVG1wICogY3Vyck1hdHJpeFsxXVswXSArIHlSZWwgKiBjdXJyTWF0cml4WzFdWzFdICsgY3Vyck1hdHJpeFsxXVsyXTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyA9PT0gQ29tcHV0ZXMgY29vcmRpbmF0ZXMgaW4gcGl4ZWxzID09PVxyXG4gICAgICAgIGlmKCF1c2VPZmZzZXQgJiYgIWMuaXNfM0QgJiYgYy5zcXVhcmVCeVgpIHtcclxuICAgICAgICAgICAgbGV0IHYwID0gdGhpcy5jb21wdXRlRm9yWFlaKDAsIDAsIDApO1xyXG4gICAgICAgICAgICBsZXQgdjEgPSB0aGlzLmNvbXB1dGVGb3JYWVooeFJlbCwgeVJlbCwgelJlbCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgICAgIHYxLnggLSB2MC54LFxyXG4gICAgICAgICAgICAgICAgdjEueSAtIHYwLnksXHJcbiAgICAgICAgICAgICAgICB2MS56IC0gdjAuelxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghYy5pc18zRCkge1xyXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAoKHhSZWwgLSBjLm9mZnNldC54KSAvIGMuc2NhbGUueCArIDEpICogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICgoeFJlbCArIGMub2Zmc2V0LnopIC8gYy5zY2FsZS56ICsgMSkgKiB3aWR0aCAvIDJcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCFjLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgIHYueSA9ICgoLXlSZWwgKyBjLm9mZnNldC55KSAvIGMuc2NhbGUueSArIDEpICogaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdi55ID0gKCgteVJlbCArIGMub2Zmc2V0LnkpIC8gYy5zY2FsZS54KSAgICAgKiB3aWR0aCAgLyAyICsgaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gM0RcclxuICAgICAgICAgICAgLy8gMzYwIHggMzYwIDogZ3JpZCBzaXplXHJcbiAgICAgICAgICAgIGxldCBmYWMgPSAxODAgKiAwLjI4O1xyXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAoKCB4UmVsICsgYy5vZmZzZXQueCkgLyBjLnNjYWxlLngpICogZmFjLFxyXG4gICAgICAgICAgICAgICAgKCgteVJlbCArIGMub2Zmc2V0LnkpIC8gYy5zY2FsZS55KSAqIGZhYyxcclxuICAgICAgICAgICAgICAgICgoIHpSZWwgKyBjLm9mZnNldC56KSAvIGMuc2NhbGUueikgKiBmYWNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENvbXB1dGUgdGhlIFggYW5kIFkgcGxvdCBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgcGl4ZWwgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHhSZWwgWCBwaXhlbCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geVJlbCBZIHBpeGVsIHBvc2l0aW9uXHJcbiAgICAqIEByZXR1cm4ge1gsIFl9IG9iamVjdFxyXG4gICAgKi9cclxuICAgIGNvbXB1dGVGb3JYWUZyb21QaXhlbCh4LCB5KSB7XHJcbiAgICAgICAgbGV0IGMgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnBsb3R0ZXI7XHJcbiAgICAgICAgbGV0IHYgPSBuZXcgVmVjdG9yKCgoeCAqIDIpIC8gd2lkdGggLSAxKSAqIGMuc2NhbGUueCArIGMub2Zmc2V0LngpO1xyXG5cclxuICAgICAgICBpZiAoYy5zcXVhcmVCeVgpXHJcbiAgICAgICAgICAgIHYueSA9IC0oKHkgLSBoZWlnaHQgLyAyKSAvIHdpZHRoICogMikgKiBjLnNjYWxlLnggKyBjLm9mZnNldC55O1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdi55ID0gLSgoKCh5IC0gMiAqIGhlaWdodCkgKiAyKSAvIHdpZHRoKSAqIGMuc2NhbGUueSAtIGMub2Zmc2V0LnkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm5zIGMgPSBhLmIgKHN1cHBvc2UgdGhhdCBhIGFuZCBiIGFyZSB0aGUgc2FtZSBzaXplKVxyXG4gICAgbXVsdE1hdHJpeChhLCBiKSB7XHJcbiAgICAgICAgbGV0IGMgPSBbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY1tpXVtqXSA9IGFbaV1bMF0qYlswXVtqXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFbaV1bMV0qYlsxXVtqXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFbaV1bMl0qYlsyXVtqXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNQbG90dGVyO1xyXG4iLCJpbXBvcnQgcFNQbG90dGVyICBmcm9tICcuLy4uL2RyYXdlci9QbG90dGVyJztcclxuaW1wb3J0IHBTRHJhd2VyICAgZnJvbSAnLi8uLi9kcmF3ZXIvRHJhd2VyJztcclxuaW1wb3J0IHBTM0REcmF3ZXIgZnJvbSAnLi8uLi9kcmF3ZXIvM0REcmF3ZXInO1xyXG5pbXBvcnQgcFNSZWNvcmRlciBmcm9tICcuLy4uL3V0aWxpdGllcy9SZWNvcmRlcic7XHJcblxyXG5jbGFzcyBwU2ltdWxhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnICAgICAgICAgPSB7fTtcclxuICAgICAgICB0aGlzLmJlZ2luVGltZSAgICAgID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLmxhc3REcmF3VGltZSAgID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb25maWcuZW5naW5lICA9IHRoaXMuZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZygpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmN1c3RvbSAgPSB7fTtcclxuXHJcbiAgICAgICAgd2luZG93LmdldEN1c3RvbUNvbmZpZyA9IHRoaXMuZ2V0Q3VzdG9tQ29uZmlnO1xyXG4gICAgICAgIHdpbmRvdy5nZXRFbmdpbmVDb25maWcgPSB0aGlzLmdldEVuZ2luZUNvbmZpZztcclxuXHJcbiAgICAgICAgdGhpcy5kdE1veSAgID0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5yb2xsYmFja0NvbnRyb2wubWluaW1hbFVwZGF0ZUZQUztcclxuICAgICAgICB0aGlzLmR0VG90YWwgPSAwO1xyXG4gICAgICAgIHRoaXMuZHRDb3VudCA9IDA7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKiBJbnN0YW5jaWF0ZSB0aGUgcFNpbXVsYXRvciAqL1xyXG4gICAgaW5zdGFuY2lhdGUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgd2luZG93LnByZVJ1blNpbXVsYXRvcih0aGlzKTsgLy8gcHJlbWFpbiBmdW5jdGlvblxyXG4gICAgICAgIH0gY2F0Y2goZSkge30gLy8gbm90IGZvdW5kXHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlUDVJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmNvbmZpZy5lbmdpbmUucGxvdHRlci5pc18zRCkge1xyXG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVzKCdhbnRpYWxpYXMnLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5wbG90dGVyID0gbmV3IHBTUGxvdHRlcih0aGlzLCBuZXcgcFNEcmF3ZXIoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wbG90dGVyID0gbmV3IHBTUGxvdHRlcih0aGlzLCBuZXcgcFMzRERyYXdlcigpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWNvcmRlciA9IG5ldyBwU1JlY29yZGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMubW91c2VQb3MgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZRnJvbVBpeGVsKG1vdXNlWCwgbW91c2VZKTtcclxuXHJcbiAgICAgICAgd2luZG93LnJ1blNpbXVsYXRvcih0aGlzKTsgLy8gbWFpbiBmdW5jdGlvblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgcDUgaW5zdGFuY2UgYW5kIGNyZWF0ZXMgbG9vcHMgZm9yIHRoZSBzaW11bGF0aW9uICovXHJcbiAgICBjcmVhdGVQNUluc3RhbmNlKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5nZXRDYW52YXNQcm9wb3J0aW9ucyh0aGlzLmNvbmZpZy5lbmdpbmUud2luZG93LnByb3BvcnRpb25zKTtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKVxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGNyZWF0ZUNhbnZhcyhwLncsIHAuaCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGNyZWF0ZUNhbnZhcyhwLncsIHAuaCwgV0VCR0wpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy5wYXJlbnQodGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5kaXZJZCk7XHJcblxyXG4gICAgICAgIGxldCBydSA9IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXI7XHJcbiAgICAgICAgaWYocnUuVVBEQVRFX0ZQUyA+PSBydS5EUkFXX0ZQUykgZnJhbWVSYXRlKHJ1LlVQREFURV9GUFMpO1xyXG4gICAgICAgIGVsc2UgY29uc29sZS5lcnJvcignVGhlIFVwZGF0ZXMgRlBTIG11c3QgYmUgc3VwZXJpb3IgYXMgdGhlIERyYXdzIEZQUy4nKVxyXG5cclxuXHJcbiAgICAgICAgLy8gcnVucyBldmVyeSB0aW1lIGl0J3MgcG9zc2libGVcclxuICAgICAgICB3aW5kb3cuZHJhdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgcyAgICAgICAgICAgID0gX3BTaW11bGF0aW9uSW5zdGFuY2U7XHJcbiAgICAgICAgXHRsZXQgY3VycmVudFRpbWUgID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBcdGxldCBkdCAgICAgICAgICAgPSAoY3VycmVudFRpbWUgLSBzLmxhc3RVcGRhdGVUaW1lKSAvIDEwMDA7XHJcbiAgICAgICAgICAgIGxldCBjcml0aXFEdCAgICAgPSBzLmR0TW95ICsgcy5kdE1veSAqIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIucm9sbGJhY2tDb250cm9sLm1heFN0YW5kYXJkRGV2aWF0aW9uO1xyXG5cclxuICAgICAgICAgICAgcy5tb3VzZVBvcyA9IHMucGxvdHRlci5jb21wdXRlRm9yWFlGcm9tUGl4ZWwobW91c2VYLCBtb3VzZVkpO1xyXG5cclxuICAgICAgICAgICAgaWYoIXMucmVjb3JkZXIucnVubmluZyB8fCAocy5yZWNvcmRlci5ydW5uaW5nICYmICFzLnJlY29yZGVyLmZyYW1lQmxvY2tlcikpIHtcclxuICAgICAgICAgICAgICAgIGlmKGR0ID4gY3JpdGlxRHQpXHJcbiAgICAgICAgICAgICAgICAgICAgZHQgPSBzLmR0TW95O1xyXG4gICAgICAgICAgICBcdHMubGFzdFVwZGF0ZVRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICAgICAgXHRzLnBsb3R0ZXIudXBkYXRlKGR0ICogcy5jb25maWcuZW5naW5lLnJ1bm5lci5zaW11bGF0aW9uU3BlZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzLnJlY29yZGVyLnJ1bm5pbmcgJiYgIXMucmVjb3JkZXIucGF1c2VNb2RlKVxyXG4gICAgICAgICAgICAgICAgICAgIHMucmVjb3JkZXIuc25hcHNob3QoZHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRUaW1lIC0gcy5sYXN0RHJhd1RpbWUgPj0gMSAvIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIuRFJBV19GUFMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkdCA8PSBjcml0aXFEdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmR0VG90YWwgKz0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRDb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzLmR0Q291bnQgJSBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnJvbGxiYWNrQ29udHJvbC5hdmVyYWdlVGltZVNhbXBsZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmR0TW95ICAgPSBzLmR0VG90YWwgLyBzLmR0Q291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmR0VG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5kdENvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcy5wbG90dGVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICBzLmxhc3REcmF3VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyBJcyByZWNvcmRpbmcgc2NyZWVuIGluIGEgYmxvY2tpbmctdGltZSB3YXlcclxuICAgICAgICAgICAgICAgIGlmKHMucmVjb3JkZXIucGF1c2VNb2RlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBkdCA9IDEgLyBzLnJlY29yZGVyLnVwZGF0ZUZQUztcclxuICAgICAgICAgICAgICAgIHMucmVjb3JkZXIuY3VycmVudFJlbFQgKz0gZHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNob3VsZFNuYXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChzLnJlY29yZGVyLmN1cnJlbnRSZWxUIC0gcy5yZWNvcmRlci5sYXN0RHJhd1RpbWUgPj0gMSAvIHMucmVjb3JkZXIuZHJhd2luZ0ZQUykge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0ID0gMSAvIHMucmVjb3JkZXIuZHJhd2luZ0ZQUztcclxuICAgICAgICAgICAgICAgICAgICBzaG91bGRTbmFwID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgcy5sYXN0VXBkYXRlVGltZSA9IHMucmVjb3JkZXIuY3VycmVudFJlbFQ7XHJcbiAgICAgICAgICAgICAgICBzLnBsb3R0ZXIudXBkYXRlKGR0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU25hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMucGxvdHRlciAuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHMucmVjb3JkZXIuc25hcHNob3QoZHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHMucmVjb3JkZXIubGFzdERyYXdUaW1lID0gcy5yZWNvcmRlci5jdXJyZW50UmVsVDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHJ1bnMgZXZlcnkgdGltZSB0aGUgd2luZG93IGlzIHJlc2l6ZWRcclxuICAgICAgICB3aW5kb3cud2luZG93UmVzaXplZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZihfcFNpbXVsYXRpb25JbnN0YW5jZS5yZWNvcmRlci5ydW5uaW5nICYmIF9wU2ltdWxhdGlvbkluc3RhbmNlLnJlY29yZGVyLmZyYW1lQmxvY2tlcilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCBwID0gX3BTaW11bGF0aW9uSW5zdGFuY2UuZ2V0Q2FudmFzUHJvcG9ydGlvbnMoX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS53aW5kb3cucHJvcG9ydGlvbnMpO1xyXG4gICAgICAgICAgICByZXNpemVDYW52YXMocC53LCBwLmgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHJ1biBlYWNoIHRpbWUgbW91c2UgaXMgcHJlc3NlZFxyXG4gICAgICAgIHdpbmRvdy5tb3VzZURyYWdnZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYoIV9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucnVubmVyLm1vdmFibGUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgbW91c2VQb3MgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmNvbXB1dGVGb3JYWUZyb21QaXhlbChtb3VzZVgsIG1vdXNlWSk7XHJcbiAgICAgICAgICAgIGlmKCFfcFNpbXVsYXRpb25JbnN0YW5jZS5tb3VzZVBvcy5lcXVhbHMobW91c2VQb3MpKSB7XHJcbiAgICAgICAgICAgICAgICBfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnBsb3R0ZXIub2Zmc2V0LnggLT0gbW91c2VQb3MueCAtIF9wU2ltdWxhdGlvbkluc3RhbmNlLm1vdXNlUG9zLng7XHJcbiAgICAgICAgICAgICAgICBfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnBsb3R0ZXIub2Zmc2V0LnkgLT0gbW91c2VQb3MueSAtIF9wU2ltdWxhdGlvbkluc3RhbmNlLm1vdXNlUG9zLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqIEByZXR1cm4ge3csIGh9IHByb3BvcnRpb25zIG9mIHRoZSBjYW52YXMgYmFzZWQgb24gdGhlIHBhcmFtZXRlcnMgKi9cclxuICAgIGdldENhbnZhc1Byb3BvcnRpb25zKGNQKSB7XHJcbiAgICAgICAgbGV0IHcsIGg7XHJcblxyXG4gICAgICAgIGlmKGNQLmlzUmVsYXRpdmUpIHtcclxuICAgICAgICAgICAgdyA9IHdpbmRvd1dpZHRoICAqIGNQLndpZHRoO1xyXG4gICAgICAgICAgICBoID0gd2luZG93SGVpZ2h0ICogY1AuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdyA9IGNQLndpZHRoICArIFwicHhcIjtcclxuICAgICAgICAgICAgaCA9IGNQLmhlaWdodCArIFwicHhcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7dywgaH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjdXN0b21PYmplY3QgdGhlIE9iamVjdCB0aGF0IGlzIGdvaW5nIHRvIGJlIHNpbXVsYXRlZCAoY2FuIGJlIGluc3RhbmNpYXRlZCBvciBub3QpXHJcbiAgICAqIEBwYXJhbSBudW1iZXIgTnVtYmVyIG9mIG9iamVjdHMgdG8gYmUgaW5zdGFuY2lhdGVkXHJcbiAgICAqIEBwYXJhbSBwYXJhbXMgVGhlIHBhcmFtZXRlcnMgaW4gdGhlIGZ1bmN0aW9uXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGFkZE9iamVjdHMoY3VzdG9tT2JqZWN0LCBudW1iZXIgPSAxLCAuLi5wYXJhbXMpIHtcclxuICAgICAgICBpZihjdXN0b21PYmplY3QgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29weVBhcmFtc1RlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFyYW1zLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tqXSBpbnN0YW5jZW9mIEFycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHBhcmFtc1tqXVswXSAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcGFyYW1zW2pdWzFdICE9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbXNbal1bMV0gaW5zdGFuY2VvZiBGdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICAgICAocGFyYW1zW2pdWzBdID09IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXIuYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzLnJ1bkZ1bmN0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlQYXJhbXNUZW1wLnB1c2gocGFyYW1zW2pdWzFdKC4uLnBhcmFtc1tqXS5zbGljZSgyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHBhcmFtc1tqXVswXSA9PSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmFkZGluZ09iamVjdHNDb25maWdLZXlXb3Jkcy5ydW5DbGFzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlQYXJhbXNUZW1wLnB1c2gobmV3IHBhcmFtc1tqXVsxXSguLi5wYXJhbXNbal0uc2xpY2UoMikpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5UGFyYW1zVGVtcC5wdXNoKHBhcmFtc1tqXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsb3R0ZXIub2JqZWN0c0wucHVzaChuZXcgY3VzdG9tT2JqZWN0KC4uLmNvcHlQYXJhbXNUZW1wKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnBsb3R0ZXIub2JqZWN0c0wucHVzaChjdXN0b21PYmplY3QpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIG9mIHRoZSBlbmdpbmUgKi9cclxuICAgIGdldERlZmF1bHRFbmdpbmVDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcnVubmVyIDoge1xyXG4gICAgICAgICAgICAgICAgZGl2SWQgOiAnc2ltdWxhdGlvbkNvbnRlbnQnLFxyXG4gICAgICAgICAgICAgICAgVVBEQVRFX0ZQUyA6IDEyMCxcclxuICAgICAgICAgICAgICAgIERSQVdfRlBTICAgOiA2MCxcclxuICAgICAgICAgICAgICAgIHNpbXVsYXRpb25TcGVlZCA6IDEsXHJcbiAgICAgICAgICAgICAgICBhZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMgOiB7ICAvLyBrZXl3b3JkcyBmb3Igd2hlbiB3ZSBhZGQgb2JqZWN0cyBhdCB0aGUgc3RhcnQgb2YgdGhlIGVuZ2luZVxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkZ1bmN0aW9ucyA6ICdfUlVOX0YnLCAvLyBydW4gYSBmdW5jdGlvbiB3aXRoICAgICAgIFsnX1JVTl9GJywgZnVuY3Rpb25OYW1lLCBwYXJhbTEsIHBhcmFtMiwgLi4uXSxcclxuICAgICAgICAgICAgICAgICAgICBydW5DbGFzcyAgICAgOiAnX1JVTl9DJyAgLy8gaW5zdGFuY2lhdGVzIGEgY2xhc3Mgd2l0aCBbJ19SVU5fQycsIGNsYXNzTmFtZSAgICwgcGFyYW0xLCBwYXJhbTIsIC4uLl1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByb2xsYmFja0NvbnRyb2wgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4U3RhbmRhcmREZXZpYXRpb24gOiAwLjgsICAvLyBtYXhpbXVtIHRpY2sgZGV2aWF0aW9uIHBlcmNlbnRhZ2UgZm9yIHRoZSBzb2Z0d2FyZSB0byBjb25zaWRlciBhcyBhIHJvbGxiYWNrIChpbiBzZWNvbmRzKVxyXG4gICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VUaW1lU2FtcGxlICAgIDogMjAsICAgLy8gc2FtcGxlIHNpemUgZm9yIHRpY2sgYXZlcmFnZSAoaW4gc2Vjb25kcyksXHJcbiAgICAgICAgICAgICAgICAgICAgbWluaW1hbFVwZGF0ZUZQUyAgICAgOiAwLjE1ICAvLyBtaW5pbWFsIHVwZGF0ZSBmcmFtZXNcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpc19tb3ZhYmxlIDogZmFsc2UgLy8gY2FuIHRoZSBjdXJzb3IgbW92ZSBvbiB0aGUgc2NyZWVuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdpbmRvdyA6IHtcclxuICAgICAgICAgICAgICAgIHByb3BvcnRpb25zIDogeyAgLy8gd2luZG93IGhlaWdodCBhbmQgd2lkdGggb24gcmVsYXRpdmUgb3IgYWJzb2x1dGUgc2l6ZXNcclxuICAgICAgICAgICAgICAgICAgICBpc1JlbGF0aXZlIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgOiAwLjk5LFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IDAuOTlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBcdHBsb3R0ZXIgOiB7XHJcbiAgICAgICAgXHRcdHNjYWxlIDogeyAgLy8gZGlzcGxheXMgeCByZWxhdGl2ZSB1bml0cyBvbiBlYWNoIHNpZGVcclxuICAgICAgICBcdFx0XHR4IDogMTAsXHJcbiAgICAgICAgXHRcdFx0eSA6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIHogOiAxMFxyXG4gICAgICAgIFx0XHR9LFxyXG4gICAgICAgIFx0XHRvZmZzZXQgOiB7ICAvLyB4IGFuZCB5IHJlbGF0aXZlIG9mZnNldFxyXG4gICAgICAgIFx0XHRcdHggOiAwLFxyXG4gICAgICAgIFx0XHRcdHkgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHogOiAwXHJcbiAgICAgICAgXHRcdH0sXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhdyA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgOiB7IHIgOiAwICwgZyA6IDAgLCBiIDogMCB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3F1YXJlQnlYICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc18zRCAgICAgICAgICAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGdyaWRDb2xvciAgICAgICA6IHsgciA6IDI1NSwgZyA6IDI1NSwgYiA6IDI1NSwgYSA6IDAuMyB9LFxyXG4gICAgICAgIFx0XHRkaXNwbGF5R3JpZCAgICAgOiBmYWxzZSAgLy8gdHJ1ZSA6IGRpc3BsYXkgZ3JhcGggb24gdGhlIHNjcmVlblxyXG4gICAgICAgIFx0fVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjb25maWdGdW5jIFRoZSBmdW5jdGlvbiB0aGF0IG1vZGlmaWVzIGVuZ2luZSBjb25maWd1cmF0aW9uXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldFByZUVuZ2luZUNvbmZpZyhjb25maWdGdW5jKSB7XHJcbiAgICAgICAgY29uZmlnRnVuYyh0aGlzLmNvbmZpZy5lbmdpbmUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY29uZmlnRnVuYyBUaGUgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBlbmdpbmUgY29uZmlndXJhdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRFbmdpbmVDb25maWcoY29uZmlnRnVuYykge1xyXG4gICAgICAgIGNvbmZpZ0Z1bmModGhpcy5jb25maWcuZW5naW5lKTtcclxuICAgICAgICB3aW5kb3cud2luZG93UmVzaXplZCgpOyAvLyBpZiBwcm9wb3J0aW9ucyBjaGFuZ2VkXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjb25maWcgVGhlIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgY3VzdG9tIGNvbmZpZ3VyYXRpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0Q3VzdG9tQ29uZmlnKGNvbmZpZ0Z1bmMpIHtcclxuICAgICAgICBjb25maWdGdW5jKHRoaXMuY29uZmlnLmN1c3RvbSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEByZXR1cm4gdGhlIGVuZ2luZSBjb25maWd1cmF0aW9uXHJcbiAgICAqL1xyXG4gICAgZ2V0RW5naW5lQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHJldHVybiB0aGUgY3VzdG9tIGNvbmZpZ3VyYXRpb25cclxuICAgICovXHJcbiAgICBnZXRDdXN0b21Db25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuY3VzdG9tO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRQU0VuZ2luZVZhcigpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAqIEBUT0RPXHJcbiAgICAgICAgKi9cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNpbXVsYXRvcjtcclxuIiwiaW1wb3J0IHBTRHJhd2VyIGZyb20gJy4vRHJhd2VyJztcclxuXHJcbmNsYXNzIHBTM0REcmF3ZXIge1xyXG4gICAgLyoqIENvbnN0cnVjdCB0aGUgbWFpbiBwUzNERW5naW5lIGRyYXdlciAqL1xyXG4gICAgY29uc3RydWN0b3IocGxvdHRlcikge1xyXG4gICAgICAgIHRoaXMucGxvdHRlciAgPSBudWxsOyAvLyBzZXQgd2hlbiBsb2FkZWQgaW4gdGhlIFBsb3R0ZXIgY2xhc3NcclxuICAgICAgICB0aGlzLmRyYXdlcjJEID0gbmV3IHBTRHJhd2VyKHBsb3R0ZXIpO1xyXG5cclxuICAgICAgICB0aGlzLnN0cm9rZSAgICAgICA9IHRoaXMuZHJhd2VyMkQuc3Ryb2tlO1xyXG4gICAgICAgIHRoaXMuc3Ryb2tlV2VpZ2h0ID0gdGhpcy5kcmF3ZXIyRC5zdHJva2VXZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5maWxsICAgICAgICAgPSB0aGlzLmRyYXdlcjJELmZpbGw7XHJcbiAgICAgICAgdGhpcy5ub1N0cm9rZSAgICAgPSB0aGlzLmRyYXdlcjJELm5vU3Ryb2tlO1xyXG4gICAgICAgIHRoaXMubm9GaWxsICAgICAgID0gdGhpcy5kcmF3ZXIyRC5ub0ZpbGw7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgdHJhbnNsYXRlKHgsIHksIHopIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIHRyYW5zbGF0ZSh2LngsIHYueSwgdi56KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBiZWdpblNoYXBlKFRZUEUpIHtcclxuICAgICAgICBiZWdpblNoYXBlKFRZUEUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZFNoYXBlKCkge1xyXG4gICAgICAgIGVuZFNoYXBlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdmVydGV4KHgsIHksIHopIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIHZlcnRleCh2LngsIHYueSwgdi56KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2xlYXJTdGFjaygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgbGluZSh4MCwgeTAsIHowLCB4MSwgeTEsIHoxKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDAsIHkwLCB6MCk7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxLCB6MSk7XHJcblxyXG4gICAgICAgIGJlZ2luU2hhcGUoKTtcclxuICAgICAgICAgICAgdmVydGV4KHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICB2ZXJ0ZXgodjEueCwgdjEueSwgdjEueik7XHJcbiAgICAgICAgZW5kU2hhcGUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3BoZXJlKHgsIHksIHosIHIpIHtcclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHgsIHksIHopO1xyXG4gICAgICAgICAgICBzcGhlcmUocik7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmUoeCwgeSwgeiwgciwgaCkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgaCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGUoeCwgeSwgeik7XHJcbiAgICAgICAgICAgIGNvbmUodi54LCB2LnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBib3goeCwgeSwgeiwgdywgaCkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoodywgaCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGUoeCwgeSwgeik7XHJcbiAgICAgICAgICAgIGJveCh2LngsIHYueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGN5bGluZGVyKHgsIHksIHosIHIsIGgpIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHIsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHgsIHksIHopO1xyXG4gICAgICAgICAgICBjeWxpbmRlcih2LngsIHYueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYW5lKHgsIHksIHosIHcsIGgpIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHcsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHgsIHksIHopO1xyXG4gICAgICAgICAgICBwbGFuZSh2LngsIHYueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIHNjYWxlKHMpIHtcclxuICAgICAgICBzY2FsZShzKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBtb2RlbChtb2RlbFJlZiwgbm9ybWFsTWF0KSB7XHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICBzY2FsZSgtMSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxNYXQpXHJcbiAgICAgICAgICAgICAgICBub3JtYWxNYXRlcmlhbCgpO1xyXG4gICAgICAgICAgICBtb2RlbChtb2RlbFJlZik7XHJcbiAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKHgsIHksIHopIHtcclxuICAgICAgICB0cmFuc2Zvcm0oeCwgeSwgeik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTM0REcmF3ZXI7XHJcbiIsImNsYXNzIHBTUmVjb3JkZXIge1xyXG4gICAgLyoqIEF1dG9tYXRpY2FsbHkgY2FsbGVkIEBzZWUgdGhlIGluc3RhbmNlIGF0IF9wU2ltdWxhdGlvbkluc3RhbmNlLnJlY29yZGVyICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5hbWUgICAgICAgICAgICAgPSAnQ2FudmFzLVJlY29yZGVyJztcclxuICAgICAgICB0aGlzLmlkICAgICAgICAgICAgICAgPSAwO1xyXG4gICAgICAgIHRoaXMucGl4ZWxEYXRhcyAgICAgICA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwKDYwLCAxMjAsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBdXRvbWF0aWNhbGx5IGNhbGxlZFxyXG4gICAgKiBAcGFyYW0gZHJhd2luZ0ZQUyBGUFMgb2YgdGhlIGZpbmFsIHZpZGVvXHJcbiAgICAqIEBwYXJhbSB3aWR0aCBXaWR0aCBvZiB0aGUgdmlkZW9cclxuICAgICogQHBhcmFtIGhlaWdodCBIZWlnaHQgb2YgdGhlIHZpZGVvXHJcbiAgICAqIEBwYXJhbSB1cGRhdGVGUFMgIEZQUyBmb3IgZXZlcnkgY2FsY3VsYXRpb25zIGRvbmUgb24gdGhlIHVwZGF0ZSgpIGxvb3BcclxuICAgICogQHBhcmFtIGZyYW1lQmxvY2tlciB0cnVlIGJ5IGRlZmF1bHQgOiB3aWxsIG1ha2Ugc3VyZSB2aWRlbyBpcyByZWFsbHkgdHVybmluZyBhdCBkcmF3aW5nRlBTXHJcbiAgICAqL1xyXG4gICAgc2V0dXAoZHJhd2luZ0ZQUywgd2lkdGgsIGhlaWdodCwgdXBkYXRlRlBTLCBmcmFtZUJsb2NrZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoICAgICAgICA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ICAgICAgID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucGl4ZWxEZW5zaXR5ID0gcGl4ZWxEZW5zaXR5O1xyXG4gICAgICAgIHRoaXMuZnJhbWVCbG9ja2VyID0gZnJhbWVCbG9ja2VyO1xyXG4gICAgICAgIHRoaXMuZHJhd2luZ0ZQUyAgID0gZHJhd2luZ0ZQUztcclxuICAgICAgICB0aGlzLnVwZGF0ZUZQUyAgICA9IHVwZGF0ZUZQUztcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgICAgICA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlICAgID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UmVsVCAgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdERyYXdUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3RhcnQgYSBuZXcgcmVjb3JkaW5nIHNlc3Npb25cclxuICAgICogQHBhcmFtIGRyYXdpbmdGUFMgRlBTIG9mIHRoZSBmaW5hbCB2aWRlbyAoZGVmYXVsdCA2MClcclxuICAgICogQHBhcmFtIHdpZHRoIFdpZHRoIG9mIHRoZSB2aWRlbyAoZGVmYXVsdCAxOTIwKVxyXG4gICAgKiBAcGFyYW0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdmlkZW8gKGRlZmF1bHQgMTA4MClcclxuICAgICogQHBhcmFtIHVwZGF0ZUZQUyAgRlBTIGZvciBldmVyeSBjYWxjdWxhdGlvbnMgZG9uZSBvbiB0aGUgdXBkYXRlKCkgbG9vcCAoZGVmYXVsdCAxMjApXHJcbiAgICAqIEBwYXJhbSBmcmFtZUJsb2NrZXIgd2lsbCBtYWtlIHN1cmUgdmlkZW8gaXMgcmVhbGx5IHR1cm5pbmcgYXQgZHJhd2luZ0ZQUyAoZGVmYXVsdCB0cnVlKVxyXG4gICAgKiBAcGFyYW0gY2xlYXJQaXhlbEFycmF5IHdpbGwgY2xlYXIgdGhlIGxhc3QgZGF0YXMgb2YgcHJldmlvdXMgcmVjb3JkaW5nIHNlc3Npb24gKGRlZmF1bHQgdHJ1ZSlcclxuICAgICovXHJcbiAgICBzdGFydChkcmF3aW5nRlBTID0gNjAsIHdpZHRoID0gMTkyMCwgaGVpZ2h0ID0gMTA4MCwgdXBkYXRlRlBTID0gMTIwLCBmcmFtZUJsb2NrZXIgPSB0cnVlLCBjbGVhclBpeGVsQXJyYXkgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5zZXR1cChkcmF3aW5nRlBTLCB3aWR0aCwgaGVpZ2h0LCB1cGRhdGVGUFMsIGZyYW1lQmxvY2tlcik7XHJcblxyXG4gICAgICAgIGlmIChjbGVhclBpeGVsQXJyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5waXhlbERhdGFzICAgICAgID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJpbmdUaW1lcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmlkKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCwgY2F1c2UgOiAnc3RhcnQnIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHJlc2l6ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQXV0b21hdGljYWxseSBjYWxsZWQgOiB0YWtlcyBhIHNuYXAgb2YgdGhlIGN1cnJlbnQgZGlzcGxheWVkIGltYWdlXHJcbiAgICAqIEBwYXJhbSBkdCBEdCBvZiB0aGUgcmVsYXRpdmUgdmlkZW8gdGltZVxyXG4gICAgKi9cclxuICAgIHNuYXBzaG90KGR0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcgfHwgdGhpcy5wYXVzZU1vZGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbG9hZFBpeGVscygpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZnJhbWVCbG9ja2VyKVxyXG4gICAgICAgICAgICB0aGlzLnBpeGVsRGF0YXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aW1lICAgIDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgIGR0ICAgICAgOiBkdCxcclxuICAgICAgICAgICAgICAgIGRhdGFVUkwgOiBjYW52YXMudG9EYXRhVVJMKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnBpeGVsRGF0YXMucHVzaChjYW52YXMudG9EYXRhVVJMKCkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogU3RvcCB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvblxyXG4gICAgKiBAcGFyYW0gZG93bmxvYWREYXRhcyAgIFN0YXJ0cyBhbiBhdXRvIGRvd25sb2FkIG9mIHRoZSBzZXNzaW9uIGRhdGFzIChkZWZhdWx0IHRydWUpXHJcbiAgICAqIEBwYXJhbSBjbGVhclBpeGVsQXJyYXkgV2lsbCBjbGVhciB0aGUgbGFzdCBkYXRhcyBvZiBwcmV2aW91cyByZWNvcmRpbmcgc2Vzc2lvbiBmb3IgbWVtb3J5IG9wdGltaXphdGlvbiAoZGVmYXVsdCB0cnVlKVxyXG4gICAgKi9cclxuICAgIHN0b3AoZG93bmxvYWREYXRhcyA9IHRydWUsIGNsZWFyUGl4ZWxBcnJheSA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzLnB1c2goeyB0IDogRGF0ZS5ub3coKSAvIDEwMDAgLSB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbMF0udCwgY2F1c2UgOiAnc3RvcCcgfSk7XHJcblxyXG4gICAgICAgIGlmIChkb3dubG9hZERhdGFzKVxyXG4gICAgICAgICAgICBzYXZlSlNPTih0aGlzLmdldERhdGFzVG9KU09OKCksIHRoaXMubmFtZSArICctJyArIHRoaXMuaWQgKyAnLmpzb24nKTtcclxuICAgICAgICBpZiAoY2xlYXJQaXhlbEFycmF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGl4ZWxEYXRhcyAgICAgICA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpbmRvd1Jlc2l6ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogUGF1c2UgdGhlIGN1cnJlbnQgcmVjb3JkaW5nIHNlc3Npb24gKi9cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyaW5nVGltZXMucHVzaCh7IHQgOiBEYXRlLm5vdygpIC8gMTAwMCAtIHRoaXMucmVnaXN0ZXJpbmdUaW1lc1swXS50LCBjYXVzZSA6ICdwYXVzZScgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVzdW1lcyB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvbiAqL1xyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmluZ1RpbWVzLnB1c2goeyB0IDogRGF0ZS5ub3coKSAvIDEwMDAgLSB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbMF0udCwgY2F1c2UgOiAncmVzdW1lJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgZGF0YXMgSlNPTiBmb3JtYXR0ZWQgdG8gYmUgZXhwb3J0ZWQgdG8gYSBKU09OIGZpbGUgKi9cclxuICAgIGdldERhdGFzVG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICA6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgICAgICAgOiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHBpeGVsRGVuc2l0eSA6IHRoaXMucGl4ZWxEZW5zaXR5LFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgc2V0IHRvICd2YXJpYWJsZScsIHBpeGVsRGF0YXMgaW5jbHVkZXMgY3VycmVudCBUaW1lIGFuZCBEZWx0YVRpbWUgZHQgaW4gZXZlcnkgaXRlbVxyXG4gICAgICAgICAgICAgICAgZHJhd0ZyYW1lQ291bnQgICA6IHRoaXMuZnJhbWVCbG9ja2VyID8gdGhpcy5kcmF3aW5nRlBTIDogJ3ZhcmlhYmxlJyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZyYW1lQ291bnQgOiB0aGlzLmZyYW1lQmxvY2tlciA/IHRoaXMudXBkYXRlRlBTICA6ICd2YXJpYWJsZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YXMgOiB7XHJcbiAgICAgICAgICAgICAgICB0aW1lcyA6IHtcclxuICAgICAgICAgICAgICAgICAgICByZWFsVGltZUxlbmd0aCAgOiB0aGlzLnJlZ2lzdGVyaW5nVGltZXNbdGhpcy5yZWdpc3RlcmluZ1RpbWVzLmxlbmd0aCAtIDFdLnQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9UaW1lTGVuZ3RoIDogdGhpcy5mcmFtZUJsb2NrZXIgPyAxL3RoaXMuZHJhd2luZ0ZQUyAqIHRoaXMucGl4ZWxEYXRhcy5sZW5ndGggOiAndmFyaWFibGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVPcGVyYXRpb25zICA6IHRoaXMucmVnaXN0ZXJpbmdUaW1lc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBpeGVscyA6IHtcclxuICAgICAgICAgICAgICAgICAgICBwaXhlbERhdGFzU2l6ZSA6IHRoaXMucGl4ZWxEYXRhcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxEYXRhcyAgICAgOiB0aGlzLnBpeGVsRGF0YXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTUmVjb3JkZXI7XHJcbiIsImltcG9ydCAnLi8uLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuaW1wb3J0ICcuLy4uL0FuaW1hdGlvbic7XHJcbmltcG9ydCAnLi9UZXh0JztcclxuXHJcblxyXG5jbGFzcyBwU1BvaW50IHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFBvaW50XHJcbiAgICAqIEBwYXJhbSB4IFggcG9pbnQgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHkgWSBwb2ludCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0gY29sb3IgZHJhd2luZyBjb2xvciBvZiB0aGUgcG9pbnRcclxuICAgICogQHBhcmFtIHBvaW50TmFtZSBuYW1lIG9mIHRoZSBwb2ludCAoaW4gTGFUZVgpXHJcbiAgICAqIEBwYXJhbSBwb2ludFNpemUgU2l6ZSBvZiB0aGUgcG9pbnQgKGRlZmF1bHQgNilcclxuICAgICogQHBhcmFtIHZlY3Rvck5hbWUgTmFtZSBvZiB0aGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBkcmF3T3JpZ2luVmVjdG9yIHRydWUgOiBkcmF3IHRoZSB2ZWN0b3IgZnJvbSB0aGUgb3JpZ2luIHRvIHRoaXMgcG9pbnRcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBjb2xvciA9ICd3aGl0ZScsIHBvaW50TmFtZSwgcG9pbnRTaXplID0gNiwgdmVjdG9yTmFtZSwgZHJhd09yaWdpblZlY3RvciA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IoeCwgeSwgY29sb3IsIHZlY3Rvck5hbWUpO1xyXG5cclxuICAgICAgICBpZihwb2ludE5hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZSA9IG5ldyBwU1RleHQocG9pbnROYW1lLCB0aGlzLnBvcywgMTgsIGNvbG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3T3JpZ2luVmVjdG9yID0gZHJhd09yaWdpblZlY3RvcjtcclxuICAgICAgICB0aGlzLnBvaW50U2l6ZSAgICAgICAgPSBwb2ludFNpemU7XHJcbiAgICAgICAgdGhpcy5wb2ludFNpemVEcmF3aW5nID0gcG9pbnRTaXplO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRQYWRkaW5nID0gMC40O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVcGRhdGVzIHRoZSBwb2ludFxyXG4gICAgKiBAcGFyYW0gZHQgRGVsdGEgdGltZSBzaW5jZSBsYXN0IHVwZGF0ZVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZShkdCkgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIHBvaW50IHRvIHRoZSBzY3JlZW5cclxuICAgICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuXHJcbiAgICAgICAgLy8gUE9JTlQgTE9DQVRJT05cclxuICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgLmZpbGwocGFyc2VJbnQodGhpcy5wb3MuY29sb3JbMF0gKiAwLjQpLCBwYXJzZUludCh0aGlzLnBvcy5jb2xvclsxXSAqIDAuNCksIHBhcnNlSW50KHRoaXMucG9zLmNvbG9yWzJdICogMC40KSlcclxuICAgICAgICAgICAgLm5vU3Ryb2tlKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgICAgIC5zdHJva2UodGhpcy5wb3MuY29sb3IpXHJcbiAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMS4xKVxyXG4gICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgO1xyXG5cclxuICAgICAgICAvLyBPUklHSU4gVkVDVE9SXHJcbiAgICAgICAgaWYodGhpcy5wb3MubmFtZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5kcmF3T3JpZ2luVmVjdG9yKVxyXG4gICAgICAgICAgICB0aGlzLnBvcy5kcmF3KCk7XHJcblxyXG4gICAgICAgIC8vIFBPSU5UIE5BTUVcclxuICAgICAgICBpZih0aGlzLnBvaW50TmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIHRoaXMudGV4dFBhZGRpbmcpO1xyXG4gICAgICAgIGlmKHRoaXMucG9zLm5hbWUgIT0gdW5kZWZpbmVkICYmIHRoaXMuZHJhd09yaWdpblZlY3RvciAmJiB0aGlzLnBvcy55IDwgMClcclxuICAgICAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIC10aGlzLnRleHRQYWRkaW5nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUuZHJhdyhkcmF3ZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1BvaW50O1xyXG4iLCJpbXBvcnQgJy4vLi4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcbmltcG9ydCAnLi8uLi9BbmltYXRpb24nO1xyXG5pbXBvcnQgJy4vVGV4dCc7XHJcblxyXG5jbGFzcyBwU1RyaWFuZ2xlIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBwMCBWZWN0b3IgdG8gdGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZVxyXG4gICAgKiBAcGFyYW0gcDEgVmVjdG9yIHRvIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIHAyIFZlY3RvciB0byB0aGUgdGhpcmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIGZpbGxDb2xvciBUaGUgdHJpYW5nbGUgZmlsbCBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlQ29sb3IgVGhlIHRyaWFuZ2xlIHN0cm9rZSBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFRoZSB0cmlhbmdsZSBzdHJva2VXZWlnaHQgKGRlZmF1bHQgMSlcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwMCwgcDEgPSBuZXcgVmVjdG9yKCksIHAyID0gbmV3IFZlY3RvcigpLCBmaWxsQ29sb3IgPSAnd2hpdGUnLCBzdHJva2VDb2xvciA9ICdub25lJywgc3Ryb2tlV2VpZ2h0ID0gMSkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMocDAsIHAxLCBwMik7XHJcblxyXG4gICAgICAgIC8vIENvbG9yc1xyXG4gICAgICAgIHRoaXMuZmlsbENvbG9yICAgID0gZmlsbENvbG9yO1xyXG4gICAgICAgIHRoaXMuc3Ryb2tlQ29sb3IgID0gc3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXZWlnaHQgPSBzdHJva2VXZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gcDAgVmVjdG9yIHRvIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgdHJpYW5nbGVcclxuICAgICogQHBhcmFtIHAxIFZlY3RvciB0byB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSB0cmlhbmdsZSAoZGVmYXVsdCBsYXN0IHBvaW50KVxyXG4gICAgKiBAcGFyYW0gcDIgVmVjdG9yIHRvIHRoZSB0aGlyZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgbGFzdCBwb2ludClcclxuICAgICovXHJcbiAgICBzZXRDb29yZGluYXRlcyhwMCwgcDEsIHAyKSB7XHJcbiAgICAgICAgdGhpcy5wMCA9IHAwIHx8IG5ldyBWZWN0b3IocDAueCwgcDAueSk7XHJcbiAgICAgICAgdGhpcy5wMSA9IHAxID09IHVuZGVmaW5lZCA/IHRoaXMucDEgOiBuZXcgVmVjdG9yKHAxLngsIHAxLnkpO1xyXG4gICAgICAgIHRoaXMucDIgPSBwMiA9PSB1bmRlZmluZWQgPyB0aGlzLnAyIDogbmV3IFZlY3RvcihwMi54LCBwMi55KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIGJhcnljZW50ZXIsIG9yIGNlbnRlciBvZiBtYXNzLiBUaGlzIGlzIHRoZVxyXG4gICAgICAgIC8vIHBvaW50IGFyb3VuZCB3aGljaCB0aGUgdHJpYW5nbGUgd2lsbCByb3RhdGUuXHJcbiAgICAgICAgdGhpcy5wRyA9IFZlY3Rvci5kaXYoVmVjdG9yLmFkZChWZWN0b3IuYWRkKHRoaXMucDAsIHRoaXMucDEpLCB0aGlzLnAyKSwgMyk7XHJcblxyXG4gICAgICAgIC8vIFRoZSB2ZWN0b3JzIHBvaW50aW5nIGZyb20gdGhlIGJhcnljZW50ZXIgdG8gUDAsIFAxXHJcbiAgICAgICAgLy8gYW5kIFAyLiBUaGV5IGFyZSB1c2VmdWwgd2hlbiByb3RhdGluZyB0aGUgdHJpYW5nbGUuXHJcbiAgICAgICAgdGhpcy52MCA9IFZlY3Rvci5zdWIodGhpcy5wMCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MSA9IFZlY3Rvci5zdWIodGhpcy5wMSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MiA9IFZlY3Rvci5zdWIodGhpcy5wMiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGVzIHRoZSB0cmlhbmdsZSBieSB0aGUgc3BlY2lmaWVkIGFuZ2xlLCBhcm91bmRcclxuICAgICogaXRzIGNlbnRlciBvZiBtYXNzLlxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW5nbGUgb2Ygcm90YXRpb25cclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnYwLnJvdGF0ZShhbmdsZSk7XHJcbiAgICAgICAgdGhpcy52MS5yb3RhdGUoYW5nbGUpO1xyXG4gICAgICAgIHRoaXMudjIucm90YXRlKGFuZ2xlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wMCA9IFZlY3Rvci5hZGQodGhpcy52MCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMSA9IFZlY3Rvci5hZGQodGhpcy52MSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMiA9IFZlY3Rvci5hZGQodGhpcy52MiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUcmFuc2xhdGVzIHRoZSB0cmlhbmdsZSBmcm9tIGl0cyBiYXJ5Y2VudGVyIGJ5IHRoZVxyXG4gICAgKiBzcGVjaWZpZWQgZGlzdGFuY2UgaW4gWCBhbmQgWS5cclxuICAgICogQHBhcmFtIHggVGhlIGRpc3RhbmNlIG9uIHRoZSBYIGF4aXMuXHJcbiAgICAqIEBwYXJhbSB5IFRoZSBkaXN0YW5jZSBvbiB0aGUgWSBheGlzLlxyXG4gICAgKi9cclxuICAgIHRyYW5zbGF0ZSh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhcclxuICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQodGhpcy5wMCwgbmV3IFZlY3Rvcih4LCB5KSksXHJcbiAgICAgICAgICAgICAgICBWZWN0b3IuYWRkKHRoaXMucDEsIG5ldyBWZWN0b3IoeCwgeSkpLFxyXG4gICAgICAgICAgICAgICAgVmVjdG9yLmFkZCh0aGlzLnAyLCBuZXcgVmVjdG9yKHgsIHkpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZXMgdGhlIHRyaWFuZ2xlIGZyb20gaXRzIGJhcnljZW50ZXIgYnlcclxuICAgICogdGhlIHNwZWNpZmllZCB2ZWN0b3IuXHJcbiAgICAqIEBwYXJhbSB2IFRoZSB2ZWN0b3IgdG8gdHJhbnNsYXRlIHRoZSB0cmlhbmdsZS5cclxuICAgICovXHJcbiAgICB0cmFuc2xhdGUodikge1xyXG4gICAgICAgIHRoaXMudHJhbnNsYXRlKHYueCwgdi55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFVwZGF0ZXMgdGhlIHRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0KSB7fVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhd3MgdGhlIHRyaWFuZ2xlIG9uIHRoZSBzY3JlZW4uXHJcbiAgICAqL1xyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBsZXQgZCA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICBpZih0aGlzLmZpbGxDb2xvciA9PSAnbm9uZScpXHJcbiAgICAgICAgICAgIGQubm9GaWxsKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkLmZpbGwodGhpcy5maWxsQ29sb3IpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnN0cm9rZUNvbG9yID09ICdub25lJylcclxuICAgICAgICAgICAgZC5ub1N0cm9rZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZC5zdHJva2UodGhpcy5zdHJva2VDb2xvcikuc3Ryb2tlV2VpZ2h0KHRoaXMuc3Ryb2tlV2VpZ2h0KTtcclxuXHJcbiAgICAgICAgZC5wdXNoKClcclxuICAgICAgICAgICAgLmJlZ2luU2hhcGUoKVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgICAgIC52ZXJ0ZXgodGhpcy5wMS54LCB0aGlzLnAxLnkpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDIueCwgdGhpcy5wMi55KVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgLmVuZFNoYXBlKClcclxuICAgICAgICAucG9wKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTVHJpYW5nbGU7XHJcbiIsIi8vID09PT09PT09PT0gUFNFTkdJTkUgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBDb3JlID09PT1cclxuaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9jb3JlL1NpbXVsYXRvcic7XHJcblxyXG4vLyA9PT09IERyYXdlciA9PT09XHJcbi8vIE9iamVjdHNcclxuaW1wb3J0IHBTUG9pbnQgICAgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9Qb2ludCc7XHJcbmltcG9ydCBwU1RleHQgICAgIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcbmltcG9ydCBwU1RyaWFuZ2xlIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVHJpYW5nbGUnO1xyXG5cclxuLy8gUm9vdFxyXG5pbXBvcnQgQW5pbWF0aW9uICBmcm9tICcuL2RyYXdlci9BbmltYXRpb24nO1xyXG5pbXBvcnQgcFNEcmF3ZXIgICBmcm9tICcuL2RyYXdlci9EcmF3ZXInO1xyXG5pbXBvcnQgcFMzRERyYXdlciBmcm9tICcuL2RyYXdlci8zRERyYXdlcic7XHJcbmltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5pbXBvcnQgVmVjdG9yICAgICBmcm9tICcuL3V0aWxpdGllcy9WZWN0b3InO1xyXG5pbXBvcnQgcFNSZWNvcmRlciBmcm9tICcuL3V0aWxpdGllcy9SZWNvcmRlcic7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBHTE9CQUwgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBEcmF3ZXIgPT09PVxyXG4vLyBPYmplY3RzXHJcbmdsb2JhbC5wU1BvaW50ICAgICA9IHBTUG9pbnQ7XHJcbmdsb2JhbC5wU1RleHQgICAgICA9IHBTVGV4dDtcclxuZ2xvYmFsLnBTVHJpYW5nbGUgID0gcFNUcmlhbmdsZTtcclxuXHJcbi8vIFJvb3RcclxuZ2xvYmFsLnBTQW5pbWF0aW9uID0gQW5pbWF0aW9uO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5nbG9iYWwuVmVjdG9yICAgICAgPSBWZWN0b3I7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBQU0VOR0lORSBMQVVOQ0ggPT09PT09PT09PVxyXG5pbXBvcnQgJy4vY29yZS9pbml0JztcclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9TaW11bGF0b3InO1xyXG5cclxuY2xhc3MgcFNFbmdpbmUge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0aWYod2luZG93LnA1ID09IHVuZGVmaW5lZClcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHQnWW91IG11c3QgaW1wb3J0IHA1LmpzIGluIG9yZGVyIHRvIHJ1biB0aGUgUGh5c2ljcyBTaW11bGF0aW9uIEVuZ2luZS4nLFxyXG5cdFx0XHRcdCdNb3JlIGluZm9ybWF0aW9ucyBvbiB0aGUgcDUgd2Vic2l0ZSBodHRwczovL3A1anMub3JnLy4nXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0Ly8gdXNlcyB0aGUgcDUgZnVuY3Rpb25zXHJcblx0XHR3aW5kb3cuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlID0gbmV3IHBTaW11bGF0b3IoKTtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmluc3RhbmNpYXRlKCk7XHJcblx0XHRcdHdpbmRvdy5wU0VuZ2luZSA9IHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRQU0VuZ2luZVZhcigpO1xyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iLCJpbXBvcnQgcFNFbmdpbmUgZnJvbSAnLi9tYWluJztcclxuXHJcbmNvbnN0IF9wU2dsb2JhbEVuZ2luZUluaXQgPSAoKSA9PiB7XHJcblx0bmV3IHBTRW5naW5lKCk7XHJcbn07XHJcblxyXG5jb25zdCB3YWl0Rm9yRG9jdW1lbnRSZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykgLy8gY29tcGxldGVcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlLCBmYWxzZSk7XHJcbn0pO1xyXG5cclxud2FpdEZvckRvY3VtZW50UmVhZHkudGhlbihfcFNnbG9iYWxFbmdpbmVJbml0KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9